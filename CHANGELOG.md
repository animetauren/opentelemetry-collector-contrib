<!-- This file is autogenerated. See CONTRIBUTING.md for instructions to add an entry. -->

# Changelog

<!-- next version -->
<<<<<<< HEAD

## v0.75.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `datadogexporter`: Graduate exporter.datadog.hostname.preview feature gate to Stable. (#20286)
- `pkg/ottl`: Add typed getter for `pcommon.map` and update related functions to use it. (#19781)
  Using the impacted functions, such as `keep_keys` or `replace_all_patterns`, without a `pcommon.map` will now result in an error. Only pass these function paths that result in a `pcommon.map` or set `ErrorMode` to `IgnoreError`.
- `pkg/ottl`: Updates `ConvertCase`, `ParseJSON`, `Split`, and `Substring` to use `StringGetter` (#19137)
  Affected components: `transformprocessor`, `filterprocessor`, `routingprocessor`.  It is HIGHLY recommended to use each component's `error_mode` configuration option to handle errors returned by these functions. 
  
- `pkg/ottl`: Adds new StringLikeGetter for converting values to string for use. (#19782)
  Concat now converts more types to string instead of ignoring them.  IsMatch now converts []byte to string using `hex.EncodeToString(v)`.

### ðŸš© Deprecations ðŸš©

- `datadogexporter`: Deprecate `metrics::histograms::send_count_sum_metrics` in favor of `metrics::histograms::send_aggregation_metrics`. (#20285)
  Toggling `metrics::histograms::send_count_sum_metrics` will now send .min and .max metrics when available.
  

### ðŸš€ New components ðŸš€

- `awss3exporter`: Add new AWS S3 exporter. (#9979)
- `servicegraphconnector`: Add servicegraph connector to the build. (#20452)

### ðŸ’¡ Enhancements ðŸ’¡

- `clickhouseexporter`: Insert instrumentation scope name and version to SpanAttributes column in traces table (#17408)
- `stanza`: Enhancement pkg/stanza/flatten to support resource and attributes (#20448)
- `azuredataexplorerexporter`: Migrate stablity to beta. All the dependent libraries have moved to beta. (#19161)
- `awsecscontainermetricsreceiver`: Add ServiceName from task metadata endpoint (#19728)
- `mdatagen`: Warnings can now be specified in metadata.yaml to be included in the generated status table. (#20242)
- `coralogixexporter`: Change coralogixexporter to default to gzip compression for logs and traces (#20337)
- `datadogexporter`: Adds support for span links (span links are added as metadata to the converted span). (#20286)
- `mdatagen`: Do not print "Supported pipeline types" in the generated status for extensions (#20236)
- `filereceiver`: Update file receiver to be able to replay metrics in time. (#14638)
- `googlecloudspannerreceiver`: adding table size statistics as metrics (#18689)
- `processscraper`: Introduced `mute_process_exe_error` and `mute_process_io_error` flags to allow scraping of all processes on Linux machines. (#18923)
- `attributesprocessor, resourceprocessor`: Add feature gate to support using SHA2-256 instead of SHA-1 for hashing (#4759, #5576)
  enable switching to use SHA-2 256 with the feature gate `coreinternal.attraction.hash.sha256`
- `translator/loki`: Normalize label names so they follow the Prometheus label names standard (#14113)
  Loki doesn't support label names containing dots. |
  Users had to convert dot-separated attributes into underscore-separated attributes before promoting them to Loki labels. |
  From now on users can drop relabeling from their configuration. All dots in label names will be replaced with underscores automatically before sending request to Loki.
  
- `mongodbatlasreceiver`: Add support to collect organization events. (#19449, #20308)
- `datadogexporter`: Send .min and .max metrics for delta OTLP Histograms and Exponential Histograms when `metrics::histograms::send_aggregation_metrics` is enabled. (#20285)
- `receiver/purefareceiver`: Add missing code snippet that validate the config file (#14886)
- `servicegraphprocessor`: Making cache and expire loop time configurable (#19639)
  add new config items(cache_loop, store_expiration_loop)
  
- `servicegraphprocessor`: Making peer attributes of virtual node building configurable (#20428)
  add new config items(virtual_node_peer_attributes: [db.name, rpc.service]) in Config:
- `solacereceiver`: Updated solacereceiver to handle new features of Solace PubSub+ 10.4.x (#20349)
- `sqlserverreceiver`: Adds support to collect metrics from a SQL Server that has a named instance. (#19140, #20247)
- `logicmonitorexporter`: adds support for traces. (#19646)
- `elasticsearchexporter`: Support Persistent queue for Elasticsearch exporter. (#19424)

### ðŸ§° Bug fixes ðŸ§°

- `coralogixexporter`: Correctly declare mutation capability in factory for all signal exporter. (#20292)
- `processor/metricstransform`: Preserve metric description while aggregating labels (#14577)
- `extension/sigv4authextension`: Don't panic if no credentials provider is set up. (#19796)
- `clickhouseexporter`: Fix clickhouse exporter default TTL settings. (#20302)
- `receiver/elasticsearchreceiver`: Fix bug - no nodeStatsMetrics for es version before 7.9 (#19389)
- `prometheusreceiver`: Update Prometheus dependency and disable newly-failing OpenMetrics compatibility tests (#20270)
  Prometheus now accepts exemplar data on all metric types, which causes OpenMetrics compatibility tests to fail.
  This change disables the negative tests relating to exemplar parsing.
  
- `processor/k8sattributes`: Fix image name parsing when repository name contains a port number. (#20239)
- `mongodbatlasreceiver`: Fix issue where default collection interval of 1 minute was too short to collect several metrics. (#18032)
  Default collection interval is now 3 minutes.
- `pkg/ottl`: Fix bug where StringGetter was not allowed in a slice as a function param. (#19783)
- `splunkhecexporter`: Make sure to not return an error if we are over capacity, just return that we cannot accept the event. (#20481)
- `signalfxexporter`: Fixes undesired default reporting of per-core system.cpu.time for idle states. (#20354)

## v0.74.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `k8sattributes`: Remove support of deprecated `pod_association` fields (#19642)
  Fields are now nested under the pod_association::sources
- `k8sattributes`: Remove support of deprecated options in extract.metadata field (#19438)
- `spanmetricsconnector`: Remove deprecated `latency_histogram_buckets` configuration parameter. (#19372)
  Use the `histogram` configuration section to provide buckets for
  explicit buckets histogram metrics. 
  
- `spanmetricsconnector`: Rename `latency` histogram metrics to `duration`. (#19214)

### ðŸš© Deprecations ðŸš©

- `spanmetricsprocessor`: Deprecate the `spanmetrics` processor in favour of the `spanmetrics` connector. (#19736)
  Please note that the `spanmetrics` connector contains breaking changes related to configurations
  metrics names and attributes. Please see the `spanmetrics` connector README for more information.  
  

### ðŸš€ New components ðŸš€

- `lokireceiver`: The Loki receiver implements the [Loki push api](https://grafana.com/docs/loki/latest/clients/promtail/#loki-push-api) as specified [here](https://grafana.com/docs/loki/latest/api/#push-log-entries-to-loki) (#18635)
- `cloudflarereceiver`: Adds support for receiving logs from Cloudflare's LogPush API. (#19201)
- `webhookeventreceiver`: New component wireframe for webhookeventreceiver (#18101)
- `spanmetricsconnector`: Add the `spanmetricsconnector` connector to build. (#18760)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/awsemfexporter`: Add ServiceName/service.name as a valid token replacement in log_stream_name (#16531)
- `azureeventhubreceiver`: Add the ability to consume Metrics from Azure Diagnostic Settings and convert them into OpenTelemetry Metrics (#18690)
- `mdatagen`: use metadata to generate status table (#19175)
  This change updates mdatagen to support auto-generation of the stability level table in the documentation. It also
  generates a generated_status.go file which contains the stability which is used in the factory of a component.
  
- `mdatagen`: Allow mdatagen to support components that do not produce metrics. (#19772)
  This allows us to define metadata.yaml files for components that don't generate metrics, specifically in support of generating the status table.
- `countconnector`: Add ability to count by attributes (#19432)
- `healthcheckextension`: Add `response_body` configuration option that allows specifying a specific response body (#18824)
- `k8sobjectsreceiver`: Enabling resource version filter on pull mode (#18828)
- `kubeletstatsreceiver`: Add support for `kubeConfig` auth_type in kubeletstatsreceiver (#17562)
- `translator/loki`: Loki add raw log export format (#18888)
- `clickhouseexporter`: Improve clickhouse DSN parsing (#18079)
  Improve clickhouse DSN parsing to support all possible configuration options and fixes TLS support.
- `routingprocessor`: Adds new `error_mode` configuration option that allows specifying how errors returned by OTTL statements should be handled. (#19147)
  If a condition errors when using `ignore` the payload will be routed to the default exporter.
- `spanmetricsconnector`: Set resource attributes for generated metrics. (#18502)
- `spanmetricsconnector`: Add optional `seconds` unit support for recording generated duration measurements. (#18698)
  The `unit` is configurable. The allowed values are `ms` and `s`.
  The default `unit` is `ms`.
  
- `splunkhecreceiver`: Appends query param (index, source, sourcetype, and host) for raw path (#19632)
- `splunkhecreceiver`: align error message with splunk enterprise to include No Data, Invalid Data Format, Event field is required, and  Event field cannot be blank (#19219)
- `reciver/statsdreceiver`: Metrics emitted by the statsd receiver are batched by source IP address, available in context. (#15290)

### ðŸ§° Bug fixes ðŸ§°

- `elasticsearchexporter`: roll back elasticsearch client to v7.17.7 due to incompatibility with older elasticsearch versions (#16310)
- `sqlqueryreceiver`: Don't panic when a query produces NULLs (#19177)
- `sentry/sentryexporter`: Fix `environment` configuration not being tracked properly on sentry. (#18694)
  For sentry export, the environment value should have been attached to transaction.
- `azuremonitorexporter`: Ensure that attributes for LogRecords are exported to Azure Monitor (#16557)
- `azuremonitorexporter`: Fix a bug that prevented integer NumberDataPoint metrics to be exported to Azure Monitor. (#18905)
- `azuremonitorexporter`: Ensure that resource attributes, instrumentation scope and cloud tags are exported to Azure Monitor for logs (#18525)
- `influxdbexporter`: include histogram min and max in InfluxDB/Telegraf Prometheus schemas (#16714)
- `influxdbexporter`: Fix exported histograms to be cumulative, Prometheus-style (#19453)
- `influxdbreceiver`: Test the InfluxDB write APIs with canonical client libraries (#5321)
- `influxdbreceiver`: Decompose Prometheus-style, cumulative histogram bucket counts (#19453)
- `receiver/elasticsearch`: Fix "no such index [_cluster]" error by adding "/nodes" to the ClusterStats request (#17867)
- `mongodbatlasreceiver`: Fixes issue where filestorageextension usage with the mongodbatlasreceiver would cause a race condition/timeout (#19434)
- `mysqlreceiver`: Adds a version check to make sure replica query is supported (#19469)
- `oracledbreceiver`: Update metric description and explain that unlimited translates to -1 (#19752)
- `signalfxexporter`: use a copy of system.cpu.time and system.paging.operations when splitting the metric, this will allow the user to send the original metric (#19743)
- `transformprocessor`: Fixes bug where the value for `error_mode` was ignored. (#19629)

## v0.73.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `googlecloudexporter`: Disable retry helper by default in GCP and GMP exporter configs. (#19203)
- `k8sattributesprocessor`: Remove `container.id` as default metadata given possible ambiguity matching a container run to a container ID (#16432)
- `pkg/ottl`: Ability to reference matched capture groups in `replace_pattern()` and `replace_all_patterns()` (#18610)
  This change affects all processors that use OTTL (i.e. `transformprocessor`, `routingprocessor`, and `filterprocessor`).
  This is a breaking change in the rare scenario that the `$` character is currently used in a replacement string.
  To output a literal `$` in a replacement string it must now be escaped with an additional `$`.
- `resourcedetectionprocessor`: Bump OpenShift semconv version from 1.16.0 to 1.18.0. (#19168)
  Rename google openshift platform attribute from google_cloud_openshift to gcp_openshift.
- `spanmetricsconnector`: Drop Prometheus-specific metrics labels sanitization. (#18678)
  The spanmeterics connector is the OTel component, therefore, we would
  like to strip Prometheus-specific parts from it. Metric names and attributes
  conversion to Prometheus conventions should happen in Prometheus components,
  e.g. Prometheus Remote Write exporter.
  

### ðŸš€ New components ðŸš€

- `filereceiver`: Add basic file reading capabilities to file receiver. Second PR. (#14638)
  This component is not yet enabled.

### ðŸ’¡ Enhancements ðŸ’¡

- `jmxreceiver`: Add the JMX metrics gatherer version 1.23.0-alpha to the supported jars hash list (#18888)
- `telemetrygen`: Add makefile targets and docker build for telemetrygen (#18835)
- `internal/filter`: Adds new `filterottl` package that enables filtering/matching using OTTL conditions. (#18930)
- `pulsarexporter`: Expose in configuration all Pulsar producer options (#19182)
- `receiver/splunkhec`: Adds sharedcomponent to Splunk HEC Receiver (#18734)
- `resourcedetectionprocessor`: Add support for detecting AWS Lambda resources. (#17584)
- `awscloudwatchlogsexporter`: Add the ability to export raw log to cloud watch (#18758)
  Add emf and raw log support for aws cloudwatch exporter.
- `awsemfexporter`: The AWS EMF exporter now supports the additional configuration flag `retain_initial_value_of_delta_metric`. With this flag active the first value of a metric is not discarded but instead sent to AWS. (#16218)
- `processor/tailsampling`: adds support for a BooleanAttribute PolicyType (#17545)
  enables use of boolean attrbiutes in defining tail sampling policies
- `pkg/stanza`: Add `header_delimiter` option to the `csv_parser`. (#18198)
- `datadogexporter`: Enable gzip compression for metric payloads submitted by native Datadog client (#17373)
- `hostmetrics`: Have the hostmetrics receiver file system scraper use more debug messages (#18236)
  Log a debug message instead of an error if the collector does not have the permissions to access a locked drive on the host. We do not want to log an error message on every poll for this case.
- `exporter/prometheus`: Produce exemplars for monotonic sum metrics (i.e. counters in Prometheus) when available (#18201)
  This could be a breaking change if you already have enabled OpenMetrics format for the Prometheus exporter and have enabled exemplar ingestion in your Prometheus scraper.  To ensure names and types are generated correctly according to the OpenMetrics conventions, you should run your collector with `--feature-gates=pkg.translator.prometheus.NormalizeName`
- `filelogreceiver`: Adds ability to parse a file header and parse it as metadata to decorate log entries. (#18198)
  This feature must be activated with the `filelog.allowHeaderMetadataParsing` feature gate.
- `filterprocessor`: Add `error_mode` configuration option that allows specifying how errors from OTTL conditions should be handled. (#19142)
- `receiver/purefareceiver`: Ensure a clear visualization for hosts scraper from Pure Storage FlashArray API (#14886)
- `k8sattributesprocessor`: e2e test support log data (#18392)
- `k8sattributesprocessor`: k8sattributesprocessor e2e tests support metric data type. (#18391)
- `k8sattributesprocessor`: Default `container.id` to latest instance unless `k8s.container.restart_count` is specified (#16432)
- `mdatagen`: Turn on the ability to enable/disable resource attributes by embedding MetricsSettings and ResourceAttributesSettings into all scraping receivers as MetricsBuilderConfig (#16373)
  Currently, the only way to add configurative functionality to mdatagen is by using a bunch of WithResourceAttributesSettings options to the constructor.
  This PR changes the first argument to the NewMetricsBuilder constructor to be of type MetricsBuilderConfig,
  which is a new class that wraps both MetricsSettings and ResourceAttributesSettings, and may be (hopefully) easily extended with more
  configuration in the future.
  
- `pkg/ottl`: Add Eval function to Statements (#18915)
- `Process Metrics for Mac`: Enabling process metrics to be collected for Mac in the hostmetrics receiver (#17863)
- `servicegraphprocessor`: servicegraph support virtual/peer node (#17196)
- `tailsamplingprocessor`: Add a max_spans configuration for the span_count policy of tailsamplingprocessor (#18215)
- `spanmetricsconnector`: Allow optional usage of Exponential Histograms when generating latency metrics. (#18528)
- `splunkhecexporter`: Allow merging metric events. (#11532)
- `filelogreceiver`: Support preserving whitespace for log entries (#18242)
- `awsemfexporter`: Support exporting quantile for summary metrics (#17265)
- `cmd/telemetrygen`: Initial implementation of `telemetrygen logs` subcommand for exporting log data (#12927)
- `transformprocessor`: Add error_mode configuration option that allows specifying how the processor should handle errors from statements. (#18693)
- `resourcedetectionprocessor`: Update Heroku mappings to match specification (#18872)
- `awsxrayexporter`: Allow additions of special attributes to the list of indexable attributes in the AWS X-Ray exporter when explicitly listed by the user (#19173)
- `awsxrayexporter`: Reformatted and improved accuracy of data captured in user agent string in the AWS X-Ray exporter (#18264)

### ðŸ§° Bug fixes ðŸ§°

- `bearertokenauthextension`: Allow bearertokenauthextension to pick updated token from bearertoken file for http requests (#17031)
- `cumulativetodeltaprocessor`: exclude the first point after a restart in monotonic sums (#17190, #18053)
- `datadogreceiver`: Fix misuse of span.Type and span.kind meta of dd spans. (#18190)
- `mongodbatlasreceiver`: Fixes issue where on a failed start we don't try to checkpoint with an unset storage client. (#19191)
- `fluentforwardreceiver`: Fix issue where the receiver was dropping errors returned by processors (#18860)
- `filelogreceiver`: Fixed a bug when delete_after_read was enabled partially read files would be deleted on collector shutdown. (#18926)
- `receiver/jaeger`: Fix translation of span status (#19171)
- `hostmetricsreceiver`: Fix `process.cpu.utilization` calculation by using individual `CPUUtilizationCalculator` instances per-PID. (#19119)
  Update `processscraper` to keep a map of PIDs to `CPUUtilizationCalculator`s, rather than using a single instance globally.
- `filterprocessor`: Fixes issue where errors in the filterprocessor might not be logged (#18862)
- `pkg/pdatautil`: Fix a potential panic that could occur while hashing nested maps. (#18910)
- `receiver_creator`: No longer attempt to add observer target to `endpoint` if underlying receiver config doesn't support it. (#7381)
  Also adds backticked expansion support for more config forms
- `transformprocessor`: Fixes a bug where the transformprocessor's errors failed to be logged. (#18859)
- `prometheusreceiver`: Validate that histograms include the inf bucket (#9384)

## v0.72.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `fluentbitextension`: remove deprecated extension (#18505)
- `all`: Remove go 1.18 support, bump minimum to go 1.19 and add testing for 1.20 (#18436)
- `pkg/ottl`: switch ErrorMode to be a string instead of an int (#18692)
- `hostmetricsreceiver`: Remove deprecated process memory metrics (#14327)
  The metrics `process.memory.physical_usage` and `process.memory.virtual_usage` have been deprecated since v0.64.0.
  They are now being removed. You should use the following metrics instead: `process.memory.usage`, `process.memory.virtual`.
  For details, see the [docs](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/v0.71.0/receiver/hostmetricsreceiver#transition-to-process-memory-metric-names-aligned-with-opentelemetry-specification).
  
- `promtailreceiver`: Promtail recevier is completely removed from the repository (#18474, #18493)
  Promtail receiver in its current implementation has a dependency on Loki that leads to a huge amount of |
  dependencies. It is getting difficult to maintain those dependencies. That's why the decision to |
  remove promtail receiver was made
  

### ðŸš© Deprecations ðŸš©

- `jaegerexporter, jaegerthrifthttpexporter`: marking jaeger exporters as deprecated (#18503)
- `promtailreceiver`: Deprecate promtail receiver (#18474, #18493)
  Promtail receiver in its current implementation has a dependency on Loki that leads to a huge amount of |
  dependencies. It is getting difficult to maintain those dependencies. That's why the decision to |
  deprecate and remove promtail receiver was made
  

### ðŸš€ New components ðŸš€

- `countconnector`: Add count connector to build (#18501)
- `forwardconnector`: Add forward connector to build (#18501)
- `servicegraphconnector`: Add preliminary implementation as a connector. (#18389)
- `spanmetricsconnector`: Add preliminary implementation as a connector. (#18535)

### ðŸ’¡ Enhancements ðŸ’¡

- `clickhouseexporter`: Add indexes for attributes on metric tables (#18221)
  Attributes are used for filtering. Adding indexes for them will speed up queries.
- `sentry/sentryexporter`: Add `environment` configuration option that allows specifying env for transaction. (#18694)
- `countconnector`: Add ability to count spans, span events, metrics, data points, and logs, based on ottl conditions. (#18687)
- `exporter/awscloudwatch`: Flush logs on the exporter shutdown (#18518)
- `resourcedetectionprocessor`: add host.id to system detector (#18533)
- `k8sattributesprocessor`: run tests on 4 latest k8s version (#18767)
- `filelogreceiver`: Added `max_batches` configuration parameter to limit the number of batches processed in a polling interval. (#18476)
- `filterprocessor`: Add new functions `HasAttrKeyOnDatapoint` and `HasAttrOnDatapoint` to allow existing expr matching logic with OTTL. (#16798)
- `processor/k8sattribute`: add more test cases for k8sattribute e2e (#18512)
- `k8sobjectsreceiver`: Ensure that the observed timestamp is set. (#18700)
- `k8sobjectsreceiver`: Improving watch mode reliability to handle recoverable issue such as API timeouts. (#18078)
- `k8sattributeprocessor`: Allow using k8s.pod.hostname to refer to pod.spec.hostname (#18494)
- `translator/loki`: Added default labels `job=service.namespace/service.name` and `instance=service.instance.id` to log record to send to Loki (#18500)
- `pkg/ottl`: Change typed getters to error on nil (#18735)
- `pkg/ottl`: Introduce the concept of type-specific Getters that help simplify type assertions in functions. (#18042)
- `pkg/ottl`: Add `NewStatements` func to enable creation of Statements structs. (#18385)
- `redactionprocessor`: Add IgnoreList to redaction processor (#18680)
- `translator/prometheusremotewrite`: Add metric name to error message when invalid (#18292)
  Exporter prometheusremotewrite doesn't support non-cumulative monotonic, histogram, and summary OTLP metrics.
  Added metric name to error message when the unsupported metrics get dropped.
  
- `spanmetricsprocessor`: Support set namespace for generated metric. (#18679)
- `awsxrayreceiver`: set `service.name` attribute (#18480)
- `signalfxexporter`: Add `exclude_properties` config option to filter dimension update property content (#18464)
- `snowflakereceiver`: updated README.md to include more detailed documentation. (#14754)
- `splunkhecexporter`: Reconnect when server returns 502/429 errors. (#18281)
- `pkg/stanza`: Reduced `Converter` memory footprint by condensing the `aggregationLoop` logic into `workerLoop`. (#18411)
- `telemetrygen`: Implement a simple metric generation command for telemetrygen (#17986)

### ðŸ§° Bug fixes ðŸ§°

- `coralogixexporter`: fix authentication issue when using coralogixexporter with only metrics or traces (#18096)
- `cumulativetodeltaprocessor`: Data points with the NoValueRecorded flag set are no longer considered in calculating deltas. (#18766)
- `awsecscontainermetricsreceiver`: Fix possible sig sev that could happen during component shutdown. (#18736)
- `clickhouseexporter`: Fix metric inserts results in empty entries (#18226)
- `exporter/awskinesis`: Restore Kinesis stream validation on the start (#18522)
- `datadogexporter`: Stop reporting the first cumulative monotonic sum value if the start timestamp of the timeseries matches its timestamp. (#18484)
- `oidcauthextension`: Fix case-sensitivity of authorization header (#18405)
- `oracledbreceiver`: record a value of -1 for `oracledb.tablespace_size.limit` if the max tablespace size is not set (#18670)
- `pkg/ottl`: Fix bug where an empty TelemetrySettings struct could result in a panic during condition checking (#18669)
- `spanmetrics`: Do not drop metric data points on attributes cache misses. (#18725)
- `statsdreceiver`: Ensure that the start timestamp and timestamp of successive data points for counters align. (#18470)

## v0.71.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `clickhouseexporter`: use endpoint instead of raw dsn in configuration. (#8028)
- `azureeventhubreceiver`: Switch default formatter from "raw" to "azure". (#16549)
- `elasticsearchreceiver`: Remove feature gates for index operations and cluster shards count (#14635)
- `humioexporter`: Remove deprecated humio exporter (#17013)
- `dockerstatsreceiver`: Removed the deprecated scraper implementation which was toggled by the featuregate `receiver.dockerstats.useScraperV2`. (#18449, #9794)
- `tracegen`: Removes tracegen tool now that trace functionality has been moved to telemetrygen. (#9597)
- `extension/jaegerremotesampling`: Remove misleading http endpoint from jaegerremotesampling extension. (#18058)

### ðŸš© Deprecations ðŸš©

- `servicegraphprocessor`: Deprecate unprefix label set (#18268)
- `signalfxexporter`: Deprecate config `translation_rules` in favor of metrics transform processor (#18218)

### ðŸš€ New components ðŸš€

- `haproxyreceiver`: Adds haproxy receiver to the components of the OpenTelemetry collector contrib distribution (#16829)
- `receiver/purefbreceiver`: Add a new receiver that scrapes metrics using Purestorage FlashBlade API (#17528)
- `datadog-receiver`: Allows you to ingest traces from DDAPM agents (#1852)
- `logicmonitorexporter`: Enable Logicmonitor Exporter (#13727)
- `filereceiver`: A receiver for reading the output of a File Exporter (#14638)
  This component is not yet enabled.
- `logicmonitorexporter`: Add implementation for Logicmonitor exporter (#13727)
- `sshcheckreceiver`: Add sshcheck - a receiver to remotely check SSH servers. (#14312)
  Check the availability of SSH and SFTP servers.
- `pkg/stanza`: Remove deprecated `adapter.Convert` and `adapter.ConvertFrom` functions. (#17429)

### ðŸ’¡ Enhancements ðŸ’¡

- `headerssetter`: Extend the headers setter extension with header modification actions. (#16581, #7596)
  Please update configurations to use the action that suits your requirements:
    - `insert`: Inserts the new header if it does not exist.
    - `update`: Updates the header value if it exists.
    - `upsert`: Inserts a header if it does not exist and updates the header
       if it exists.
    - `delete`: Deletes the header.
  The default action is `upsert`, however, in future versions, we'll require this
  to be explicitly set.
  
- `azureeventhubreceiver`: Add Azure Event Hub receiver to contrib components (#18208)
- `pkg/pdatatest`: Adds more test cases for traces (#18030)
- `azuremonitorexporter`: Adds metrics exporting (#14915)
- `datadogreceiver`: Adopting OTel apis for the Start and Stop limits (#18227)
- `datadogexporter`: Datadog trace exporter will now retry sending usage metrics when it fails (#18238)
- `datadogexporter`: Run API key validation on Datadog exporter in separate goroutine (#18238)
- `pkg/stanza/operator/transformer/recombine`: add a new "max_log_size" config parameter to limit the max bytes size of the combined field (#17387)
- `exporter/awsxray`: Adds `aws.xray.annotations` attribute to forward annotation keys from the AWS X-Ray receiver to the AWS X-Ray exporter. (#17550)
- `googlecloudexporter`: New release of GCP exporter (#18197)
  "Various features and bug fixes for the GCP exporter including:
  * Fix GetClientOptions conflicts with default credentials
  * Support multi-project quota usage
  * Include service attributes in logs exporter by default
  * Use a copy of shared log labels to prevent interference between LogRecords
  * Bump Cloud Trace libraries to support auto-retry on failures"
  
- `googlemanagedprometheusexporter`: Promote GMP exporter to beta (#18197)
- `http_forwarder`: Set factory stability level to beta. (#18100)
- `pkg/pdatatest`: Bring reported errors to a consistent state. (#18041)
- `signalfxexporter`: Avoid stringify every data point that does not match the filter. (#18274)
- `influxdbexporter`: update influxdb-observability and influxdbexporter, to better utilize InfluxDB/IOx (#18080)
- `influxdbreceiver`: routine update to dependency influxdb-observability for influxdbreceiver (#18080)
- `k8sattributesprocessor`: Add end to end test framework for Kubernetes related components (#15651)
- `k8sclusterreceiver`: Change internal metric store to use pdata (#18214)
- `mongodbatlasreceiver`: Adds Events API Logs Support (#18061)
- `signalfxexporter`: Move config validation to Validate (#18205)
- `cmd/otelcontribcol`: Change otelcontribcol and oteltestbedcol to use the builder (#11867)
- `pkg/pdatatest`: Ensure all pdata fields are checked. (#17865)
- `pkg/pdatatest`: Do not ignore timestamps implicitly, provide explicit options for that. (#17865)
- `haproxyreceiver`: Promote haproxy receiver to alpha (#18022)
- `splunkhecexporter`: Support exporting log body to raw Splunk HEC endpoint (#18056)
- `resourcedetectionprocessor/openshift`: Respect tls config when connecting to the api server. (#17961)
- `signalfxexporter`: Move initialization of the config defaults in Unmarshal. (#18207)
- `splunkhecexporter`: Expose HTTPClientSettings on splunkhecexporter (#16838)
- `awsemfexporter`: Instead of supply metric metadata and label for aws calculator, supply with aws metric key which consists of metric metadata and label (#17207)
- `datadogreceiver`: Adopting new Datadog Agent API levels (#18227)

### ðŸ§° Bug fixes ðŸ§°

- `clickhouseexporter`: Fix StartTime is not inserted for Gauge and Counter (#18220)
- `awscloudwatchreceiver`: Fixes issue where limit per discovery request could be configured to exceed API limitations. (#18293)
  The request now always sets a limit of 50
  
- `cumulativetodeltaprocessor`: exclude the first point even in monotonic metrics (#17190, #18053)
- `datadogexporter`: Fix a nil dereferencing bug on http response (#18099)
- `prometheusreceiver`: Fix bug in prometheus receiver that panics if no configuration is given. (#16538)
- `datadogexporter`: Fixed a bug where using multiple Datadog exporters with different API keys in separate pipelines could result in traces ending up in the wrong account. (#18233)
- `receiver/splunkhec`: Return 400 status code when nested indextime fields are present (#17308)
- `exporter/loki`: Do not retry on 4xx status code (excluding 429), as these are permanent errors (#18059)
- `mezmoexporter`: No longer require a specific path.  This will allow for compatibility with both log analysis and pipeline. (#18011)
- `servicegraphprocessor`: Fix cache cleanup in servicegraph proccesor to also purge stale series (#16262)
- `snmpreceiver`: Set StartTimestamp to scraper start time. (#17984)
- `snowflakereceiver`: added doc.go containing pragma for mdatagen (#17978)
- `spanmetricsprocessor`: Fix a flaky test caused by a race condition between WaitGroup completion and observed logs being written and flushed. (#18014)
- `splunkhecexporter`: Flatten nested attribute map before sending it to splunk as indexed fields. (#17308)
- `exporter/datadog`: Fix bug where ddtags are not set correctly when logs are batched. (#17398)
- `googlemanagedprometheusexporter` Fixed broken export on target_info and scope_info metrics for GMP. (#18468)

## v0.70.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `dockerstatsreceiver`: Transition the receiver.dockerstats.useScraperV2 featuregate to stable (#17509, #9794)
- `exporter/azuredataexplorer`: Changed the type of `Config.ApplicationKey` to `configopaque.String`. (#17273)
- `exporter/azuremonitor`: Changed the type of `Config.InstrumentationKey` to `configopaque.String`. (#17273)
- `exporter/coralogix`: Changed the type of `Config.PrivateKey` to `configopaque.String`. (#17273)
- `exporter/elasticsearch`: Changed the types of the `Config.{Password,APIKey}` fields to `configopaque.String`. (#17273)
- `exporter/influxdb`: Changed the types of the `Config.Token` and `Config.V1Compatibility.Password` fields to `configopaque.String`. (#17273)
- `exporter/instana`: Changed the type of `Config.AgentKey` to `configopaque.String`. (#17273)
- `exporter/logicmonitor`: Changed the type of `Config.APIToken.AccessKey` to `configopaque.String`. (#17273)
- `exporter/logzio`: Changed the type of `Config.Token` to `configopaque.String`. (#17273)
- `exporter/mezmo`: Changed the type of `Config.IngestKey` to `configopaque.String`. (#17273)
- `exporter/pulsar`: Changed the types of the `Config.Authentication.Token.Token` and `Config.Authentication.Athenz.PrivateKey` fields to `configopaque.String`. (#17273)
- `exporter/sapm`: Changed the type of `Config.AccessToken` to `configopaque.String`. (#17273)
- `exporter/tencentcloudlogservice`: Changed the type of `Config.SecretKey` to `configopaque.String`. (#17273)
- `exporter/alibabacloudlogservice`: Changed the type of `Config.AccessKeySecret` to `configopaque.String`. (#17273)
- `extension/basicauth`: Change `Config.Password` to use type `configopaque.String`. (#17273)
- `extension/bearertokenauth`: Change `config.BearerToken` to use `configopaque.String` type. (#17273)
- `extension/oauth2clientauth`: Change `Config.ClientSecret` to use the `configopaque.String` type. (#17273)
- `pkg/ottl`: Change signatures of ottl and all context Parsers to accept a list of Options. (#13759)
- `pkg/translator/prometheusremotewrite`: Remove deprecated in `0.45` `MetricsToPRW` function. (#17446)
- `spanmetricsprocessor`: Emits all metrics (whose dimension keys are cached) every configured duration (#15688, #15687, #16024)

### ðŸš© Deprecations ðŸš©

- `tracegen`: Deprecates tracegen, functionality has been moved to telemetrygen traces (#9597)

### ðŸ’¡ Enhancements ðŸ’¡

- `haproxyreceiver`: Add new metrics to the haproxyreceiver (#16829)
- `jmxreceiver`: Add the JMX metrics gatherer version 1.22.0-alpha to the supported jars hash list (#17831)
- `mongodbreceiver`: Add mongodb health/status metrics (#17021)
- `mdatagen`: Adds ability to enable/disable resource attributes in output and sets all existing resource attributes to enabled by default. (#16373)
  We may change NewMetricBuilder in the future from taking in ResourceMetrics to taking in a MetricsBuildingConfiguration,
  but for now changing the settings requires a call to WithResourceAttributeSettings.
  
- `internal/comparetest`: add support of traces for comparetest (#17414)
- `awsxrayexporter`: Add support to string resource attributes of type slice so that it is possible to set those resource attributes using the `OTEL_RESOURCE_ATTRIBUTES` environment variable. Strings are converted to string slices of size 1.
 (#17503)
- `internal/comparetest`: Add support for all metric types (#17538)
- `coralogixexporter`: improve coralogix exporter performance (#17268)
  improves coralogix exporter to send batched telemetry data to the backend
- `internal/comparetest`: Do not ignore order of any slices by default, use an options for that. (#17551)
- `mysqlreceiver`: add mysql.commands metric with supprot for delete, insert, select, update (#14138)
- `exporter/dynatrace`: Provide more logs on the results of metrics submissions (#15248)
- `prometheusremotewriteexporter`: Add support for converting OTLP Exponential Histograms to Prometheus Native Histograms (#16207)
- `pkg/pdatautil`: Export comparetest and pdatautil modules under github.com/open-telemetry/opentelemetry-collector-contrib/pkg (#17873)
- `clickhouseexporter`: export metrics to clickhouse (#16478)
- `mongodbatlasreceiver`: Adds `mongodbatlas.project.name` and `mongodbatlas.org.id` as polled alerts resource attributes (#17513)
- `filelogreceiver`: Add `delete_after_read` setting and associated `filelog.allowFileDeletion` feature gate. (#16314)
  If enabled, files will be consumed and then immediately deleted.
- `datadogprocessor`: Now that the Datadog processor is part of the official contrib distribution, it has been moved to the beta stability level. (#17862)
- `kafkareceiver`: Prevent offset commit failures and connection issues by ensuring that sessions are quickly completed after consumer group rebalances. (#17312)
- `lokiexporter`: Added QueueSettings validation into Config Validate method (#7841)
- `telemetrygen`: Moves tracegen functionality to the telemetrygen traces subcommand, as well as the existing Github actions (#9597)
- `pkg/ottl`: Add new `cache` path to all contexts which can be used as temporary cache during complex transformations (#16994)
- `pkg/pdatatest`: Metric support compare exemplar (#17580)
- `processor/probabilisticsampler`: Implement the FNV hash library for the probabilistic sampler. (#16456)
- `redisreceiver`: Add scraper shutdown with redis client close function to avoid redis client connection pool leaks (#17491)
- `resourcedetectionprocessor`: add openshift support (#15694)
- `snowflakereceiver`: added scraper and factory to snowflakereceiver (#14754)
- `internal/comparetest`: traces support IgnoreResourceAttributeValue compare option (#17588)
- `processor/transform`: Add substring function. (#17038)
- `processor/groupbyattr`: Improve performance by using map hashes for resource grouping (#17527)
- `windowseventlogreceiver`: Support sending the raw XML of the event (#17858)

### ðŸ§° Bug fixes ðŸ§°

- `receiver/purefareceiver`: Updating documentation to include required configuration fields. (#14886)
- `clickhousexporter`: Clickhouse string type cast function of insert flow changed because of missing span values. (#17834)
- `prometheusremotewriteexporter`: Export `_created` metric for Summary, Histogram and Monotonic Sum metric points if `StartTimeUnixNano` is set. (#17412, #12426)
  The export of tbe `_created` metric is configurable in the Prometheus remote write exporter. It is disabled by default.
- `clickhouseexporter`: Fix "no such host" error when the DSN hostname contains the database name (#16476)
- `oracledbreceiver`: the resource attribute `oracledb.instance.name` now captures the database name. (#17850)
- `signalfxexporter`: Make sure the metadata updater is tied to the exporter itself, so it can tack on the exporter lifecycle. (#17976)
- `mdatagen`: Fixing templateFS to work on windows systems (#17576)
  This fix will allow the command to work as a static binary without needing reference to the templates on disk.
  
- `pkg/ottl`: Fix issue where IsMatch returned an error if the target val was nil (#17572)
  - Affected components
    - `filterprocessor`
    - `routingprocessor`
    - `transformprocessor`
  
- `batchperresourceattr`: Optimize batch processor attribute and don't reset the caller's instance, instead make a copy of the original resource attributes (#17835)
- `receiver/prometheusreceiver`: Use `_created` metrics, if present, to set `StartTimeUnixNano` for Sum, Histogram and Summary metrics. (#12428)
  If the `_created` metric was present in the Histogram, Summary or Counter
  metric family, only then its values is used to set `StartTimeUnixNano` on the
  relevant OTLP metric and dropped afterwards. Otherwise, it is converted to the
  monotonic OTLP Sum metric.
  This behaviour is disabled by default. Use the `receiver.prometheusreceiver.UseCreatedMetric`
  to enable it.
  
- `exporter/prometheusremotewriteexporter`: Export exemplars for the Monotonic Sum metric. (#17573)
- `windowseventlogreceiver`: Fix panic that can occur when event is larger than current buffer size. (#17879)
- `windowseventlogreceiver`: Fixed a panic that could create an empty buffer due to incorrect use of unsafe pointers in syscall. (#17878)
  Fixed a potential panic due to a syscall indicating a that the event buffer should resize to 0. The next used of that resized buffer would result in an index out of bounds panic.
  
  Also, added a safety check for buffer resize cases that if the syscall indicates it needs the buffer size to be 0, an error will be returned.
  

## v0.69.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `apachereceiver`: Remove feature gates that enable sending server name and port as resource attributes. (#14791)
- `elasticsearchreceiver`: change feature gates for cluster health and index operations to beta (#14635)
- `resourcedetectionprocessor`: Remove deprecated gke/gce detectors, use gcp instead. (#10348)
- `extension/asapauth`: Change `Config.PrivateKey` to use the `configopaque.String` opaque type. (#17316)
- `processor/resourcedetectionprocessor`: Change `Config.Token` to use `configopaque.String` opaque type. (#17314)
- `googlecloudexporter`: Graduate exporter.googlecloud.OTLPDirect feature-gate to GA, and remove legacy exporter. (#17192)
- `exporter/datadog`: Change `Config.API.Key` to use `configopaque.String` opaque type. (#17296)
- `transformprocessor`: Remove deprecated config options.  Use `[trace|metric|log]_statements` instead. (#16773)

### ðŸš© Deprecations ðŸš©

- `mysqlreceiver`: remove mysql.commands metric (#14138)
- `hostmetricsreceiver`: Disable deprecated process memory metrics (#14327)
  The metrics `process.memory.physical_usage` and `process.memory.virtual_usage` are now disabled by default and will be removed in v0.72.0.
  As a replacement, the following metrics are now enabled by default: `process.memory.usage`, `process.memory.virtual`.
  For details, see the [docs](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/v0.68.0/receiver/hostmetricsreceiver#transition-to-process-memory-metric-names-aligned-with-opentelemetry-specification).


### ðŸ’¡ Enhancements ðŸ’¡

- `receiver/elasticsearch`: Add node version as a resource attribute (#16847)
- `hostmetricsreceiver`: Add a new optional metric `process.disk.operations` to the `process` scraper of the `hostmetrics` receiver. (#14084)
- `signalfxexporter`: Use configopaque for access_token field (#17294)
- `datadogexporter`: Update datadogexporter metrics export to use datadog-api-client-go instead of Zorkian by default (#16776)
  This is guarded by feature gate and can be disabled by adding CLI flag --feature-gates=-exporter.datadogexporter.metricexportnativeclient
- `internal/comparetest`: add golden functions ReadLogs, WriteLogs, CompareLogs (#10896)
- `haproxyreceiver`: Adds a new socket interface and CSV reader for haproxy stats (#16829)
- `resourcedetectionprocessor`: Add support to detect Heroku resources (#16833)
- `logstransformprocessor`: Lets the logs transform processor directly pass messags to next consumer, avoiding the timing issues it previously exhibited. (#16604, #15378, #9761)
- `mdatagen`: Add ability to specify additional warnings in metadata.yaml (#17180)
- `signalfxexporter`: Add all HTTP client settings to the SignalFx exporter configuration (#16807)
- `snowflakereceiver`: added client to snowflakereceiver (#14754)
- `snowflakereceiver`: added config to snowflakereceiver (#14754)
- `splunkhecexporter`: Use configopaque for token field (#17295)
- `xrayexporter`: Add Cloud Watch log group names from xray exporter config (#16939)
- `receiver/purefareceiver`: Add a relabel config for important default label names on FlashArray endpoints (#14886)

### ðŸ§° Bug fixes ðŸ§°

- `carbonreceiver`: Create the carbon receiver server when the `Start` method is called, and only close it if created. (#17404)
- `pkg/stanza`: Fix issue where glob could match directories (#16995)
- `kafkareceiver`: fix support of Kafka consumer offset autocommit config (#17374)
- `pkg/stanza`: Fix support of include/exclude patterns with "\" separators on Windows. (#14754)
- `awsemfexporter`: Ensure that the config.logger is not nil to avoid segfaults (#9978)
- `statsdreceiver`: Fix the statsdreceiver initialization to only create a server when `Start` is called. (#17402)
- `receiver/splunkhec`: Map HEC key fields to resource attributes correctly. (#13997)
- `otlpjsonfilereceiver`: Disregard empty resource logs, metrics or traces when reading from files. (#12603)
- `receiver/purefareceiver`: Set an explicit reload interval for all scrapers. (#16992)
- `servicegraphprocessor`: fix servicegraphprocessor concurrent map read and write (#16850)
- `filelogreceiver`: Truncate log entry if it is longer than `max_log_size` (#16487)
- `cmd/metadata`: Ensure template files are downloaded as part of the `go get` and embeded into the application (#17442)

## v0.68.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `splunkhecreceiver`: Delete the `path` key which is no longer in use and has been deprecated since September 2021. (#16999)
- `pkg/ottl`: Enforce functions used as a value to start with an uppercase letter and the statement's invocation to start with a lowercase letter. (#16718)

### ðŸš© Deprecations ðŸš©

- `humioexporter`: Humio now known as LogScale beginning with version 1.68 supports OTLP using HTTP and no longer requires a product specific exporter. (#17013)
  See https://library.humio.com/humio-server/endpoints.html

### ðŸš€ New components ðŸš€

- `haproxyreceiver`: A receiver scraping metrics from the HAProxy stats command. (#16829)
- `processor/datadogprocessor`: The Datadog Processor is used to compute pre-sampling APM Stats. (#15689)
  Use it to get full visibility into APM Stats in conjunction with the Collector's tail sampling processors.

### ðŸ’¡ Enhancements ðŸ’¡

- `jmxreceiver`: Add the JMX metrics gatherer version 1.21.0-alpha to the supported jars hash list (#17064)
- `hostmetricsreceiver`: Add a new optional metric `process.memory.utilization` to the metrics scraped by the `process` scraper of the `hostmetrics` receiver. (#14084)
- `mysqlreceiver`: add mysql.replica.time_behind_source and mysql.replica.sql_delay metrics (#14138)
- `elasticsearchreceiver`: Add additional node metrics around request cache and process stats (#16095)
- `datadogexporter`: Added support for consuming Datadog APM Stats as OTLP Metrics (usually generated by the datadogprocessor). (#16853)
- `googlecloudspannerreceiver`: Support for p50, p95 and p99 percentile latencies for queries and transactions. (#16429)
- `exporter/loki`: Added `InstrumentationScope` to log object (#16485)
- `exporter/loki`: Allow nested attributes to be used in labels (#16475)
- `mongodbreceiver`: Add mongodb metrics for operation latency and replication. (#16848)
- `oracledbreceiver`: Set OracleDB receiver as alpha, from in development. (#16843)
- `snowflakereceiver`: added metrics to snowflakereceiver (#14754)
  generated w/ mdatagen
- `pkg/ottl`: Add substring Converter, returns a substring from the given start index to the specified length. (#17038)

### ðŸ§° Bug fixes ðŸ§°

- `k8sobjects`: Fix empty `event.name` attribute when using watch mode (#16542)
- `logzioexporter`: Implemented `GetLevel` method for `go-hclog` logger (#17009)
- `oracledbreceiver`: Remove duplicate method to create default config. (#16997)
- `postgresqlreceiver`: Fix issue where WAL stats query was incorrectly coalescing intervals. (#16769)
- `splunkhecexporter`: Fix data race when gzip compression is enabled (#17083)
  Removed gzip writer pool and create a new one when needed.
- `splunkhecexporter`: Fix isssue where splunkhec exporter always returns over capacity error when compression is enabled and MaxContentLength is 0 (#17035)

## v0.67.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `apachereceiver`: turn on by default feature gates for server name and port resource attributes (#14791)
- `cumulativetodeltaprocessor`: Remove histogram feature gate. (#16720)
- `mysqlreceiver`: rename mysql.commands metric to mysql.prepared_statements (#14138)
  According to the documentation, the `Com_stmt_xxx` is related to prepared statements
  ref: https://dev.mysql.com/doc/refman/8.0/en/server-status-variables.html

- `mysqlreceiver`: rename mysql.commands metric to mysql.prepared_statements (#14138)
  Disable the `receiver.mysqlreceiver.renameCommands` feature gate to temporarily revert this change.
- `dockerstatsreceiver`: Enable the `receiver.dockerstats.useScraperV2` feature gate by default. (#16381, #9794)
  See the README for information on how to migrate.
  The featuregate can be disabled, but it will be removed in a future release.

- `coralogixexporter`: remove old jaeger based tracing client (#7931)
- `splunkhecexporter`: Remove all use of the name attribute from logs as it is deprecated. (#16611)

### ðŸš© Deprecations ðŸš©

- `servicegraphprocessor`: use prefix to distinguish dimensions from different span kind (#16002)
  The metrics label converts from dimensions specifying in the config will have a prefix to mark where are from.
  The `client_` prefix relates to the dimensions coming from spans with `SPAN_KIND_CLIENT`, and the `server_` prefix relates to the
  dimensions coming from spans with `SPAN_KIND_SERVER`. The old dimensions will be removed in the next release.


### ðŸš€ New components ðŸš€

- `receiver/promtailreceiver`: Add a new receiver that scrapes logs using Promtail client (#14632)
- `receiver/purefareceiver`: Add a new receiver that scrapes metrics using Purestorage FlashArray API (#14886)
- `logicmonitorexporter`: New exporter for exporting traces and logs to Logicmonitor Platform (#13727)

### ðŸ’¡ Enhancements ðŸ’¡

- `splunkhecexporter`: Add HEC health check before sending the data to Splunk (#16479)
- `jmxreceiver`: Add the JMX metrics gatherer version 1.20.1-alpha to the supported jars hash list (#16437)
- `hostmetricsreceiver`: Add a new optional metric `process.cpu.utilization` to the `process` scraper of the `hostmetrics` receiver. (#14084)
- `azureeventhubreceiver`: adds alternate log formatter that maps Azure log fields into OpenTelemetry attributes (#16283)
- `mysqlreceiver`: add mysql.connection.count metric (#14138)
- `elasticsearchreceiver`: add scraping metrics on cluster level (#14635)
  The receiver now emits jvm and cache eviction metrics on cluster level scraped from new endpoint /_cluster/stats.
- `influxdbexporter`: Add support for exporting to InfluxDB v1.X API (#16042)
- `vcenterreceiver`: Added `vcenter.vm.memory.ssdswapped` and `vcenter.vm.memory.swapped` metrics. (#16727)
- `filelogreceiver`: Promote component to Beta status (#15355)
- `probabilisticsamplerprocessor`: Add support for probabilistic sampling of logs (#9117)
- `cmd/mdatagen`: Add support for `resource_attributes::enum` field (#16464)
  `resource_attributes::enum` values in metadata.yaml are now properly supported in metrics builder developer interface.

- `cmd/mdatagen`: Improve generated documentation (#16556, #16563)
- `cmd/mdatagen`: Add a metadata.yaml option to specify a warning that will be shown in case if metric is enabled. (#16536)
- `kafkaexporter`: Allows for custom marshalers to be added in future releases (#14514)
- `oracledbreceiver`: Add oracledbreceiver implementation (config, scraper, db client) (#16043)
- `filterprocessor`: Adapt ottl configuration to same BoolExpr, remove duplicate code (#16446)
- `pkg/ottl`: Updates the IsMatch function to convert bools, ints, and floats to strings before matching. (#16503)
- `pkg/ottl`: Add new `merge` function to OTTL, which allows merging maps. (#16461)
- `pkg/ottl`: Add ability to negate conditions with the `not` keyword (#16553)
- `pkg/ottl`: Add new `ParseJSON` function that can convert a json string into `pcommon.Map`. (#16444)
- `internal/filter`: Change filter interface to be compatible with ottl (#16443)
- `receiver/awscontainerinsightreceiver`: Polish up awscontainerinsightreceiver README (#16378)
- `pkg/translator/loki`: Remove loki dependency, copy files from logproto (#16822)
  Files copied from github.com/grafana/loki/pkg/logproto to remove unnecessary dependencies.
  In logproto.pb.go I had to remove few types Query[Request|Response] and SampleQuery[Request|Response]
  and the gRPC service that uses them, because they depend on another loki package stats.

- `snmpreceiver`: Set component status to alpha (#16454)
- `solacereceiver`: Added baggage unmarshalling support (introduced in Solace PubSub+ Event Broker 10.2.1) (#16570)
- `solacereceiver`: Added configurable retry interval for flow control scenarios (#16570)
- `cmd/otelcontribcol`: Split cmd/otelcontribcol into a separate module, extract testbed in a separate module (#16715)
- `transformprocessor`: Add the `merge_maps` and `ParseJSON` functions. (#16551)
- `pkg/stanza`: Upgrade version of doublestar from v3 to v4 (#16528)
- `configschema`: add yaml generation command (#15231)

### ðŸ§° Bug fixes ðŸ§°

- `exporter/azuredataexplorerexporter`: Makes timestamp precision to nanos, updated azure-kusto-go to 0.9.2 (#16546)
- `cumulativetodeltaprocessor`: Updates histogram conversion logic to correctly remove Min and Max when a histogram is converted. (#16520)
- `datadogexporter`: Doesn't append duplicate ddtags on each log submission leading to 414 API errors. (#16380)
- `exporter/dynatrace`: Make sure the original metrics are not mutated (#16506)
- `elasticsearchreceiver`: fix the set of operations for which the data is fetched on index-level (#14635)
- `filterexpr`: Fixed filterexpr Matcher.MatchMetric to be thread-safe (#13573)
- `fileexporter`: Fix nil pointer in `fileexporter` when reusing configuration for multiple telemetry signals or pipelines. (#16733)
- `vcenterreceiver`: vcenter.vm.memory.ballooned is taken from vm.Summary.QuickStats.BalloonedMemory that is expressed MiBy, not By. (#16728)
- `servicegraphprocessor`: Fixes the number of bucket counts. (#16000)
- `prometheusexporter`: Make sure the exporter doesn't mutate metrics (#16499, #16572)
- `datadogexporter`: Suppress logs exporter payload dump to avoid filelogreceiver escape loop (#16380)
- `headerssetter`: Do not require the secure transport for the headers setter extension. (#16508)
- `exporterconfig`: The exporter config options should be HTTPS endpoint URL only (#14323)
- `pkg/translator/loki`: fix loki.resource.labels not working as expected (#15386)
- `cmd/mdatagen`: Rename metadata.yaml attribute field from `value` to `name_override` (#16561)
- `exporter/awsemfexporter`: Consider metric data type while grouping metrics (#16512)
- `exporter/awsemfexporter`: Export fields of MetricDescriptor to enable decoding (#16566)
- `awskinesis`: Fixed configuration issues not being correctly used. (#16259)
  -| - Fixed applying region to the kinesis exporter
- `pkg/ottl`: Add support for lists to be used as Getter values (#16320)
- `prometheusreceiver`: Fix prometheus receiver panic on shutdown (#16469)
- `exporter/instana`: Make sure the original traces are not mutated (#16505)
- `routingprocessor`: Fix bug in routing processor that prevented collector from starting if `from_attribute` is not provided with `OTTL` routing statements. (#16555)
- `tailsamplingprocessor`: When dealing with traces that have already been evaluated, use the final decision instead of trying using the individual decisions by the policies. (#14760)
- `processor/transform`: Fix issue where collector would panic under certain conditions if the transformprocessor was configured to transform span events. (#16622)
- `zipkinreceiver`: Fix zipkinreceiver panic on shutdown (#16471)

## v0.66.0

### ðŸ’¡ Enhancements ðŸ’¡

- `hostmetricsreceiver`: Add a new optional metric `process.signals_pending` to the metrics scraped by the `process` scraper of the `hostmetrics` receiver. (#14084)
- `splunkhecreceiver`: Add a healthcheck endpoint as part of the splunkhecreceiver. Just returns 200 for now if the receiver is running. (#15367)
- `filterprocessor`: Add ability to filter spans, span events, metrics, datapoints, and logs via OTTL conditions (#16369)
- `googlecloudspannerreceiver`: Configurably mask the PII in lock stats metrics. (#16343)
- `interna/coreinternal`: Split internal/coreinternal/processor into a separate internal/filter module (#16410)

### ðŸ§° Bug fixes ðŸ§°

- Fixes missed dependency updates in v0.65.0

## v0.65.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `mongodbreceiver`: Drop support for versions of MongoDB prior to 4.0 (#16182)
- `pkg/ottl`: Rename `ottldatapoints` to `ottldatapoint` (#16245)
- `pkg/ottl`: Rename `ottllogs` to `ottllog` (#16242)
- `pkg/ottl`: Renames `ottltraces` to `ottlspan` (#16241)
- `redisreceiver`: Support more metric label values for redis.cpu.time (#14943)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/loki`: Automatic mapping beetwen `LogRecord.SeverityNumber` to `LogRecord.Attributes["level"]` (#14313)
- `jmxreceiver`: Add the JMX metrics gatherer version 1.20.0-alpha to the supported jars hash list (#16356)
- `mongodbreceiver`: Add additional metrics for mongodb locks (#13661)
  Add additional metrics for locks.acquire_count, locks.acquire_wait_count, locks.deadlock_count, locks.time_acquiring_micros

- `elasticsearchreceiver`: add jvm heap percentage usage metric (#14635)
- `elasticsearchreceiver`: add missing data points for operation count and operation time (#14635)
- `elasticsearchreceiver`: add segment memory metric on node level (#14635)
- `elasticsearchreceiver`: Add cluster health metrics for two more shards types (#14635)
- `elasticsearchreceiver`: add document count metrics on index level (#14635)
- `elasticsearchreceiver`: add fielddata memory size metrics on index level (#14635)
- `elasticsearchreceiver`: Add query cache metrics on index level (#14635)
- `exporter/awsxrayexporter`: Favour semantic convention attributes for DynamoDB table name and messaging url when translating OTel data into X-Ray AWS data. (#16075)
- `azuremonitorexporter`: Support span and exception events (#16260)
- `datadogexporter`: Change log level for host metadata (#14186)
- `azureeventhubreceiver`: Mark the Azure Event Hub receiver as alpha. (#12786)
- `pkg/ottl`: Add ability to perform basic (+, -, *, and /) arithmetic operations on ints and floats.  Paths and Functions that return ints/floats are allowed. (#15711)
  Affected components
  - routingprocessor
  - transformprocessor

- `pkg/ottl`: Add support for setting Maps in Values.  This enables Contexts to set map values for attributes. (#16352)
- `prometheusreceiver`: Trim type's and unit's suffixes from metric name as per otel specs. (#8950)
  Can be enabled by the featuregate `pkg.translator.prometheus.NormalizeName`
- `pkg/ottl`: Remove duplicate parse IDs code, avoid coreinternal dependency (#16393)
  The "[trace|span]_id_string" func returns "000..000" string for invalid ids.
- `exporter/signalfxexporter`: Allow user to add a custom CA so the ingest and api clients can verify and communicate with custom TLS servers. (#16250)
  "`ingest_tls`" and "`api_tls`" can be used to set the absolute path to the CA file "`ca_file`".
  This is needed when the exporter is pointing to a TLS enabled signalfx receiver or/and TLS enabled http_forwarder
  and the CA is not in the system cert pool

- `pkg/stanza`: Support to Customize bufio.SplitFunc (#14593)
- `processor/transform`: Adds new configuration options that allow specifying the OTTL context to use when executing statements. See [Transform Processor README](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/transformprocessor#config) for more details. (#15381)
  The existing configuration options will be deprecated in a future release.

- `transformprocessor`: Added OTTL function ConvertCase into the Transform Processor (#16083)

### ðŸ§° Bug fixes ðŸ§°

- `receiver/jaeger`: Fix an error message in thrift HTTP message decoder (#16372)
- `spanmetricsprocessor`: Register `processor.spanmetrics.PermissiveLabelSanitization` featuregate, which was only defined but not registered. (#16269)
- `splunkhecexporter`: Apply max content length to compressed HEC content (#13995)
  The Splunk HEC exporter uses the unzipped content to check the size of the payload to send, instead of the compressed content.
  The max content length configuration should apply to the zipped content when compression is enabled.

- `receiver/hostmetrics`: Remove "Deprecated" label from network metrics (#16227)
  Replacement of the metrics was rejected some time ago, but the labels were not updated.

- `mongodbatlasreceiver`: Checks host and port before assigning attributes in `poll` mode (#16284)
- `datadogexporter`: Fixes crash when logging error on logs exporter (#16077)
- `pkg/ottl`: Fix list argument parsing when using internal arguments (#16298)
- `pkg/stanza, filelog, journald, windowseventlog`: Fix issue where specifying a non-existent storage extension caused panic during shutdown. (#16212)
- `pkg/stanza`: Fix severity range unmarshaling (#16339)
- `splunkhecexporter`: Do not log a warning on mapping empty metrics. (#3549)
- `exporter/datadog`: Fixes bug to append tags in attributes instead of replacing them, simplifies filelog receiver setup, and adds `otel_source` tag. (#15387)
- `processor/transform`: Fix issue where the metric context was using datapoint functions. (#16251)
- `vcenterreceiver`: collect VM may be panic nil pointer. (#16277)

## v0.64.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/stanza, filelog, journald, syslog, tcplog, udplog, windowseventlog, logstransform`: Remove ability to configure `converter`. (#15696)
  The design of the converter is opaque and its behavior may change in the future.
  Because of this, the `converter` settings are deemed unstable. The actual behavior of the
  converter remains unchanged, but will always use the former default values.

- `exporter/googlemanagedprometheusexporter`: Moved ClientConfig under MetricConfig, and added an option to change the default metric name prefix for advanced use cases. (#10543)
- `pkg/ottl`: Update `ExprFunc`, `Set`, and `Get` to all return errors. (#15649)
- `pkg/ottl`: Change Statement to use `Expr[K]` and `BoolExpr[K]` and for `Statement.Execute` to require `context.Context`. (#15709)
- `tanzuobservabilityexporter`: Add a new metric exporter config(app_tags_excluded) to exclude application resource attrs(application, service.name, cluster, shard) from the metric tags. Rename the config resource_attributes to resource_attrs_included. Build in-house logic in the tanzuobservability exporter and remove the usage of resourcetotelemetry. (#14733)

### ðŸš© Deprecations ðŸš©

- `hostmetricsreceiver`: Introduce renamed process memory metrics (#14327)
  This starts the process of phasing out incorrect metric names:

  - `process.memory.physical_usage`
  - `process.memory.virtual_usage`

  and replacing them with the names adhering to the semantic conventions:

  - `process.memory.usage`
  - `process.memory.virtual`

  At this stage, the new metrics are added, but they are disabled by default.
  See the "Deprecations" section of the Host Metrics receiver's README for details.


### ðŸ’¡ Enhancements ðŸ’¡

- `awsemfexporter`: Added a `log_retention` field to the config to specify log retention policy for a Cloudwatch Log Group (#15678)
- `translator/jaeger`: Add refType as attribute to link when translating Jaeger span references to OTEL. (#14465)
  The attribute is used to set the proper refType when translating back from OTEL to Jager.

  In the case of a span with multiple parents, which Jaeger supports, all the refType are properly translated.

- `apachereceiver`: add port resource attribute (#14791)
- `apachereceiver`: Extract server name as resource attribute (#14791)
  The feature is enabled through a feature gate and will be enabled by default in v0.65.
- `mysqlreceiver`: add more mysql metrics (#14138)
  - Add mysql.connection.errors metric (#14723)
  - Add mysql.mysqlx_connections metric (#14727)
  - Add mysql.joins metric (#14728)
  - Add mysql.table_open_cache metric (#14737)
  - Add mysql queries (all, client and slow) count metrics (#14738)
  - Add metrics based on events_statements_summary_by_digest table (#14770)
  - Add mysql.client.network.io metric (#14744)

- `elasticsearchreceiver`: Add metrics related to GET operations (#14635)
- `elastisearchreceiver`: Add new metrics related to segments, aggregated by all shards (#14635)
- `elasticsearchreceiver`: add store size metric for index level (#14635)
- `elasticsearchreceiver`: Add metrics related to merge operations with aggregated for all shards (#14635)
- `elasticsearchreceiver`: add translog metrics on index level (#14635)
- `hostmetricsreceiver`: Add new process metrics (#12482)
  Add `process.context_switches` and `process.open_file_descriptors` as process metrics. They are disabled by default.
- `metricstransformprocessor`: Add support for scaling histogram metrics (#15690)
- `datadogexporter`: Use minimum and maximum fields from delta OTLP Histograms and OTLP ExponentialHistograms when available. (#16048)
- `pkg/ottl`: Add `ConvertCase` OTTL function with `lower`, `upper`, `camel` and `snake` case options. (#15379, #16070, #16083)
- `pkg/ottl`: Add `parent_span_id.string` accessor. (#16041)
- `pkg/ottl`: Add new Span Event context to allow for efficient transformation of Span Event telemetry. (#14907)
- `pkg/stanza, filelog, journald, syslog, tcplog, udplog, windowseventlog, logstransform`: This component does not mutate data, but can be useful as a generic node in complex pipelines. (#15706)
- `pkg/stanza`: improve performance (#16028)
- `signalfxexporter`: Allow 2 additional metrics to be included when exporting to SignalFx, k8s.container.cpu_request and k8s.container.memory_request. (#16009)
- `hostmetricsreceiver`: Added `root_path` config option, allowing the user to specify where the host filesystem is. (#5879, #16026)
- `snmpreceiver`: adds integration tests for SNMP metric receiver (#13409)
- `snmpreceiver`: adds scraper for SNMP metric receiver (#13409)
- `spanmetricsprocessor`: Improve spanmetricsprocessor performance, reuse buffer to calculate key (#16033)
- `global`: Update gopsutil to 3.22.10 to return Windows partitions, regardless of errors (#14315)
- `hostmetricsreceiver/filesystem`: Add configuration option to track virtual partitions (#15680)

### ðŸ§° Bug fixes ðŸ§°

- `clickhouseexporter`: remove unnecessary function in trace table creation SQL (#15679)
- `elasticsearchexporter`: Fixed nil panic error when setting custom headers in elasticsearch exporter (#16017)
- `elasticsearchreceiver`: emit missing data points related to segments, aggregated by primary shards (#14635)
- `zipkinreceiver`: Fix invalid timestamps when using Zipkin V1 receiver (#15720)
- `kubeletstatsreceiver`: return an error if metadata containerID is empty and log a warning message (#16061)
  The kubelet apiserver /pod metadata endpoint might not have the containerID set for newly created containers.
  Mark these datapoints as failed and don't process them. The issue should be resolved on the nexy poll.


- `jaegertranslator`: For HTTP status codes in the 4xx range span status MUST be left unset in case of SpanKind.SERVER and MUST be set to Error in case of SpanKind.CLIENT. (#8273)
- `mezmoexporter`: Fix usage of HTTP client to honor settings (#15246)
  This change fixes mezmoexporter's usage of the user supplied HTTP client
  settings. Previously, the settings were ignored for every request.

- `vcenterreceiver`: Print the correct error message if VM fetch fails. (#15682)
- `vcenterreceiver`: Fix x509 with TLS.InsecureSkipVerify setting (#15701)

## v0.63.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `processor/cumulativetodelta`: Sets the `processor.cumulativetodeltaprocessor.EnableHistogramSupport` feature gate to enabled by default.  Histograms will be converted by default if they match include rules. (#15288)
- `pkg/ottl`: Renames accessor for instrumentation scope from `instrumentation_library` to `instrumentation_scope` to match documentation (#14933)
- `pkg/ottl`: Add lists to the OTTL grammar and change the function signature of `Concat`. (#13391)
  The following functions have changed:
  `keep_keys` now has a function signature of `keep_keys(target, keys[])`.
  `Concat` now has a function signature of `Concat(keys[], delimiter)`.

- `pkg/ottl`: Updates `ParseStatements` to return a `[]*Statement` instead of `[]Statement`. (#14911)
- `postgresqlreceiver`: Change postgresql.bgwriter.duration data type from int to double (#14725, #14972)
- `extension/headerssetter`: Remove deprecated `extension/headerssetter` module. (#13774)
  The `headerssetter` extension was superseded by `headerssetterextension`.
- `elasticsearchreceiver`: removing direction feature gate (#14955)
- `hostmetricsreceiver`: remove direction feature gate (#14959)
- `kubeletstatsreceiver`: remove direction feature gate (#14961)
- `memcachedreceiver`: removing direction feature gate (#14964)
- `vcenterreceiver`: removing direction feature gate (#14963)
- `zookeeperreceiver`: removing direction feature gate (#14962)
- `exporter/routingprocessor`: Rename OTTL `expression` configuration parameter of the routing table to `statement` to align with the OTTL naming. (#14950)
- `dockerstatsreceiver`: `container.cpu.usage.system` is no longer a default metric. Added more description for the metric. (#9794, #14558)
  Change is not breaking unless you are have enabled the featuregate `receiver.dockerstats.useScraperV2` and are using the specified metric.
- `processor/transform`: Convert the `keep_keys` and `Concat` functions to use list parameters and change the function signature of `Concat`. (#13391)
  The updated functions now have the following signatures:
  `keep_keys` now has a function signature of `keep_keys(target, keys[])`.
  `Concat` now has a function signature of `Concat(keys[], delimiter)`.


### ðŸš© Deprecations ðŸš©

- `exporter/influxdb`: change status to beta (#14098)
- `receiver/influxdb`: change status to beta (#14099)

### ðŸš€ New components ðŸš€

- `azureblobreciver`: Add a new component `azureblobreciver` (#8834)
  Add a new component `azureblobreceiver` that reads logs and traces from Azure Blob Storage
- `k8sobjectsreceiver`: Add a new k8sobjects receiver to collect(pull/watch) Kubernetes Objects (#14185)
- `httpcheckreceiver`: New HTTP Check receiver allows users to run synthethic checks from the collector (#10607)

### ðŸ’¡ Enhancements ðŸ’¡

- `oracledbreceiver`: Add metrics captured by this receiver (#13939)
- `hostmetricsreceiver`: Add a new metric `process.paging.faults` to the `process` scraper of the `hostmetrics` receiver. (#14084)
- `receiver/prometheusreceiver`: Append exemplars to the metrics received by prometheus receiver (#8353)
  Acknowledge exemplars coming from prometheus receiver and append it to otel format
- `azureblobreceiver`: Implementation of the component (second PR) (#8834)
- `azureeventhubreceiver`: Adds implementation of Azure event hub receiver for raw data (#12786)
- `bearertokenauthextension`: Allow bearertokenauthextension to support custom auth schemes apart from "Bearer" (#14771)
- `clickhouseexporter`: Add support export OTLP traces to ClickHouse (#8028)
- `mysqlreceiver`: add mysql.opened_resources metric (#14138)
- `receiver/mysql`: add metrics based on events_statements_summary_by_digest table (#14138)
- `mysqlreceiver`: add mysql.mysqlx_worker_threads (#14138)
- `receiver/statsdreceiver`: Add OTLP exponential histogram aggregator support for high-resolution histogram and timing metrics (#5742)
- `pkg/translator/loki`: Add support for formatting Loki log lines in logfmt format, toggled by providing `loki.format` hint. It can have value `logfmt` or `json`. JSON is default if no format hint is present. (#15351)
- `exporter/lokiexporter`: Add multi-tenancy support for Loki exporter via `loki.tenant` hint. (#14706)
- `pkg/translator/loki`: Add support for grouping Loki requests by attribute that is resolved from the `loki.tenant` hint. (#14706)
- `cmd/mdatagen`: Add ability to see if `enabled` option is overridden in user settings. (#15344)
- `oracledbreceiver`: Adds DML locks and transaction metrics to capture usage and limits (#13939)
- `pkg/ottl`: Add new Instrumentation Scope context to allow for efficient transformation of Instrumentation Scope telemetry. (#14892)
- `pkg/ottl`: Add new Metric context to allow for efficient transformation of metric telemetry. (#14895)
- `snmpreceiver`: adds SNMP config helper for SNMP Receiver metric scraper (#13409)
- `snmpreceiver`: adds otel metric helper struct for SNMP metric receiver scraper (#13409)
- `snmpreceiver`: changes the client of the SNMP metric receiver to only return data in its functions rather than try to process that data (#13409)
- `snmpreceiver`: changes the config of the SNMP Metric Receiver to have "`double`" as an option in place of "`float`" (#13409)
- `solacereceiver`: Updates Solace Receiver with a variety of improvements and fixes for compatibility with Solace PubSub+ Event Broker 10.2.0 (#15244)
- `syslogreceiver`: Added RFC 6587 Octet Counting and Non-Transparent-Framing support. (#8390)
- `elasticsearchexporter`: upgrade version of elasticsearch client to 8.4 (#15385)
- `dockerstatsreceiver`: Log warning when using ScraperV1, and add documentation for migrating from V1 to V2. (#9794, #14968)
- `windowsperfcountersreceiver`: Retry counter retrieval once, when error indicates possible rollover (#14343)

### ðŸ§° Bug fixes ðŸ§°

- `servicegraph`: Add servicegraph processor to component list (#14899)
  Bumps servicegraph stability to alpha
- `azuremonitorexporter`: Application Insights Severity Level mapping was incorrectly based on SeverityText which was unique for every language/SDK. (#15275)
  Application Insights Severity Level mapping was incorrectly based on SeverityText which was unique for every language/SDK. The mapping approach has been changed to analyze SeverityNumber, which is supposed to be common across languages/SDKs.
- `awscloudwatchreceiver`: Fix config validation for some named configurations. (#14952)
- `exporter/awsxrayexporter`: Fix an issue where the awsxrayexporter would not parse .Net stacktrace correctly. (#14780)
- `postgresqlreceiver`: Fix issue where WAL lag stats could cause panic (#14972)
- `prometheusremotewriteexporter`: Fix value of `+Inf` histogram bucket to be equal to total count (#4975)
- `prometheusreceiver`: Fix metrics being grouped into the same metrics family incorrectly (#13117)
- `spanmetricsprocessor`: Sets TraceID and SpanID fields in Exemplar type (as per the spec) and removes the use of FilteredAttributes to pass these values around. (#13401)
- `splunkhecexporter`: Skip `SummaryDataPoint.Sum` and `HistogramDataPoint.Sum` NaN values (#14877)
- `pkg/winperfcounters`: Fix testing with `-race` flag for winperfcounters package and winperfcounter based receivers (#10145, #10146, #10149, #10150)

## v0.62.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/ottl`: Enhance replace_all_patterns functions to take a new parameter that specifies whether the function applies to keys or values. (#12631)
- `pkg/ottl`: Unexports several types intended only for the package's grammar. (#14599)
- `pkg/ottl`: Changed Statement to be an interface with an `Execute` function. (#14869)
- `pkg/ottl`: Rename the `Queries` signal configuration field to `Statements` and remove the `ottlconfig` package. (#14680)
- `confmap/provider/s3provider`: Rename `s3mapprovider` to a `s3provider` making it consistent with other providers. (#14616)
- `processor/transform`: Rename the `queries` config key to `statements`. (#14680)

### ðŸš€ New components ðŸš€

- `oracledbreceiver`: Add a new Oracle DB receiver component collecting metrics by periodically querying the database. (#13939)
- `azuredataexplorer`: Adding a new exporter to OpenTelemetry that supports Metrics, Logs and Traces into Azure Data Explorer, a timeseries & analytics offering from Azure (#11830)
- `awscloudwatchreceiver`: Adds the `awscloudwatchreceiver` in an alpha state (#14449)
- `snmpreceiver`: adds the snmpreceiver metric receiver (#13409)

### ðŸ’¡ Enhancements ðŸ’¡

- `probabilisticsamplerprocessor`: add more mterics to probabilistic sampler for observ. (#13924)
- `mongodbatlasreceiver`: Safeguard against large amounts of alert emissions. (#14610)
- `bearertokenauthextension`: support reading tokens from file (#14325)
- `cumulativetodeltaprocessor`: Reduce memory consumption in cumulativetodeltaprocessor by removing unnecessary storage of metric identities. (#13751)
- `carbonexporter`: Change carbonexporter to use pdata, remove dependency on opencensus (#14589)
- `coralogixexporter`: Adds support for mapping application name and subsystem using Resource attributes (#14398)
- `mysqlreceiver`: add mysql.tmp_resources metric (#14138)
- `mysqlreceiver`: add mysql.locked_connects metric (#14138)
- `elasticsearchreceiver`: Add scraping index stats and generate search metrics (#14635)
- `pkg/telemetryquerylanguage`: Add the Int factory function to the transform processor (#11810)
- `exporters`: Use `BuildInfo.Command` for identifying the collector in some AWS exporter user agents. (#14719)
  Some exporters were using a build-time constant definition to change the identity of the collector binary in user agent strings.  These will now use the collector service's `BuildInfo.Command` value.
- `jaegerexporter`: Adds support for ValueTypeBytes to Jaeger's trace to jaegerproto translator. (#14574)
- `mongodbatlasreceiver`: Adds capability to retrieve alerts from the API rather than listening (#14121)
- `pkg/ottl`: Use generics to avoid context cast in getters and funcs. (#14482)
- `pkg/ottl`: Simplify parser creation logic. (#14601)
- `pkg/ottl`: Add new Resource context to allow for efficient transformation of resource telemetry. (#14887)
- `exporter/signalfxexporter/translation`: Drop datapoints that have more than 36 dimensions and log a message when agent is set to debug (#14625)
  Additionally, the metric and dimension validation failures are now logged in Debug instead of Warn
- `sigv4authextension`: Have "sts_region" default to "region" if not provided (#14573)
- `snmpreceiver`: adds the client for the snmpreceiver (#13409)
- `snmpreceiver`: adds the full configuration that the SNMP Receiver will use (#13409)
- `splunkhecreceiver`: Updates Splunk receiver http status codes in order to be compliant with SplunkCloud (#14469)
- `pkg/stanza`: `readerFactory` and  `Reader` use  `helper.Encoding` directly, no longer depends on `helper.Splitter` (#14593)
- `pkg/stanza`: `readerFactory` and  `Reader` use  `bufio.SplitFunc` directly, no longer depends on `helper.Splitter` (#14766)
- `pkg/stanza`: add splitter factory which return a split func (#14766)
- `exporter/awsxrayexporter`: Change the value of xraysegment.url from `dbConnectionString` to the span name. This makes the XRay segment timeline more informationally useful. (#14342)
  This change contravenes the AWS documentation for what values should go into this segment field.
- `pkg/translator/zipkin`: Change zipkin V1 conversion to use pdata. (#14592)
- `filterexpr`: Prevent the matcher from panicking (#13573)

### ðŸ§° Bug fixes ðŸ§°

- `clickhouseexporter`: Fix serviceName variable scope (#8028)
- `exporter/datadogexporter`: Fix an issue where the Datadog system metrics system.memory.{usage,total} would be incorrect in Kubernetes. (#14618)
- `mysqlreceiver`: Fix sql queries for scraping table and index metrics. (#14138)
- `fileexporter`: set rotation disabled by default (#14690)
- `fluentforwardreceiver`: added case to handle uint64 timestamp (#11435)
- `sqlqueryreceiver`: fix oracle db integration test (#12332)
- `prometheusreceiver`: changes to use the new scrape_configs endpoint in the target allocator to dynamically pull scrape configuration. (#14597)
- `saphanareceiver`: Fix incorrect use of units for saphana licenses metrics (#10565)
- `hostmetricsreceiver`: Allow to continue collecting partition information even if an error is returned (#14315)
  Log the error and continue if partition information, however incomplete, was provided.
- `kubeletstatsreceiver`: Fix use network io as network errors bug (#14318)

## v0.61.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `dockerstatsreceiver`: For V2 scraper implementation, change the defaults from emitting everything to a sensible set of defaults. (#9794, #14093)
  This is only breaking if you have explicitly enabled the featuregate `receiver.dockerstats.useScraperV2`.
- `dockerstatsreceiver`: Change 'stats' config key to 'metrics'. (#9794, #14184)
  Note: this is only breaking for those who have explicitly enabled the featuregate `receiver.dockerstatsd.useScraperV2`.
- `iisreceiver`: Emit metrics per-site and per-app-pool with new resource attributes. (#14448)
- `pkg/telemetryquerylanguage`: Unexport `BoolExpressionEvaluator`, `Literal`, `NewGetter`, and `NewFunctionCall`. (#13737)
- `mongodbatlasreceiver`: Retain actual raw log line as Body. The `raw` attribute is now removed. Use Body instead for the raw log line. (#14178)
- `mysqlreceiver`: The metrics are now being emitted with a resource attribute marking the endpoint of the database. (#14138)
- `pkg/ottl`: Rename `ParseQueries` to `ParseStatements` and rename `Query` to `Statement`. (#14444)
- `jaegerreceiver`: Remove remote sampling endpoint from the Jaeger receiver (#6633)
- `oteltransformationlanguage`: Renames ottldatapoints to ottldatapoints to better represent how the context is intended to be used. (#14384)
- `pkg/ottl`: Renames Telemetry Query Language to OpenTelemetry Transformation Language to avoid confusion with an analysis language. (#14150)
- `pkg/ottl`: Flattens ottlcommon and ottlotel into ottlfuncs. (#14386)
- `pkg/ottl`: Replaced Logger with TelemetrySettings (#14389)

### ðŸš© Deprecations ðŸš©

- `coralogixexporter`: deprecating jaeger based tracing configuration in favour of OpenTelemetry protocol based one. (#7931)
  Please remove the `endpoint` field and use the new `traces.endpoint` field with your OpenTelemetry endpoint.
- `elasticsearchreceiver, hostmetricsreceiver, kubelestatsreceiver, memcachedreceiver, vcenterreceiver, zookeeperreceiver`: Log message to announce `direction` attribute feature gate deprecation (#14129)
  The change to remove the `direction` attribute has been reverted in the specification. As a result, the following feature gates will be removed in v0.62.0:
  - `receiver.elasticsearchreceiver.emitMetricsWithDirectionAttribute`
  - `receiver.elasticsearchreceiver.emitMetricsWithoutDirectionAttribute`
  - `receiver.hostmetricsreceiver.emitMetricsWithDirectionAttribute`
  - `receiver.hostmetricsreceiver.emitMetricsWithoutDirectionAttribute`
  - `receiver.kubelestatsreceiver.emitMetricsWithDirectionAttribute`
  - `receiver.kubelestatsreceiver.emitMetricsWithoutDirectionAttribute`
  - `receiver.memcachedreceiver.emitMetricsWithDirectionAttribute`
  - `receiver.memcachedreceiver.emitMetricsWithoutDirectionAttribute`
  - `receiver.vcenterreceiver.emitMetricsWithDirectionAttribute`
  - `receiver.vcenterreceiver.emitMetricsWithoutDirectionAttribute`
  - `receiver.zookeeperreceiver.emitMetricsWithDirectionAttribute`
  - `receiver.zookeeperreceiver.emitMetricsWithoutDirectionAttribute`
- `extensions/headerssetter`: Deprecate the `extensions/headerssetter` module, use `extensions/headerssetterextenions` instead. (#13774)

### ðŸš€ New components ðŸš€

- `s3mapprovider`: A new implementation of ConfigMapProvider for Amazon S3 (s3mapprovider) allows OTEL Collector the ability to load configuration for itself by fetching and reading config files stored in Amazon S3. (#12939)

### ðŸ’¡ Enhancements ðŸ’¡

- `loki`: Split the conversion OTLP -> Loki into its own package (#13649)
- `kafkareceiver`: Add direct unmarshaler, inserting Kafka payload bytes as the body of a log record (#13252)
- `apachereceiver`: The receiver now supports 6 more metrics, more information in the linked issue. (#14095)
- `datadogexporter`: Add logs support (#2651)
- `datadogexporter`: The "hostmetrics" receiver metrics are now correctly mapped to Datadog system metrics. (#14005)
- `fileexporter`: support for compressing the telemetry data before exporting. (#13626)
- `fileexporter`: support for encoding telemetry data using proto marshaler (#13626)
- `googlecloudspannerreceiver`: Fixed errors when transaction-stats columns are NULL (#14189)
- `cumulativetodeltaprocessor`: Reduce memory consumption of histograms in cumulativetodeltaprocessor by allocating only a single identity per datapoint. (#13751)
- `chronyreceiver`: Improved chronyreceiver's context and timeout handling (#14131)
  Updated chronyreceiver to use `net.Dialer.DialContext` and respect timeouts more closely
- `filterspan`: Add span kind filtering. (#13612)
- `mysqlreceiver`: The receiver now scraper 16 new metrics related to io_waits. (#14138)
- `filelog`, `journald`, `syslog`, `tcplog`, `udplog`, `windowseventlog`: Allow 'parse_to' fields to accept 'attributes' and 'resource' (#14089)
- `sentryexporter`: Make sentry status more detailed - use HTTP and Grpc codes from tags (#13407)
- `routingprocessor`: Add support for using OpenTelemetry Transformation Language (OTTL) expressions as routing conditions. (#13158)
- `transformprocessor`: Add `Split` function, which separates a string by the delimiter and returns an array of substrings. (#11790)
- `pkg/winperfcounters`: Add counter path to error if scraping fails (#14443)

### ðŸ§° Bug fixes ðŸ§°

- `awsemfexporter`: Fix regression that causes null dimensions to be appended during dimension roll up. (#14532)
- `k8sprocessor`: check every association for eventual update (#13119)
- `sentryexporter`: Omit empty parent span id (#13415)
- `pkg/ottl`: Replace invalid comparison print statement with a debug log entry (#14467)
- `servicegraphprocessor`: Fixed metric names to match the specification. (#14187)
- `hostmetricsreceiver`: On Windows systems, do not fail to start if a performance counter is missing or inaccessible. (#14032)
- `loki`: Fix converting log resources to loki labels for more than one log record. (#14288)
- `mongodbatlasreceiver`: Fix timestamp parsing for mongodb 4.2 audit logs (#14168)
- `mongodbatlasreceiver`: Add missing fields for audit logs (#14177)
- `mongodbatlasreceiver`: Fix potential infinite loop when scraping audit logs (#14169)
- `otlpjsonfilereceiver`: logs receive operations should use StartLogsOp/EndLogsOp (#14535)
- `pkg/translator/prometheus`: do not normalize metric name with colon (#14135)

## v0.60.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/stanza`: Change name of ParserConfig.Config to more specific ParserConfig.SeverityConfig (#14126)
- `pkg/stanza/adapter`: Remove `OperatorConfigs` type, rename `LogReceiverType.DecodeInputConfig` to `LogReceiverType.InputConfig`. (#14078)
- `postgresqlreceiver`: The receiver will now emit resource attributes via default. (#13811)
  old behavior can be established by setting the featuregates `receiver.postgresql.emitMetricsWithResourceAttributes` to false and `receiver.postgresql.emitMetricsWithoutResourceAttributes` to true

- `k8sattributesprocessor`: Change the way how `key_regex` setting is handled. After this change, provided expressions are applied to the full length of attribute values. (#9716)
- `pkg/telemetryquerylanguage`: Add ability to specify attribute keys in the `limit` function that aren't allowed to be dropped (#9734)
  This breaking change affects the transform processor since we don't have a way to default values in a function call.

### ðŸš© Deprecations ðŸš©

- `exporter/influxdb`: Change status to unmaintained (#14098)
- `receiver/influxdb`: Change status to unmaintained (#14099)

### ðŸš€ New components ðŸš€

- `instanaexporter`: Enable Instana exporter (#13395)
- `servicegraph`: Add traces processor that builds a map representing the interrelationships between various services in a system (#9232)

### ðŸ’¡ Enhancements ðŸ’¡

- `elasticsearchreceiver`: Add additional node metric for cache count (#14027)
- `pkg/telemetryquerylanguage`: Add `Concat`, which allows concatenating an arbitrary number of strings with a delimiter (#12476)
- `processor/filter`: Added ability to filter by metric type using expression `MetricType` keyword. (#14107)
- `elasticsearchreceiver`: Add additional two cluster-level metrics (#13748)
  Add additional cluster metrics for elasticsearch.cluster.in_flight_fetch & elasticsearch.cluster.pending_tasks.

- `dockerstatsreceiver`: Simplify BlockIO metrics by taking operation out of the metric name and putting it in an attribute. (#9794, #13445)
- `elasticsearchreceiver`: Added `node.fs.disk.{free,total}` to elasticsearch receiver (#13571)
- `elasticsearchexporter`: Support sending OpenTelemetry tracing data to Elasticsearch index or data stream. (#12069)
- `elasticsearchreceiver`: Adds new method Version in the client request to get the elasticsearch version number (#14012)
- `fileexporter`: Support for rotation of telemetry files (#13626)
- `processor/filer`: Add support for ExponentialHistogram and Summary metrics (#14116)
- `receiver/k8scluster`: Moving initialization of k8s client from receiver init to receiver start phase. (#12582)
- `lokiexporter`: Overhaul of the Loki Exporter, in preparation for native OTLP support at Loki (#12873)
- `awskinesisexporter`: Upgrading client to use v2 of the AWS SDK (#13898)
- `prometheusreceiver`: Remove storing pointers to pdata points, allow removing unnecessary pdata points copy. (#13922)
- `sigv4authextension`: Add more context to credential errors generated by the sigv4auth extension. (#14031)
- `tailsampling`: Add support for all sampling policies in and & composite policy (#11505)
- `pkg/telemetryquerylanguage`: Add a Logger interface and allow it to be specified as an argument type in TQL functions. (#9730)
- `telemetryquerylanguage`: Adds inequality operators `<`, `<=`, `>=`, `>` to TQL. (#12491)
- `telemetryquerylanguage`: Add the Int factory function. (#11810)
- `telemetryquerylanguage`: Add split factory function to separate a string by the delimiter, and returns an array of substrings. (#11790)
- `processor/transform`: Add `Concat`, which allows concatenating an arbitrary number of strings with a delimiter (#12476)

### ðŸ§° Bug fixes ðŸ§°

- `hostmetricsreceiver`: Set process metrics start time to process create time (#11447)
- `awsemfexporter`: Properly handle empty dimension set in metric_declarations (#13766)
- `clickhouseexporter`: cast FlagsStruct into uint32 in ExecContext to fix export failure (#13843)
- `k8sprocessor`: fix the passthrough mode (#13765)
  Treating k8s.pod.ip resource attribute in special way, as it is added by passthrough mode
- `elasticsearchreceiver`: Fix issue where `elasticsearch.os.*` metrics were not being collected (#13983)
- `elasticsearchreceiver`: Fix issue where `elasticsearch.node.script.*` metrics were not being collected (#13983)
- `elasticsearchreceiver`: Fix issue where `elasticsearch.node.translog.*` metrics were not being collected (#13983)
- `elasticsearchreceiver`: Fix issue where `elasticsearch.cluster_state.*` metrics were not being collected (#13930)
- `elasticsearchreceiver`: Fix issue where `elasticsearch.node.shards.data_set.size` emits 0 value for unsupported version (#14012)
- `elasticsearchreceiver`: Fix elasticsearch.node.disk.io.read/write metrics from By to KiBy (#13815)
- `elasticsearchreceiver`: Fix issue where `elasticsearch.indexing_pressure.memory.limit` emits 0 value for unsupported version (#14012)
- `elasticsearchreceiver`: Fix issue where `elasticsearch.cluster.state_update.time` emits attributes pairs that don't exist (#13984)
- `awsxrayexporter`: Fixes a bug in the logic for parsing CloudWatch Log Group ARNs (#13702)
- `loadbalancingexporter`: Fixed the case in loadbalancingexporter where a DNS resolver is defined without an explicit Port. (#10321)
- `k8sattributesprocessor`: k8sattributesprocessor now correctly adds attributes to new pods that start after the collector (#13619)
- `tailsamplingprocessor`: Fixes SpanCount sampler not using the correct span count for decision. (#13865)
- `filelogreceiver`: Fix issue for missing `key_value_parser` operator (#13631)
- `mongodbatlasreceiver`: fix log parsing for clusters using major version 4.2 (#14008)
- `chronyreceiver`: When trying to read from socket, the socket type was incorrect (#13862)
- `postgresqlreceiver`: Uses the postgres databasename when retrieving database inventory information (#13641)
- `prometheusreceiver/prometheusremotewriteexporter`: Leave the sum unset in histograms without sums, and don't produce _sum metric points for histograms without sums (#7546)
- `processor/redaction`: Update redaction attributes in case if data sent through the processor more than once, not not ignore them. (#13854)
- `chloggen`: changelog generation tool moved to https://github.com/open-telemetry/opentelemetry-go-build-tools (#14022)
- `exporter/AlibabaCloudLogServiceExporter`: Fix issue that promethus occuring error when the resource metric labels contains dot (#3429)
- `exporter/tanzuobservabilityexporter`: This change causes tanzuobservabilityexporter to depend on 0.10.4 of the
wavefront-sdk-go library.
 (#13417)
- `transformprocessor`: Fixes panic of transformprocessor handling Gauge types (#13905)
- `vcenterreceiver`: Fix incorrect KBy and MBy units, updating them to KiBy and MiBy (#13935)

# v0.59.0

## ðŸ›‘ Breaking changes ðŸ›‘
- `elasticsearchreceiver`: Remove direction for metrics. The feature gate: receiver.elasticsearchreceiver.emitMetricsWithoutDirectionAttribute can be set to apply the following (#13258) (#12189)
  - `elasticsearch` metrics:
    - `elasticsearch.node.cluster.io` will become:
      - `elasticsearch.node.cluster.io.received`
      - `elasticsearch.node.cluster.io.sent`
- `kubeletstatsreceiver`: Remove direction for metrics. The feature gate: receiver.kubeletstatsreceiver.emitMetricsWithoutDirectionAttribute can be set to apply the following (#12588) (#12164)
  - `kubeletstats` metrics:
    - `k8s.node.network.io` will become:
      - `k8s.node.network.io.transmit`
      - `k8s.node.network.io.receive`
    - `k8s.node.network.errors` will become:
      - `k8s.node.network.errors.transmit`
      - `k8s.node.network.errors.receive`
- `processor/metricstransform`: Remove `processor.metricstransformprocessor.UseOTLPDataModel` feature flag. OpenCensus-based implementation is not available anymore.
 (#13405)
- `exporter/mezmoexporter`: This change removes the hardcoded "otel" hostname that was embedded
in outgoing logs data.
 (#13410)
  It is replaced by:

    1. Sending to a new collector endpoint that does not require the
    hostname parameter.

    2. Recognizing the "host.name" resource attribute and using that
    value to fill in log metadata recognized upstream.

    This is a breaking change, and as such will generate a startup
    error if the exporter is configured to send to an endpoint that
    does not support this feature.
- `filelog, journald, otlpjsonfile, syslog, tcplog, udplog, windowseventlog receivers`: Remove `helper.Duration` struct. Configured time values no longer have a default unit of `s` (#13439)
- `pkg/stanza`: Remove HostIdentifier, HostIdentifierConfig and associated functions (#13396)
- `filelog, journald, syslog, tcplog, udplog, and windowseventlog receivers`: Fix a bug where original severity text was not preserved. (#13263)
- `pkg/stanza`: Update function and struct names in keyvalue parser (#13418)
- `cmd/mdatagen`: Remove old metadata generator (#13374)

### ðŸš© Deprecations ðŸš©
- `jaegerreceiver`: Add remote sampling deprecation warning (#6633)

### ðŸš€ New components ðŸš€
- `pulsarreceiver`: Add Apache Pulsar receiver (#9796)
- `instanaexporter`: Add Instana exporter implementation (#13395)
- `instanaexporter`: Add initial structure of the Instana exporter (#13395)

### ðŸ’¡ Enhancements ðŸ’¡
- `loadbalancingexporter`: Added `interval` and `timeout` to the dns configuration in the loadbalancer exporter (#10199)
- `pkg/telemetryquerylanguage`: Add `Join`, which allows joining an arbitrary number of strings with a delimiter (#12476)
- `elasticsearchreceiver`: Add additional metrics (#13115)
  Add additional metrics for indexing_pressure, published_states, state_queue, ingest, script.

- `hostmetricsreceiver`: Add threads count metric (#12482)
- `aerospikereceiver`: Add query_count and query_tracked metrics (#13255)
- `docsgen`: use contrib components, add makefile target (#12639)
- `dockerstatsreceiver`: Change relevant memory metrics from gauges to sums, so they are aligned with spec recommendations and can be aggregated. (#9794)
- `pkg/stanza/csv_parser`: Add `ignore_quotes` option that ignores all quoting in fields if true. (#13656)
- `pkg/telemetryquerylanguage`: Add TQL mappings for `InstrumentationScope.attributes` (#13639)
- `k8sattributesprocessor`: Add support for discovering Kubernetes CronJob name (#141)
- `coreinternal`: Move test utilities out of testbed into coreinternal, allow use of these lightweight helpers from other modules. (#5742)
- `kafkametricsreceiver`: Migrate receiver to the new metrics builder (#7142)
  This allows users to disable particular metrics in through user settings.
- `mongodbatlasreceiver`: Add logs retrieval capability (#12347)
- `mongodbreceiver`: Enhance partial error handling with descriptive metric/attribute messages. (#13367)
- `filelog, journald, syslog, tcplog, udplog, windowseventlog receivers`: Add ability to set log body when when parsing. (#10274)
- `filelog, journald, syslog, tcplog, udplog, windowseventlog receivers`: Enhance error message when csv_parser finds unexpected number of fields (#13427)
- `filelog, journald, syslog, tcplog, udplog, windowseventlog receivers`: Enable debugging operators `stdout` and `file_output` (#13394)
- `postgresqlreceiver`: Adds background writer metrics (#13327)
  Adds the following metrics:
  - postgresql.bgwriter.buffers.allocated
  - postgresql.bgwriter.buffers.writes
  - postgresql.bgwriter.checkpoint.count
  - postgresql.bgwriter.duration
  - postgresql.bgwriter.maxwritten.count

- `postgresqlreceiver`: Adds more metrics regarding database tables. (#13228)
  metrics added:
    postgresql.database.count
    postgresql.table.count
    postgresql.table.size
    postgresql.table.vacuum.count

- `postgresqlreceiver`: Adds WAL and connections metrics (#13399)
  metrics added
  - postgresql.replication.data_delay
  - postgresql.wal.age
  - postgresql.wal.lag
  - postgresql.connection.max

- `prometheusreceiver`: allow to query scrape jobs from OpenTelemetryOperators TargetAllocator (#7944)
- `prometheusremotewrite`: Support customization of target_info metric including the ability to disable it (#12300)
- `prometheusexporter`: Adds a feature to prometheusexporter that enables it to export exemplars along with histogram metrics. (#5192)
- `prometheusexporter`: Use HTTPServerSettings in the exporter to leverage inbuilt TLS. (#10851)
- `receivercreator`: adds the unique EndpointID to generated receiver componentID to prevent collisions (#12670)
- `spanmetricsprocessor`: The unit of the `latency` metric is now explicitly defined. (#13423)
- `extension/storage/storagetest`: Add in-memory and file-backed test extensions and clients (#13086)
- `telemetryquerylanguage`: Avoid copying attributes when filtering on keys in the `keep_keys` TQL function (#4756)
- `prometheusreceiver`: Remove temporary maps to dedup and remove unuseful labels (#13705)


### ðŸ§° Bug fixes ðŸ§°
- `processor/metricstransform`: Aggregate cumulative data points with different start time. (#12611)
- `expvarreceiver`: Fixes an bug where the mSpanSys value was recorded into the mCacheSys metric. (#13171)
- `extension/filestorage`: Allow putting the compaction temp folder on a different filesystem. (#13449)
- `prometheusremotewriteexporter`: Handle the case with 0 metrics gracefully. (#10364)
- `prometheusreceiver`: Fix num data point for metrics recorded in prometheusreceiver (#13705)
- `loadbalancingexporter`: Fixed a crash if `endpointFor` is called before any endpoints have been discovered (#10110)
- `prometheusreceiver`: Fix timestamp for histograms and summaries with no Sum (#13705)
- `exporter/sumologic`: Mark the exporter as mutating. (#13647)
- `jaegerremotesampling`: Mark as alpha (#13005)
- `mongodbreceiver`: Adds metric versioning checks to prevent partial errors (#13155)
- `mongodbreceiver`: Change lpu integration test to use a mongodb 4.4 (#12981)
- `pkg/translator/prometheus`: do not normalize metric name with multiple underscore (#13322)
- `prometheusreceiver`: Make the error returned when dropping summary metrics that collide with histograms clearer. (#12976)
- `prometheusremotewriteexporter`: Don't emit the target_info metric when it would only contain job and instance (#12768)
- `receiver_creator`: Correct observer instance reference by updating watch_observers use ComponentID instead of just Type (#12801)
- `vcenterreceiver`: Re-establish sessions when running with particular TLS settings. (#13447)


# v0.58.0

## ðŸ›‘ Breaking changes ðŸ›‘
- `clickhouseexporter`: update table schema (#8028)
  1. add ServiceName field as primary key.
  2. use Map type for attribute, add secondary index.

- `postgresqlreceiver`: Moves metric attributes `table` and `database` to resource attributes. (#12960)
  This move has been hidden behind a featuregate. Please see https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/postgresqlreceiver/README.md#feature-gate-configurations for more information transitioning.
  This affects the following metrics.
  - postgresql.blocks_read
  - postgresql.commits
  - postgresql.db_size
  - postgresql.backends
  - postgresql.operations
  - postgresql.rollbacks

- `all`: Update minimum go version to 1.18 (#12918)

### ðŸš© Deprecations ðŸš©
- `dotnetdiagnosticsreceiver`: Change status to unmaintained (#12757)

### ðŸš€ New components ðŸš€
- `azureblobreceiver`: Add a new component `azureblobreciver` (#8834)
  Add a new component `azureblobreceiver` that reads logs and traces from Azure Blob Storage
- `azureeventhubreceiver`: New component to receive logs from Azure Event Hubs (#12786)
- `headers_setter`: Add support for setting exporter headers from the upstream requests context (#5733, #7945, #4814)

### ðŸ’¡ Enhancements ðŸ’¡
- `filterprocessor`: Add ability to filter based on logs SeverityText and Body. (#9235)
- `aerospikereceiver`: Support tls configuration. Add tls and tlsname config items. (#12770)
- `datadogexporter`: Send host info when sending hostmetadata from datadogexporter (#12944)
- `jaegerremotesampling`: extend jaegerremotesampling with remote sampling via gRPC (#6694)
- `filterprocessor`: Add log filtering based on SeverityNumber (#12959)
- `hostmetricsreceiver`: Add new resource attribute `process.parent_pid`.  The value of the attribute is the parent PID (#12290)
- `k8sattributesprocessor`: Add support for discovering Kubernetes DaemonSet name and DaemonSet UID" (#141)
- `k8sattributesprocessor`: Add support for discovering Kubernetes Job name and Job UID" (#141)
- `k8sattributesprocessor`: Add support for discovering Kubernetes ReplicaSet name and ReplicaSet UID (#141)
- `k8sattributesprocessor`: Add support for discovering Kubernetes StatefulSet name and StatefulSet UID" (#141)
- `loadbalancingexporter`: Exporting trace pipelines based on Service name to avoid duplicate label svc + operation in collector hosts. (#12652)
- `lokiexporter`: Don't retry on 4xx responses (excluding 429) from loki (#12930)
- `observers`: Adds multiple observer.Notify subscriber support to observer.EndpointWatcher for multiple Endpoint event consumers. (#10830, #11541, #11544)
- `filelogreceiver`: Process batches consecutively, rather than one per poll interval (#10285)
- `postgresqlreceiver`: Client refactor to eventually support resource attributes. (#13087)
- `postgresqlreceiver`: Adds Index Resource Attribute and Metrics Collection. (#13167)
  This enhancement will only be enabled with the receiver.postgresql.emitMetricsWithResourceAttributes feature gate being enabled.
- `pkg/translator/signalfx`: report Histogram min/max when present, do not report sum when not present (#13153)
- `sigv4authextension`: Added separate region for STS for cross region auth (#12736)
- `solacereceiver`: Adds topic destination as a new attribute to receiver's spans (#12640)
- `pkg/telemetryquerylanguage`: Add Getter slices to the TQL parser, allowing them to be specified as function parameters. (#12476)

### ðŸ§° Bug fixes ðŸ§°
- `aerospikereceiver`: Fix crash when connecting to an Aerospike server with authentication using a config with collect_cluster_metrics == false and no username or password. (#12979)
- `apachereceiver`: Fix some partial errors not being correctly reported (#13133)
- `couchdbreceiver`: Fix some partial errors not being correctly reported (#13007)
- `signalfxreceiver`: log attempts to divide by zero at the debug level (#12969)
- `mongodbreceiver`: Fix partial scraper errors not being reported (#13108)
- `mysqlreceiver`: Fix some partial errors not being correctly reported (#13009)
- `tailsamplingprocessor`: Fixing null pointer exception for span count sampling strategy. (#12745)


# v0.57.2

## ðŸ›‘ Breaking changes ðŸ›‘
- `healthcheckextension`: Remove deprecated `port` field from config. (#12668)
- `processor/cumulativetodelta`: Removes the deprecated `metrics` config option.  Use `include`/`exclude` instead. (#12732)
- `lokiexporter`: Deprecate the `format` option (#12897)
- `metricstransformprocessor`: Remove deprecated `metric_name` settings option (#12737)
- `pkg/stanza/fileconsumer`: Unexport several fields that are meant for internal usage only (#12793)
- `pkg/stanza/fileconsumer`: Rename fileconsumer.Input to fileconsumer.Manager (#12876)
- `prometheusremotewriteexporter`: Export `target_info` not `target` for resource attributes (#12079)
- `pkg/translator/signalfx`: Remove no longer necessary prom compatible configuration from `FromTranslator` (#12671)
- `signalfxexporter`: Remove no longer necessary feature gate for prom compatible metrics (#12671)
- `zookeeperreceiver`: Remove direction for metrics. The feature gate: receiver.zookeeperreceiver.emitMetricsWithoutDirectionAttribute can be set to apply the following (#12772) (#12184)
  - `zookeeper` metrics:
    - `zookeeper.packet.count` will become:
      - `zookeeper.packet.received.count`
      - `zookeeper.packet.sent.count`

### ðŸš€ New components ðŸš€
- `chronyreceiver`: This will add in support for measuring tracking data from `chronyd` (#11789)

### ðŸ’¡ Enhancements ðŸ’¡
- `datadogexporter`: Add host metadata tags to metrics on serverless environments (#12486)
- `observer`: Add observer.Endpoint.ID to Env() (#12751)
- `aerospikereceiver`: Scrape nodes in parallel when in collect_cluster_metrics mode. (#11563)
- `coralogixexporter`: Add logs client to coralogixexporter (#12601)
- `awscontainerinsightreceiver`: Pod Detection changes to support Containerd runtime in K8s (#12638)
- `dockerstatsreceiver`: Enable a featuregate for the new implementation of scrape. Change the units in the new implementation to align to semantic convention. (#9794)
  This allows the new implementation of scrape to be used via a featuregate.
  It also updates the tests, which now test for expected descriptions and units in the new implementation.

- `healthcheckextension`: Use `confighttp.HTTPServerSettings` to allow tls and auth. (#12668)
- `demo`: Add connection time out for client in examples/demo/client (#12431)
- `prometheusexporter`: Export target_info metrics with the resource attributes. (#8265)
- `resourcedetectionprocessor`: update Azure resource detector to save "name" from Azure metadata API in azure.vm.name attribute (#12779)
- `pkg/telemetryquerylanguage`: Adds standard contexts to the module that should be used when interacting with OTLP traces, metrics, and logs. (#12589)
- `pkg/telemetryquerylanguage`: Adds a set of otel functions to the telemetryquerylanguage module. (#12754)
- `pkg/telemetryquerylanguage`: Adds a set of common functions to the telemetryquerylanguage module. (#12739)
- `cumulativetodeltaprocessor`: Cumulative Histogram metrics will now be converted to delta temporality and are no longer skipped. (#12423)
  This means that consumers who currently rely on Histograms being skipped would need to ensure they are excluded via config.
- `dockerstatsreceiver`: Initial PR for onboarding dockerstats onto mdatagen scraping. (#9794)
  Additionally appends the internal docker client to allow options (bug fix).
- `mongodbreceiver`: Enhance mongodbreceiver by adding new metrics (#12672)
- `chronyreceiver`: Added internal chrony client (#11789)
  -| Added an internal client for the receiver with modifications of the upstream client to fit the collector
- `receivercreator`: add per-receiver `resource_attribute` and validate endpoint type keys on global (#11766)
- `pkg/translator/signalfx`: Optimize ToMetrics to emit datapoints under the same metric when same name and type. (#12902)
- `sqlqueryreceiver`: Add static_attributes optional configuration to allow adding attributes/tags to queried metrics. (#11868)

### ðŸ§° Bug fixes ðŸ§°
- `spanmetricsprocessor`: Fix panic caused by race condition when accessing span attributes. (#12644)
- `awsxrayexporter`: Stop dropping exception in aws xray events for non error codes (#12643)
- `signalfxexporter`: use azure.vm.name instead of host.name to build azure resource id (#12779)
- `receiver/hostmetrics`: Do not throw scraping errors if conntrack metrics collection is disabled (#12799)
- `kubeletstatsreceiver`: Fetch metadata from initContainers (#12887)
- `metricstransformprocessor`: Fix logic in merging exponential histogram. (#12865)
- `resourcedetectionprocessor`: Add back `host.name` attribute when running on GKE (#12354)
- `filelogreceiver`: Fix issue where checkpoints could be ignored if `start_at`` was set to `end`` (#12769)
- `pkg/stanza`: Stop readerFactory from returning an error when creating an unsafeReader (#12766)
  This bug caused the filelog receiver to crash when the collector was restarted and the logs were being read from the end of the file
- `prometheusreceiver`: Fix handling of timestamps to prevent reset when a new datapoint is recorded (#12746)
- `exporter/prometheusremotewrite`: Fix a panic when a histogram does not have any buckets (#12777)
- `signalfxexporter`: fix invalid response error message (#12654)
- `skywalkingreceiver`: Add extra link attributes from skywalking ref. (#12651)
- `spanmetricsprocessor`: Modifies spanmetrics processor to handle negative durations without crashing. Related to open-telemetry/opentelemetry-js-contrib#1013 (#7250)
  Sets negative durations to count towards the smallest histogram bucket.
- `splunkhecexporter`: use proper config flags to configure content length of gzip buffers for metrics and traces (#12906)


# v0.57.1

This version has been skipped.

# v0.57.0

This version has been skipped.

# v0.56.0

## ðŸ›‘ Breaking changes ðŸ›‘
- `datadogexporter`: Change default value of `host_metadata::hostname_source` to `config_or_system` (#10424)
   - This behavior can be reverted by disabling the `exporter.datadog.hostname.preview` feature gate.

- `datadogexporter`: Make automatically detected hostname match the one reported by other Datadog products. (#10424)
   - This behavior can be reverted by disabling the `exporter.datadog.hostname.preview` feature gate.

- `dynatraceexporter`: Improve serialization of certain Instrument/Temporality pairings (#11828)
  - Non-monotonic cumulative Sum metrics will be exported as Gauges from now on. Non-monotonic cumulative Sums (usually UpDownCounters) will show the current value instead of a change rate.

- `transformprocessor`: Field `metric.type` is now accessed as an enum/int64 instead of a string. (#10349)
- `memcachedreceiver`: Remove direction for metrics. The feature gate: receiver.memcachedreceiver.emitMetricsWithoutDirectionAttribute can be set to apply the following (#12404) (#12165)
  - `memcached` metrics:
    - `memcached.network` will become:
      - `memcached.network.sent`
      - `memcached.network.received`
- `tracegen`: Moving component under `cmd` for consistency (#12474)
- `datadogexporter`: Remove deprecated configuration features. (#9099, #9016, #8845, #8783, #8781, #8489, #8396)
    - [Remove `env` in favor of `deployment.environment` semantic convention](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/9016)
    - [Remove `version` in favor of `service.version` semantic convention](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/8783)
    - [Remove `service` in favor of `service.name` semantic convention](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/8781)
    - [Remove `tags`, `send_metadata` and `use_resource_metadata` in favor of `host_metadata` section](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/9099)
    - [Remove `metrics::report_quantiles` in favor of `metrics::summaries::mode`](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/8845)
    - [Remove `metrics::send_monotonic_counter` in favor of `metrics::sums::cumulative_monotonic_mode`](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/8489)
    - [Remove automatic support for environment variable detection in favor of Collector's `${}` syntax](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/8396)
    - [Remove `metrics::instrumentation_library_metadata_as_tags` in favor of `metrics::instrumentation_scope_as_tags`](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/11135)

- `datadogexporter`: Remove deprecated `config` package. (#8373)
- `observiqexporter`: Remove the observiq exporter (#12406)
- `vcenterreceiver`: Adds the `vcenter.cluster.name` resource attribute to `vcenter.datastore` metrics (#12357)
- `vcenterreceiver`: remove metadata declaration and references to uncollected metric `vcenter.vm.cpu.utilization` (#12358)
- `vcenterreceiver`: Remove direction for metrics. The feature gate: receiver.vcenterreceiver.emitMetricsWithoutDirectionAttribute can be set to apply the following (#11849) (#12185)
  - `vcenter.host.disk.throughput` will become:
    - `vcenter.host.disk.throughput.read`
    - `vcenter.host.disk.throughput.write`
  - `vcenter.host.disk.latency.avg` will become:
    - `vcenter.host.disk.latency.avg.read`
    - `vcenter.host.disk.latency.avg.write`
  - `vcenter.host.network.throughput` will become:
    - `vcenter.host.network.throughputt.receive`
    - `vcenter.host.network.throughput.transmit`
  - `vcenter.host.network.packet.errors` will become:
    - `vcenter.host.network.packet.errors.receive`
    - `vcenter.host.network.packet.errors.transmit`
  - `vcenter.host.network.packet.count` will become:
    - `vcenter.host.network.packet.count.receive`
    - `vcenter.host.network.packet.count.transmit`
  - `vcenter.vm.disk.latency.avg.read` will become:
    - `vcenter.vm.disk.latency.avg.read`
    - `vcenter.vm.disk.latency.avg.write`
  - `vcenter.vm.network.throughput` will become:
    - `vcenter.vm.network.throughput.receive`
    - `vcenter.vm.network.throughput.transmit`
  - `vcenter.vm.network.packet.count` will become:
    - `vcenter.vm.network.packet.count.receive`
    - `vcenter.vm.network.packet.count.transmit`

### ðŸš© Deprecations ðŸš©
- `hostmetricsreceiver`: Remove direction for disk metrics. The feature gate: receiver.hostmetricsreceiver.emitMetricsWithoutDirectionAttribute can be set to apply the following (#11849) (#11816)
  - `disk` scraper metrics:
    - `system.disk.io` will become:
      - `system.disk.io.read`
      - `system.disk.io.write`
    - `system.disk.operations` will become:
      - `system.disk.operations.read`
      - `system.disk.operations.write`
    - `system.disk.operation_time` will become:
      - `system.disk.operation_time.read`
      - `system.disk.operation_time.write`
    - `system.disk.merged` will become:
      - `system.disk.merged.read`
      - `system.disk.merged.write`

### ðŸš€ New components ðŸš€
- `telemetryquerylanguage`: Expose the telemetry query language as a package. (#11751)
- `chronyreceiver`: -| This component is a pure go implementation for capturing data from [chrony](https://chrony.tuxfamily.org/) (#11789)
- `otlpjsonfilereceiver`: Add a new file receiver reading JSON-encoded OTLP data, after [serialization specification](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/file-exporter.md#json-file-serialization) (#10836)
- `pulsarexporter`: Add Apache Pulsar exporter (#9795)
- `solacereceiver`: Add Solace receiver to receive trace data from a Solace PubSub+ Event Broker. (#10572)

### ðŸ’¡ Enhancements ðŸ’¡
- `tanzuobservabilityexporter`: Improve algorithm to translate OTEL delta exponential histograms into tanzu observability histograms (#12173)
- `internal/scrapertest`: Add sortation functions for scrapertest (#10837)
- `elasticsearchreceiver`: Add additional metrics (#12176)
  Add additional metrics for circuit breakers, disk IO r/w, translog, and CPU load.

- `supported platforms`: Add `linux-ppc64le` architecture to cross build tests in CI (#12350)
- `dockerobserver`: incorporate observer.EndpointsWatcher in preparation of multiple event subscribers and use existing internal event loop watcher (#10830, #11541)
- `hostmetrics`: Adding connection tracking count and max metrics for linux (#11769)
- `hostmetricsreceiver`: New config setting scrape_process_delay is used to indicate the minimum amount of time a process must be running before process metrics can be scraped for it. The default value is 0 seconds ("0s"). (#8976)
- `transformprocessor`: Add ability to interact with enums via sybmols. (#10349)
- `telemetryquerylanguage`: Adds to the grammar the ability to interpret Enums. (#11751)
- `transformprocessor`: Update the transform processor to use the Telemetry Query Language package (#11751)
- `transformprocessor`: Add `delete_key` and `delete_matching_keys` which allow deleting keys from maps. (#11823)
- `receiver/jaeger`: Handle spans with own process (#10186)
- `k8sobserver`: incorporate observer.EndpointsWatcher in preparation for multiple event subscribers (#10830, #11544)
- `exporter/loki`: Handle multi-tenant use-cases (#3121)
- `metricstransformprocessor`: Do not produce empty metrics (#12210)
- `schemaprocessor`: renaming some internal packages to help improve maintainability (#8495)
- `groupbytrace`: Promote groupbytrace to beta (#12169)
- `redisreceiver`: Add redis.version resource attribute. (#12139)
- `podmanreceiver`: Fetch containers stats one by one and add container image as metric attribute (#9013)
- `all`: Components now report their stability level. (#12104)
- `sqlqueryreceiver`: Add Oracle DB Support (#12137)
- `sqlserverreceiver`: Added tests to validate counter names and a scraper test. (#9374)
- `templatequerylanguage`: TQL grammar now supports complex `where` expressions with `and`, `or` and parentheses (#10195)
- `transformprocessor`: Add .string accessor to get hex string for trace_id and span_id (#11555)
- `pkg/translator/jaeger`: Handle spans with own process (#10186)

### ðŸ§° Bug fixes ðŸ§°
- `cmd/chloggen`: Compare changelog to common ancestor with main (#12149)
- `logstransformprocessor`: Remove support for storage (#12424)
- `elasticsearchreceiver`: Remove unused `disk_usage_state` attribute from documentation (#12429)
- `filterlog`: change OR to AND logic for filtering logs - as desribed, and as is done for span filtering (#11439)
- `lokiexporter`: Wrap quotes around log message (#11827)
- `tooling`: Fix a bug in the makefile causing `make rpm-package` to fail (#12162)
- `prometheusexporter`: Fix cumulative condition for the delta-to-cumulative (#4153)
- `xrayreceiver`: Ensure that the UDP Poller ends the obsreport span it creates with every loop. (#12299)
  This avoids a memory leak that can happen when spans are created to track received
  segments but never ended.
- `googlecloudexporter`: Various bug fixes in parsing OTel logs to GCP LogEntries (#12157)
- `datadogexporter`: Fix logs related to the source provider. (#12160)
- `pkg/stanza/fileconsumer`: Fix issue where reader could become stuck on newlines (#10125, #10127, #10128)
- `receivercreator`: dynamically created receivers log with their `name` field (#16481)
- `skywalkingreceiver`: Fix skywalking traceid and spanid convertion (#11562)
- `spanmetricsprocessor`: Fixes the number of explicit bucket counts by removing the manually added "catch-all" bucket. (#11784)
- `spanmetricsprocessor`: Fix concurrency bug causing premature key eviction. (#9018)
- `spanmetricsprocessor`: Removes a comment that is no longer relevant due to a fix. (#12427)
- `sqlqueryreceiver`: Metrics did not contain a timestamp. Timestamps are required for a variety of backends, especially prometheus. In order to work with prometheus we must set the metrics timestamp because metrics with the default timestamp (year 1970) will be dropped by prometheus backends. (#12088)
- `statsdreceiver`: Fixing parsing issue for values on statsd receiver (#12120)
- `vcenterreceiver`: Fixes calculation of `vcenter.vm.disk.utilization`. (#12342)


# v0.55.0

## ðŸ›‘ Breaking changes ðŸ›‘
- `datadogexporter`: Remove `Sanitize` method from `Config` struct. (#8373)
- `datadogexporter`: (Under `exporter.datadog.hostname.preview` feature gate) Remove `docker` hostname detector (#11834)
- `k8sclusterreceiver`: The `receiver.k8sclusterreceiver.reportCpuMetricsAsDouble` feature gate has been removed (#10838)
    - If users were disabling this feature gate, they may have to update
      monitoring for a few Kubernetes cpu metrics. For more details see [feature-gate-configurations](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/v0.54.0/receiver/k8sclusterreceiver#feature-gate-configurations).

- `prometheusexporter`: Automatically rename metrics with units to follow Prometheus naming convention (#8950)

### ðŸš© Deprecations ðŸš©
- `datadogexporter`: Deprecate `config` package in favor of structs on the `datadogexporter` package. (#8373)
- `k8sattributesprocessor`: Announcing `pod_association` rules will be deprecated. Use `pod_association.sources` rules instead. This is in order to support metadata enrichment based on multiple attributes. (#4309)
- `hostmetricsreceiver`: Remove direction for network, paging and process metrics. The feature gates `receiver.hostmetricsreceiver.emitMetricsWithoutDirectionAttribute` and `receiver.hostmetricsreceiver.emitMetricsWithDirectionAttribute` can be used to control the transition (#11815)
    - `system.network.dropped` will become:
      - `system.network.dropped.receive`
      - `system.network.dropped.transmit`
    - `system.network.errors` will become:
      - `system.network.errors.receive`
      - `system.network.errors.transmit`
    - `system.network.io` will become:
      - `system.network.io.receive`
      - `system.network.io.transmit`
    - `system.network.packets` will become:
      - `system.network.packets.receive`
      - `system.network.packets.transmit`
    - `system.paging.operations` will become:
      - `system.paging.operations.page_in`
      - `system.paging.operations.page_out`
    - `process.disk.io` will become:
      - `process.disk.io.read`
      - `process.disk.io.write`

- `logzioexporter`: Announcing `custom_endpoint`, `drain_interval`, `queue_capacity`, `queue_max_length` configuration options will be deprecated in upcoming releases (#10821)
- `simpleprometheusreceiver`: Announcing `tls_enable`, `tls_config` will be deprecated and use `confighttp.HTTPClientSettings` instead. (#11553)

### ðŸš€ New components ðŸš€
- `sqlqueryreceiver`: Enable the component (#11848)

### ðŸ’¡ Enhancements ðŸ’¡
- `cmd/chloggen`: Update CI process to validate new changelog strategy (#11841)
- `cmd/chloggen`: Add new tool for conflict-free CHANGELOG.md management (#11539)
- `coralogixexporter`: Add support for metrics (#11065)
- `coreinternal/attraction`: Supports pattern for delete and hash attractions (#11886)
- `filterprocessor`: Add ability to filter `Spans` (#6341)
- `flinkmetricsreceiver`: Add attribute values to metadata (#11520)
- `k8sattributesprocessor`: do not ignore hostNetwork pods for enrichment based on non IP attribute (#12073)
- `logzioexporter`: Add support for logs pipeline and support for exporterhelper (#10821)
- `pkg/stanza`: Export `pkg/stanza/fileconsumer` package (#11844)
- `prometheusreceiver`: Add `target_info` labels to resource attributes (#11034)
- `redisreceiver`: Add more metrics, `redis.maxmemory`, `redis.role`, `redis.cmd.calls` `redis.cmd.usec` (#11090)
- `sapmexporter`: Add config option to log responses from Splunk APM (#11425)
- `splunkhecexporter`: Update limits for max_content_length settings (#11550)
- `sqlqueryreceiver`: Add core functionality (#10867)
- `tracegen`: Add additional resource attributes (#11145)
- `transformprocessor`: Add IsMatch factory function.  This function allows regex matching in conditions. (#10903)
- `transformprocessor`: replace_pattern` and `replace_all_patterns` use regex for pattern matching and replacing text in attributes/metrics (#11125)

### ðŸ§° Bug fixes ðŸ§°
- `aerospikereceiver`: Fix issue where namespaces would not be collected (#11465)
- `aerospikereceiver`: Fix typo in metric name. Ensure namespace transactions are collected (#12085) (#12083)
- `coralogixexporter`: Fix metrics bearer token (#11831)
- `datadogexporter`: (Under `exporter.datadog.hostname.preview` feature gate) Make the hostname reported on GKE match the Datadog GCP integration hostname. (#11893)
- `datadogexporter`: The `traces.span_name_remappings` setting now correctly refers to the OpenTelemetry key to be renamed without any sort of normalization. (#9693)
- `datadogexporter`: Unify traces exporter behavior with Datadog Agent OTLP traces ingest. (#9693)
- `filelogreceiver`: Read log lines from lost files first in a poll cycle (#12084)
- `filestorageextension`: Copy values returned by Get (#11776)
- `cmd/chloggen`: Fix problem where 'new' command would fail when branch name contained '/' (#11887)
- `kafkaexporter`: Fixed config.Topic mutation causing **Logs|Metrics|Traces** to default to 1 topic (#11420)
- `mongodbreceiver`: do not ignore TLS Settings in mongodbreceiver (#12092)
- `prometheusexporter`: Expose the same metric from different targets correctly (#4986)
- `redactionprocessor`: Respect allow_all_keys configuration (#11542)
- `saphanareceiver`: Fix component memory query, add better error handling (#11507)
- `sapmreceiver`: Fix issue where component instance use in multiple pipelines leads to start failures (#11518)
- `signalfxreceiver`: Fix issue where component instance use in multiple pipelines leads to start failures (#11513)
- `splunkhecreceiver`: Fix issue where component instance use in multiple pipelines leads to start failures (#11517)


## v0.54.0
=======
>>>>>>> upstream/main

## v1.0.0-rc9/v0.75.0

<<<<<<< HEAD
- `transformprocessor`: `metric.is_monotonic` is now accessed via a bool literal instead of a string. (#10473)
- `vcenterreceiver`: Changed the attribute `effective` on `vcenter.cluster.host.count` as it will now be reported as a bool rather than a string (#10914)
=======
### ðŸ›‘ Breaking changes ðŸ›‘

- `featuregate`: Remove deprecated featuregate.FlagValue (#7401)

### ðŸ’¡ Enhancements ðŸ’¡

- `provider`: Added userfriendly error on incorrect type. (#7399)

### ðŸ§° Bug fixes ðŸ§°

- `loggingexporter`: Fix display of bucket boundaries of exponential histograms to correctly reflect inclusive/exclusive bounds. (#7445)
- `exporterhelper`: Fix a deadlock in persistent queue initialization (#7400)

## v1.0.0-rc8/v0.74.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `consumererror`: Remove deprecated funcs in consumererror (#7357)

### ðŸš© Deprecations ðŸš©

- `featuregate`: Deprecate `FlagValue` in favor of `NewFlag`. (#7042)

### ðŸ’¡ Enhancements ðŸ’¡

- `service`: Enable connectors by default by moving service.connectors featuregate to beta (#7369)

## v0.73.0/v1.0.0-rc7

### ðŸ›‘ Breaking changes ðŸ›‘

- `consumererror`: Remove `Get` prefix from methods returning failed signal data (#7048)
- `service`: Feature gate `service.graph` is now stable and cannot be disabled. It will be removed in the next version. (#2336)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter`: split exporter into its own module (#7239)
- `receiver`: split receiver into its own module (#7174)
- `connectors`: Provide connectors with a mechanism to route data to specific pipelines (#7152)
- `confmap`: Mark `confmap.expandEnabled` as stable (#7323)

## v1.0.0-rc6/v0.72.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `all`: Remove go 1.18 support, bump minimum to go 1.19 and add testing for 1.20 (#7151)
- `pdata`: Remove deprecated `[Metrics|Traces|Logs]MoveTo` methods. (#7165)
- `featuregate`: Remove deprecated funcs in featuregate. (#7173)

### ðŸ’¡ Enhancements ðŸ’¡

- `semconv`: Generated Semantic conventions 1.17 that now contains the `event` type. (#7170)
- `semconv`: Generated Semantic conventions 1.18. (#7168)

### ðŸ§° Bug fixes ðŸ§°

- `memorylimiterprocessor`: Fix incorrect parsing of cgroups when running Collector with host mount (#6826)
- `confmap`: Clear list of old already closed closers. (#7215)

## v1.0.0-rc5/v0.71.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pdata`: Add private method to GrpcServer interface, disallow direct implementation (#6966)
- `featuregate`: Remove deprecated GetRegistry (#7011)
- `pcommon`: Remove deprecated Map.Sort (#6688)

### ðŸš© Deprecations ðŸš©

- `featuregate`: Deprecate Registry.List in favor of Registry.VisitAll. (#7041)
- `featuregate`: Deprecate Apply in favor of Set (#7018)
- `pdata`: Deprecate [Metrics|Logs|Traces].MoveTo methods. (#7091)
- `featuregate`: Deprecate RegistryOption in favor of RegisterOption (#7012)
- `featuregate`: Deprecate featuregate.Registry.[IsEnabled, RegisterID, MustRegister] (#6998)

### ðŸš€ New components ðŸš€

- `httpsprovider`: Add the httpsprovider. This component allows the collector to fetch configurations from web servers using the HTTPS protocol. (#6683)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter`: Allow configuration of fields, `RandomizationFactor` and `Multiplier`, for exponential backoff algorithm when retry on failure is enabled (#6610)
- `connectors`: Add "connectors", a new type of pipeline component (#2336)
  - Connectors connect pipelines by acting as an exporter in one or more pipelines and simultaneously
  as a receiver of corresponding data in one or more other pipelines. For example:
    - The `forward` connector can export data to another pipeline of the same type. This allows you
    to merge data from multiple pipelines onto a common pipeline. Or, you can replicate data onto multiple
    pipelines so that it may be processed in different ways and/or exported to different backends.
    - The `count` connector can count data of any type. Regardless of the type of data that is counted, it
    emits counts as metrics onto a metrics pipeline.
  - Connectors are currently disabled by default but can be enabled with the `service.connectors` feature gate.
  - See the [connectors README](https://github.com/open-telemetry/opentelemetry-collector/blob/main/connector/README.md)
  for more details on how to use connectors.
  
- `service`: Enable new pipelines implementation using graphs. Controlled by the `service.graph` featuregate. (#2336)
- `builder`: added ldflags command option (#6940)
- `proctelemetry`: Instrument `proctelemetry.ProcessMetrics` metrics with otel-go (#6886)
- `capabilityconsumer`: If the consumer has already the desired capability, don't wrap (#7116)
- `confmap`: Add support to resolve embedded uris inside a string, concatenate results. (#6932)

### ðŸ§° Bug fixes ðŸ§°

- `confmap`: Fix bug in confmap validation that allowed the usage of case-insensitive keys in the configurations, despite them failing silently. (#6876)
- `logging`: Fix the attribute key used to identify the receiver data type in logging configuration (#7033)

## v1.0.0-RC4/v0.70.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pdata`: Start enforcing grpc server implementation to embed UnimplementedGRPCServer, dissallow client implementation (#6966)
- `config/configgrpc`: Change configgrpc.GRPCClientSettings.Headers type to map[string]configopaque.String (#6852)
  Use `configopaque.String(str)` and `string(opaque)` to turn a string opaque/clear.
- `pdata`: Remove deprecated pcommon.Value.Equal (#6860)

### ðŸš© Deprecations ðŸš©

- `pdata`: Deprecate pcommon.Map.Sort(). (#6688)
- `featuregate`: Deprecate GetRegistry in favor of GlobalRegistry (#6979)

### ðŸ’¡ Enhancements ðŸ’¡

- `builder`: Add remote debug option for otel-collector to builder (#6149)
- `connector`: Add Builder (#6867)
- `cmd/builder`: Add support for connector configurations (#6789)
- `exporter/otlphttp`: Retry only on status code 429/502/503/504 (#6845)
- `featuregate`: Reduce contention in featuregate by using sync.Map instead of mutex. (#6980)

### ðŸ§° Bug fixes ðŸ§°

- `loggingexporter`: Fix undefined symbol errors on building otelcorecol for other platforms than darwin, linux, windows. (#6924)
- `otlpexporter`: Fix a dataloss bug in persistent storage when collector shuts down or restarts (#6771)

## v0.69.1

### ðŸ§° Bug fixes ðŸ§°

- `various modules`: Fix issue where some collector modules imported previous version of other modules (#6929)

## v1.0.0-RC3/v0.69.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `component`: Remove deprecated Exporter types (#6880)
- `component`: Remove deprecated Extension types (#6865)
- `component`: Remove deprecated ProcessorFactoryOptions (#6881)
- `component`: Remove deprecated Receiver types (#6882)
- `componenttest`: Remove deprecated funcs from componenttest (#6836)
- `batchprocessor`: Remove deprecated batchprocessor.MetricViews and batchprocessor.OtelMetricViews (#6861)
- `component`: Remove deprecated component.[Factories|MakePorcessorFactoryMap] and componenttest.NewNopFactories (#6835)
- `config`: Remove deprecated cofig.*Settings (#6837)
- `obsereporttest`: Remove deprecated obsereporttest.SetupTelemetryWithID (#6861)
- `component`: Remove deprecated component [Traces|Metrics|Logs]Processor and ProcessorFactory (#6884)
- `service`: Remove deprecated service service.ConfigService and service.ConfigServicePipeline (#6859)

### ðŸ’¡ Enhancements ðŸ’¡

- `connector`: Add MakeFactoryMap (#6889)
- `semconv`: Add semantic conventions for specification v1.16.0 (#6714)

### ðŸ§° Bug fixes ðŸ§°

- `config`: use [REDACTED] when marshaling to text a configopaque.String, instead of disclosing secret length. (#6868)

## v1.0.0-RC2/v0.68.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `componenttest`: Move NopFactories to otelcoltest (#6792)
- `config/confighttp`: Change confighttp.HTTPClientSettings.Headers type to map[string]configopaque.String (#5653)
- `config`: Remove deprecated `component.Config.[ID|SetIDName]`. (#4714)
- `configauth`: Remove deprecated funcs/types from `configauth` (#6719)
- `component`: Remove deprecated funcs/types from component package (#6769)
  - `component.[Exporter|Processor|Receiver|Extension]Config`
  - `component.Unmarshal[Exporter|Processor|Receiver|Extension]Config`
  - `component.[Exporter|Processor|Receiver|Extension]CreateDefaultConfigFunc`
  - `component.[Exporter|Receiver|Extension]FactoryOption`
  - `component.New[Exporter|Receiver|Extension]Factory`
  - `component.With[Traces|Metrics|Logs][Exporter|Receiver]`
  - `component.Create[Traces|Metrics|Logs][Exporter|Receiver]Func`
  - `component.CreateExtensionFunc`
- `componenttest`: Remove deprecated componenttest.NewNop*CreateSettings (#6761)
- `service`: Remove deprecated `service.[Collector|New|CollectorSettings|ConfigProvider]` (#5564)
- `service`: Remove deprecated funcs `service.NewCommand` and `service.NewSvcHandler`. (#5564)
- `obsreporttest`: Remove deprecate obsreporttest.Check* (#6720)
- `service`: Remove deprecated `service.Config`. (#6774)
- `servicetest`: Remove deprecated `servicetest` package. (#5564)

### ðŸš© Deprecations ðŸš©

- `service`: Deprecate `service.ConfigService` in favor of `service.Config` and `service.ConfigServicePipeline` in favor of `service.PipelineConfig`. (#6787)
- `pdata`: Deprecate `pcommon.Value.Equal` method (#6811)
- `component`: Deprecate `Processor` related structs and functions in favor of `processor` package (#6709)
- `component`: Deprecate component.Factories in favor of otelcol.Factories (#6723)
- `config`: Deprecate `config.[Extension|Exporter|Connector|Receiver|Processor]Settings`. (#6718)
- `batchprocessor`: Deprecate metric views funcs, for OC and Otel. (#6730)
- `obsreporttest`: Deprecate obsreporttest.SetupTelemetryWithID in favor of obsreporttest.SetupTelemetry (#6720)

### ðŸš€ New components ðŸš€

- `forwardconnector`: Add forward connector (#6763)

### ðŸ’¡ Enhancements ðŸ’¡

- `components`: Add [receiver|processor|exporter|extension].Builder to help with creating components form a set of configs and factories (#6803)
- `configunmarshaler`: Consolidate package into generic implementation (#6801)
- `service`: Shutdown internal telemetry with the Service (every time config changes). (#5564)

### ðŸ§° Bug fixes ðŸ§°

- `configgrpc`: Fix todo to add MeterProvider to grpc instrumentation (#4030)
- `otlpreceiver`: Fix otlpreceiver transport metrics attribute (#6695)

## v1.0.0-RC1/v0.67.0

We are excited to announce that the `pdata` module is now available as a
v1.0.0 release candidate.  While breaking changes may still happen in this
module before v1.0.0, we believe it is ready for final assessment and validation
and hope to make a v1.0.0 release soon.

### ðŸ›‘ Breaking changes ðŸ›‘

- `overwritepropertiesconverter`: Remove deprecated package `overwritepropertiesconverter` (#6656)
- `pdata`: Change [...Slice|Map].Sort methods to not return any value (#6660)
- `featuregate`: remove deprecated functions (#6594)
  - `featuregate.GetID()`
  - `featuregate.GetDescription()`
- `obsreport`: remove deprecated functions. (#6595)
  - `obsreport.MustNewExporter`
  - `obsreport.MustNewProcessor`
  - `obsreport.MustNewReceiver`
  - `obsreport.MustNewScraper`
- `service`: Remove deprecated `service.State` enum values. (#6605)
- `component`: Remove deprecated func/types from component (#6606)
- `config`: Remove deprecated config.Pipelines and config.Pipeline (#6664)
- `ballastextension`: Remove deprecated `ballastextension.MemoryBallast` type (#6628)
- `component`: Remove `Validate()` from component.*Config interfaces and make it optional interface (#6544)
- `confmap`: Splitting confmap into its own module (#6185)
  The import path for the confmap module can now be access directly:
  - `go.opentelemetry.io/collector/confmap`

### ðŸš© Deprecations ðŸš©

- `service`: Deprecate service.[Collector|NewSvcHandler|CollectorSettings|State|NewCommand] in favor of otelcol package" (#6608)
  - Deprecate `service.Config` in favor of `otelcol.Config`.
  - Deprecate `service.ConfigProvider` in favor of `otelcol.ConfigProvider`.
  - Deprecate `service.NewConfigProvider` in favor of `otelcol.NewConfigProvider`.
  - Deprecate `service.CollectorSettings` in favor of `otelcol.CollectorSettings`.
  - Deprecate `service.Collector` in favor of `otelcol.Collector`.
  - Deprecate `service.New` in favor of `otelcol.NewCollector`.
  - Deprecate `service.State` in favor of `otelcol.State`.
  - Deprecate `service.NewSvcHandler` in favor of `otelcol.NewSvcHandler`.
  - Deprecate `service.NewCommand` in favor of `otelcol.NewCommand`.
- `obsreporttest`: Deprecate obsreporttest.Check* in favor of TestTelemetry.Check (#6678)
- `component`: Deprecate Exporter related types/funcs from component package in favor of exporter package. (#6578)
  - `component.ExporterCreateSettings` -> `exporter.CreateSettings`
  - `component.CreateTracesExporterFunc` -> `exporter.CreateTracesFunc`
  - `component.CreateMetricsExporterFunc` -> `exporter.CreateMetricsFunc`
  - `component.CreateLogsExporterFunc` -> `exporter.CreateLogsFunc`
  - `component.ExporterFactory` -> `exporter.Factory`
  - `component.NewExporterFactory` -> `exporter.NewFactory`
  - `component.MakeExporterFactoryMap` -> `exporter.MakeFactoryMap`
  - `componenttest.NewNopExporterCreateSettings` -> `exportertest.NewNopCreateSettings`
  - `componenttest.NewNopExporterFactory` -> `exportertest.NewNopFactory`
- `component`: Change Config to be opaque for otel collector core. (#4714)
  - Deprecate `component.Config.ID()` in favor of `component.[*]CreateSettings.ID`.
  - Deprecate `component.Config.SetIDName()`, no replacement needed since ID in settings is public member.
  - Deprecate `obsreporttest.SetupTelemetry` in favor of `obsreporttest.SetupTelemetryWithID`.

- `component`: Deprecate `component.Unmarshal[*]Config` in favor of `component.UnmarshalConfig` (#6613)
- `component`: Deprecate Extension related types/funcs from component package in favor of extension package. (#6578)
  - `component.Extension` -> `extension.Extension`
  - `component.PipelineWatcher` -> extension.PipelineWatcher
  - `component.ExtensionCreateSettings` -> `extension.CreateSettings`
  - `component.CreateExtensionFunc` -> `extension.CreateFunc`
  - `component.ExtensionFactory` -> `extension.Factory`
  - `component.NewExtensionFactory` -> `extension.NewFactory`
  - `component.MakeExtensionFactoryMap` -> `extension.MakeFactoryMap`
  - `componenttest.NewNopExtensionCreateSettings` -> `extensiontest.NewNopCreateSettings`
  - `componenttest.NewNopExtensionFactory` -> `extensiontest.NewNopFactory`
- `component`: Deprecate `Receiver` related structs and functions in favor of `receiver` package (#6687)
- `component`: Deprecate `component.[Exporter|Extension|Processor|Receiver]Config` in favor of `component.Config` (#6578)
- `pdata`: Remove deprecated funcs `pdata.[Span|Trace]ID.HexString` (#6627)

### ðŸ’¡ Enhancements ðŸ’¡

- `config/configopaque`: Add new `configopaque.String` type alias for opaque strings. (#5653)
- `service`: Added components sub command which outputs components in collector distribution. (#4671)
- `component`: Define new component type 'connectors' (#6577)
- `connector`: Add connector factory (#6611)
- `connector`: Add connector types (TracesConnector, MetricsConnector, LogsConnector) (#6689)
- `connectortest`: Add connector/connectortest package (#6711)
- `component`: Add recursive validation check for configs (#4584)
- `service`: Improve config error messages, split Validate functionality (#6665)
- `extension/authextension`: Define new authextension package and use new package in collector repo (#6467)
  - configauth.ClientAuthenticator -> auth.Client
  - configauth.NewClientAuthenticator -> auth.NewClient
  - configauth.ClientOption -> auth.ClientOption
  - configauth.WithClientStart -> auth.WithClientStart
  - configauth.WithClientShutdown -> auth.WithClientShutdown
  - configauth.WithClientRoundTripper -> auth.WithClientRoundTripper
  - configauth.WithPerRPCCredentials -> auth.WithClientPerRPCCredentials
  - configauth.ServerAuthenticator -> auth.Server
  - configauth.NewServerAuthenticator -> auth.NewServer
  - configauth.Option -> auth.ServerOption
  - configauth.AuthenticateFunc -> auth.ServerAuthenticateFunc
  - configauth.WithAuthenticate -> auth.WithServerAuthenticate
  - configauth.WithStart -> auth.WithServerStart
  - configauth.WithShutdown -> auth.WithServerShutdown
- `obsreport`: Instrument `obsreport.Processor` metrics with otel-go (#6607)
- `pdata`: Add ability to clear optional fields (#6474)

### ðŸ§° Bug fixes ðŸ§°

- `otlpexporter`: Fix nil panic from otlp exporter in case of errors during Start. (#6633)
- `service`: Stop notification for signals before shutdown, increase channel size. (#6522)
- `confmap`: Fix support for concatenating envvars with colon (#6580)
- `otlpexporter`: Fix a bug that exporter persistent queue is sending duplicate data after restarting. (#6692)

## v0.65.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `featuregate`: Capitalize `featuregate.Stage` string values, remove Stage prefix. (#6490)
- `configtelemetry`: Update values returned by `Level.String` and `Level.MarshalText` method. (#6490)
  - All returned strings are capitalized.
  - "" is returned for integers that are out of Level enum range.
  - It also affects `Level.Marshal` output, but it's not a problem because `Unmarshal` method accepts strings in
  all cases, e.g. "normal", "Normal" and "NORMAL".

- `featuregate`: Make impossible to implement RegistryOption outside `featuregate` package (#6532)
- `service/telemetry`: Remove unit suffixes from metrics exported by the otel-go prometheus exporter. (#6403)
- `obsreport`: `obsreport.New[Receiver|Scraper|Processor|Exporter]` returns error now (#6458)
- `configgrpc`: Remove deprecated funcs in `configgrpc`. (#6529)
  - `configgrpc.GRPCClientSettings.ToDialOptions`
  - `configgrpc.GRPCServerSettings.ToServerOption`

- `config/configtest`: Remove deprecated `configtest` package. (#6542)
- `config`: Remove deprecated types and funcs from config. Use `component` package. (#6511)
  - config.ComponentID
  - config.Type
  - config.DataType
  - config.Receiver
  - config.UnmarshalReceiver
  - config.Processor
  - config.UnmarshalProcessor
  - config.Exporter
  - config.UnmarshalExporter
  - config.Extension
  - config.UnmarshalExtension

- `featuregate`: Remove deprecated funcs and struct members from `featuregate` package (#6523)
  - featuregate.Gate.ID
  - featuregate.Gate.Description
  - featuregate.Gate.Enabled
  - featuregate.Registry.Register
  - featuregate.Registry.MustRegister

- `experimental`: Remove experimental configsource code. (#6558)
- `component`: Update values returned by `StabilityLevel.String` method. (#6490)
  - All returned strings are capitalized.
  - "Undefined" is returned only for `StabilityLevelUndefined`.
  - "" is returned for integers that are out of StabilityLevel enum range.


### ðŸš© Deprecations ðŸš©

- `pdata`: Deprecate `pcommon.[Span|Trace]ID.HexString` methods. Call `hex.EncodeToString` explicitly instead. (#6514)
- `obsreport`: deprecate `obsreport.MustNew[Receiver|Scraper|Processor|Exporter]` in favor of `obsreport.New[Receiver|Scraper|Processor|Exporter]` (#6458)
  - Deprecate `obsreport.MustNewReceiver()` in favor of `obsreport.NewReceiver()`
  - Deprecate `obsreport.MustNewScraper()` in favor of `obsreport.NewScraper()`
  - Deprecate `obsreport.MustNewProcessor()` in favor of `obsreport.NewProcessor()`
  - Deprecate `obsreport.MustNewExporter()` in favor of `obsreport.NewExporter()`

- `component`: Deprecate `component.Receiver`, `component.Processor`, and `component.Exporter`. (#6553)
- `featuregate`: Deprecate Get prefix funcs for `featuregate.Gate` (#6528)
  `featuregate.Gate.GetID` -> `featuregate.Gate.ID`
  `featuregate.Gate.GetDescription` -> `featuregate.Gate.Description`

- `component`: Deprecate `component.Config.Validate` in favor of `component.ValidateConfig` (#6572)
- `component`: Deprecate `StabilityLevelInDevelopment` enum const in favor of `StabilityLevelDevelopment`. (#6561)
  Also rename all mentions of "In development" stability level to "Development".
- `service`: Deprecate `service.[Starting|Running|Closing|Closed]` in favor of `service.State[Starting|Running|Closing|Closed]` (#6492)

### ðŸ’¡ Enhancements ðŸ’¡

- `component`: `component.Extension` is temporarily set to be an alias of `component.Component` which will be reverted once it's moved to the `extension` package. Change your `component.Host.GetExtensions()` implementation to return `map[ID]component.Component` instead of `map[ID]component.Extension` (#6553)
- `pdata`: Return error from `pcommon.[Value|Map|Slice].FromRaw` when unsupported type. (#6579)
- `batchprocessor`: instrument the `batch` processor with OpenTelemetry Go SDK (#6423)
- `obsreport`: Instrument `obsreport.Scraper` metrics with otel-go (#6460)
- `service/collector`: Support SIGHUP configuration reloading (#5966)
- `component`: Split component into its own package (#6187)
  The import path for the component module can now be access directly:
    - `go.opentelemetry.io/collector/component`
- `consumer`: Split consumer into its own package (#6186)
  The import path for the consumer module can now be accessed directly:
    - `go.opentelemetry.io/collector/consumer`
- `featuregate`: Split featuregate into its own package (#6526)
  The import path for the featuregate module can now be accessed directly:
    - `go.opentelemetry.io/collector/featuregate`

### ðŸ§° Bug fixes ðŸ§°

- `service`: Disallow duplicate references to processors within a single pipeline (#6540)

## v0.64.1

### ðŸ§° Bug fixes ðŸ§°

- `loggingexporter`: Fix logging exporter to not mutate the data (#6420)

## 0.64.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `config`: Remove already deprecates `config.Service`. (#6395)
- `pdata`: Change output of String() method of the following enum types to more a concise form: (#6251)
  - plog.SeverityNumber
  - ptrace.SpanKind
  - ptrace.StatusCode

- `config`: Remove already deprecates `config.Config`. (#6394)
- `pdata`: Remove deprecated code from pdata (#6417)
  - `p[trace|metric|log]otlp.[Request|Response]`
  - `p[trace|metric|log]otlp.New[Request|Response]`
  - `p[trace|metric|log]otlp.NewRequestFrom[Traces|Metrics|Logs]`
  - `p[trace|metric|log]otlp.NewClient`
  - `p[trace|metric|log]New[JSON|Proto][Marshaler|Unmarshale]`

- `extension`: Splitting ballast/zpages extension into their own modules (#6191)
  The import path for the extension modules can now be accessed directly:
  - `go.opentelemetry.io/collector/extension/ballastextension`
  - `go.opentelemetry.io/collector/extension/zpagesextension`

  If using one of these extensions, modify your Collector builder configuration to use `gomod` directly, such as:
  - `gomod: go.opentelemetry.io/collector/extension/ballastextension v0.64.0`
- `processor`: Splitting batch/memorylimiter processors into their own modules (#6188, #6192, #6193)
  The import path for the processor modules can now be access directly:
  - `go.opentelemetry.io/collector/processor/batchprocessor`
  - `go.opentelemetry.io/collector/processor/memorylimiter`

  If using this processor, modify your Collector builder configuration to use `gomod` directly, such as:
  - `gomod: go.opentelemetry.io/collector/processor/batchprocessor v0.64.0`
- `otlpreceiver`: Splitting otlp receiver into its own module (#6190)
  The import path for the OTLP receiver can now be access directly:
  - `go.opentelemetry.io/collector/receiver/otlpreceiver`

  If using this receiver, modify your Collector builder configuration to use `gomod` directly, such as:
  - `gomod: go.opentelemetry.io/collector/receiver/otlpreceiver v0.64.0`

- `confmap`: Remove unused public member `sync.Mutex` from `confmap.Resolver`. (#6489)
  This is an exception from the deprecation rule since this is not used anywhere and it is very unlikely that is used by external users.

### ðŸš© Deprecations ðŸš©

- `config`: Deprecate multiple types and funcs in `config` package (#6422)
  - config.ComponentID => component.ID
  - config.Type => component.Type
  - config.DataType => component.DataType
  - config.[Traces|Metrics|Logs]DataType => component.DataType[Traces|Metrics|Logs]
  - config.Receiver => component.ReceiverConfig
  - config.UnmarshalReceiver => component.UnmarshalReceiverConfig
  - config.Processor => component.ProcessorConfig
  - config.UnmarshalProcessor => component.UnmarshalProcessorConfig
  - config.Exporter => component.ExporterConfig
  - config.UnmarshalExporter => component.UnmarshalExporterConfig
  - config.Extension => component.ExtensionConfig
  - config.UnmarshalExtension => component.UnmarshalExtensionConfig

- `obsreport`: deprecate `obsreport.New[Receiver|Scraper|Processor|Exporter]` in favor of `obsreport.MustNew[Receiver|Scraper|Processor|Exporter]` (#6458)
- `config/configgrpc`: Provide better helpers for configgrpc, consistent with confighttp (#6441)
  - Deprecate `GRPCClientSettings.ToDialOptions` in favor of `GRPCClientSettings.ToClientConn`.
  - Deprecate `GRPCServerSettings.ToServerOption` in favor of `GRPCServerSettings.ToServer`.

- `featuregates`: Removing Gates being configurable externally to the Registry (#6167)
  - Deprecate `Gate.ID` in favour of `Registry.RegisterID`
  - Deprecate `Gate.Enabled` in favour of `Gate.IsEnabled()`
  - Deprecate `Gate.Description` in favour of `WithRegisterDescription` to be used with `Registry.RegisterID`
  - Deprecate `Registry.Register` in favour of `Registry.RegisterID`
  - Deprecate `Registry.MustRegister` in favour of `Registry.MustRegisterID`


### ðŸ’¡ Enhancements ðŸ’¡

- `service/telemetry`: Allow to configure sampling config for logs. (#4554)
- `featuregates`: Extend feature gate definition to include support for issue links and expected deprecated version (#6167)
- `receiver/otlp`: Add warning when using unspecified (`0.0.0.0`) address on HTTP or gRPC servers (#6151)
- `obsreport`: Instrument `obsreport.Exporter` metrics with otel-go (#6346)
- `config`: Add validation for empty address [telemetry::metrics::address] (#5661)

### ðŸ§° Bug fixes ðŸ§°

- `cgroups`: split line into exactly 3 parts while parsing /proc/{pid}/cgroup (#6389)
- `cgroups`: Use int64 for cgroup v1 parsing (#6443)

## v0.63.1

### ðŸ§° Bug fixes ðŸ§°

- `service`: Fix running collector as a windows service. (#6433)

## v0.63.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `pdata`: JSON marshaler emits enums as ints per spec reuqirements. This may be a breaking change if receivers were not confirming with the spec. (#6338)
- `confmap`: Remove deprecated `confmap.Conf.UnmarshalExact` API in 0.62.0 (#6315)
- `pdata`: Remove API deprecated in 0.62.0 (#6314)
  - Remove deprecated `pcommon.NewValueString`
  - Remove deprecated `pcommon.Map.PutString`
  - Remove deprecated `plog.SeverityNumberUndefined`
  - Remove deprecated `p[metric|log|trace]otlp.RegisterServer`
  - Remove deprecated `pmetric.[Default]?MetricDataPointFlags`
  - Remove deprecated `pmetric.MetricAggregationTemporality*`
  - Remove deprecated `pmetric.MetricTypeNone`
  - Remove deprecated `pmetric.NumberDataPointValueTypeNone`
  - Remove deprecated `pmetric.ExemplarValueTypeNone`
  - Remove deprecated `pmetric.[New]?Buckets`
  - Remove deprecated `pmetric.[New]?ValueAtQuantile`
  - Remove deprecated `pmetric.[New]?ValueAtQuantileSlice`
  - Remove deprecated `ptrace.[New]?SpanStatus`

- `exporter`: Splitting otlp, otlphttp and logging exporters into their own modules (#6343)
  The import path for these exporters can now be access directly:
  - `go.opentelemetry.io/collector/exporter/loggingexporter`
  - `go.opentelemetry.io/collector/exporter/otlpexporter`
  - `go.opentelemetry.io/collector/exporter/otlphttpexporter`

  If using these exporters, modify your Collector builder configuration to use `gomod` directly, such as:
  - `gomod: go.opentelemetry.io/collector/exporter/otlpexporter v0.63.0`

### ðŸš© Deprecations ðŸš©

- `overwritepropertiesconverter`: Deprecate `overwritepropertiesconverter`, only used by non builder distributions. (#6294)
- `pdata`: Add `Export` prefix to `p[trace|metric|log]otlp.[Request|Response]` (#6365)
  - Deprecate `p[trace|metric|log]otlp.[Request|Response]` in favor of `p[trace|metric|log]otlp.Export[Request|Response]`
  - Deprecate `p[trace|metric|log]otlp.New[Request|Response]` in favor of `p[trace|metric|log]otlp.NewExport[Request|Response]`
  - Deprecate `p[trace|metric|log]otlp.NewRequestFrom[Traces|Metrics|Logs]` in favor of
    `p[trace|metric|log]otlp.NewExportRequestFrom[Traces|Metrics|Logs]`

- `pdata`: Deprecate `p[trace|metric|log]otlp.NewClient` in favor of `p[trace|metric|log]otlp.NewGRPCClient` (#6350)
- `exporter/logging`: Deprecate 'loglevel' in favor of 'verbosity' option (#5878)
- `pdata`: Deprecate `New[JSON|Proto][Marshaler|Unmarshale]` in favor of exposing the underlying structs (#6340)

### ðŸ’¡ Enhancements ðŸ’¡

- `pdata`: Introduce partial success fields in ExportResponse. (#5815, #5816, #6365)
- `obsreport`: Instrument `obsreport.Receiver` metrics with otel-go (#6222)
- `service/telemetry`: Move logging and tracing initialization to service/telemetry (#5564)
- `confmap`: Fail fast when a resolver has URIs with unsupported schemes. (#6274)
- `service`: Use the same `prometheus.Registry` for the OpenCensus and OpenTelemetry Go prometheus exporters to act as a bridge for internal telemetry (#6297)

### ðŸ§° Bug fixes ðŸ§°

- `pdata`: Because of wrong deprecation/rename in proto, services still send the fake 1000 proto id. See https://github.com/open-telemetry/opentelemetry-proto/issues/431 (#6342)
- `confmap`: When a sub-config implements Unmarshaler, do not reinitialized it unless necessary. (#6392)
- `pdata`: Enable enums as ints for otlp messages, switch to jsoniter for responses. (#6345)
- `collector`: Fixed collector service not cleaning up if it failed during Start (#6352)

## v0.62.1 Beta

- Fix support for new line in config URI location. (#6306)

## v0.62.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Delete deprecated `go.opentelemetry.io/collector/service/featuregate`. (#6178)
- Delete deprecated `pmetric.OptionalType`. (#6178)
- Delete deprecated `ptrace.Span[Link]?.TraceStateStruct`. (#6178)
- Delete deprecated `pcommon.NewValueBytesEmpty`. (#6178)
- Delete deprecated `pmetric.MetricDataType`. (#6178)
- Delete deprecated `pmetric.Metric.DataType()`. (#6178)
- Delete deprecated `pmetric.NumberDataPoint.[Set]?[Int|Double]Val()`. (#6178)
- Delete deprecated `pmetric.Exemplar.[Set]?[Int|Double]Val()`. (#6178)
- Delete deprecated `p[metric|log|trace]otlp.[Client|Server]`. (#6178)
- Delete deprecated pdata Clone methods. (#6178)
- Delete deprecated `pcommon.Value` getter/setter methods with `Val` suffix. (#6178)
- Delete deprecated `StringVal` and `SetStringVal` methods. (#6178)
- Delete deprecated `ValueTypeString` method. (#6178)
- Change AggregationTemporality.String to simpler, easier to read. (#6117)
- Update `pcommon.ValueType.String` output to string representation of corresponding type identifiers. The following
  values will be returned: (#6247)
  - ValueTypeEmpty.String() -> "Empty"
  - ValueTypeStr.String() -> "Str"
  - ValueTypeBool.String() -> "Bool"
  - ValueTypeInt.String() -> "Int"
  - ValueTypeDouble.String() -> "Double"
  - ValueTypeMap.String() -> "Map"
  - ValueTypeSlice.String() -> "Slice"
  - ValueTypeBytes.String() -> "Bytes"
- Rename output of `[MetricType|NumberDataPointValueType|ExemplarValueType].String()` for zero values from `"None"` to
  `"Empty"` (#6270)

### ðŸš© Deprecations ðŸš©

- Deprecate `p[metric|log|trace]otlp.RegiserServer` in favor of `p[metric|log|trace]otlp.RegiserGRPCServer` (#6182)
- Deprecate `pcommon.Map.PutString` in favor of `pcommon.Map.PutStr` (#6210)
- Deprecate `pcommon.NewValueString` in favor of `pcommon.NewValueStr` (#6209)
- Deprecate `pmetric.MetricAggregationTemporality` enum type in favor of `pmetric.AggregationTemporality` (#6253)
- Deprecate `confmap.Conf.UnmarshalExact` in favor of `confmap.Conf.Unmarshal(.., WithErrorUnused)` (#6231)
- Deprecate `pmetric.[Default]?MetricDataPointFlags` favor of `pmetric.[Default]?DataPointFlags` (#6259)
- Deprecate `ptrace.[New]?SpanStatus` favor of `ptrace.[New]?Status` (#6258)
- Deprecate `pmetric.[New]?Buckets` in favor of `pmetric.[New]?ExponentialHistogramDataPointBuckets` (#6261)
- Deprecate `plog.SeverityNumberUndefined` in favor of `plog.SeverityNumberUnspecified` (#6269)
- Deprecate `pmetric.[New]?ValueAtQuantile[Slice]?` in favor of `pmetric.[New]?SummaryDataPointValueAtQuantile[Slice]?` (#6262)
- Deprecate enum zero constants ending with `None` (#6270)
  - Deprecate `pmetric.MetricTypeNone` in favor of `pmetric.MetricTypeEmpty`
  - Deprecate `pmetric.NumberDataPointValueTypeNone` in favor of `pmetric.NumberDataPointValueTypeEmpty`
  - Deprecate `pmetric.ExemplarValueTypeNone` in favor of `pmetric.ExemplarValueTypeEmpty`

### ðŸ’¡ Enhancements ðŸ’¡

- Add config marshaler (#5566)
- Add semantic conventions for specification v1.10-v1.13 (#6213)
- `receiver/otlp`: Make logs related to gRCPC and HTTP server startup clearer (#6174)
- Add prometheus metric prefix to Collector's own telemetry when using OpenTelemetry for internal telemetry (#6223)
- `exporter/logging`: Apply consistent rendering of map values (#6244)
- Add support in the confmap.Resolver to expand embedded config URIs inside configuration. (#6276)

### ðŸ§° Bug fixes ðŸ§°

- Fixed bug where `telemetryInitializer` is not cleaned up when `newService` errors (#6239)

## v0.61.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Change `ptrace.Span[Link]?.TraceState` signature to match `ptrace.Span[Link]?.TraceStateStruct` (#6085)
- Delete deprecated `pmetric.NewMetricDataPointFlagsImmutable` func. (#6097)
- Delete deprecated `pmetric.*DataPoint.[Set]FlagsImmutable()` funcs. (#6097)
- Delete deprecated `config.Unmarshalable` interface. (#6084)
- Delete deprecated `p[metric|log|trace].MarshalerSizer` interfaces (#6083)
- Delete deprecated `pcommon.Map.Insert*` funcs. (#6088)
- Delete deprecated `pcommon.Map.Upsert*` funcs. (#6088)
- Delete deprecated `pcommon.Map.Update*` funcs. (#6088)
- Change `pcommon.NewValueBytes` signature to match `pcommon.NewValueBytesEmpty`. (#6088)
- Delete deprecated `pcommon.Empty[Trace|Span]ID`. (#6098)
- Delete deprecated `pcommon.[Trace|Span]ID.Bytes()`. (#6098)
- Delete deprecated `pcommon.New[Trace|Span]ID()`. (#6098)
- Delete deprecated `pcommon.Value.SetBytesVal`. (#6088)
- Delete deprecated `pmetric.Metric.SetDataType`. (#6095)
- Delete deprecated `plog.LogRecord.[Set]FlagStruct` funcs. (#6100)
- Delete deprecated `pcommon.ImmutableByteSlice` and `pcommon.NewImmutableByteSlice`. (#6107)
- Delete deprecated `pcommon.ImmutableFloat64Slice` and `pcommon.NewImmutableFloat64Slice`. (#6107)
- Delete deprecated `pcommon.ImmutableUInt64Slice` and `pcommon.NewImmutableUInt64Slice`. (#6107)
- Delete deprecated `*DataPoint.SetBucketCounts` and `*DataPoint.SetExplicitBounds`. (#6108)

### ðŸš© Deprecations ðŸš©

- Deprecate `go.opentelemetry.io/collector/service/featuregate` in favor of `go.opentelemetry.io/collector/featuregate`. (#6094)
- Deprecate `pmetric.OptionalType`, unused enum type. (#6096)
- Deprecate `ptrace.Span[Link]?.TraceStateStruct` in favor of `ptrace.Span[Link]?.TraceState` (#6085)
- Deprecate `pcommon.NewValueBytesEmpty` in favor of `pcommon.NewValueBytes` that now has the same signature. (#6105)
- Deprecate `pmetric.MetricDataType` and related constants in favor of `pmetric.MetricType`. (#6127)
- Deprecate `pmetric.Metric.DataType()` in favor of `pmetric.Metric.Type()`. (#6127)
- Deprecate `pmetric.NumberDataPoint.[Set]?[Int|Double]Val()` in favor of `pmetric.NumberDataPoint.[Set]?[Int|Double]Value()`. (#6134)
- Deprecate `pmetric.Exemplar.[Set]?[Int|Double]Val()` in favor of `pmetric.Exemplar.[Set]?[Int|Double]Value()`. (#6134)
- Deprecate `p[metric|log|trace]otlp.[Client|Server]` in favor of `p[metric|log|trace]otlp.GRPC[Client|Server]` (#6165)
- Deprecate pdata Clone methods in favor of CopyTo for consistency with other pdata structs (#6164)
  - `pmetric.Metrics.Clone` is deprecated in favor of `pmetric.Metrics.CopyTo`
  - `ptrace.Traces.Clone` is deprecated in favor of `pmetric.Traces.CopyTo`
  - `plog.Logs.Clone` is deprecated in favor of `plogs.Logs.CopyTo`
- Rename all `pcommon.Value` getter/setter methods by removing `Val` suffix. (#6092)
  - Old methods with `Val` suffix are deprecated.
  - `StringVal` and `SetStringVal` are deprecated in favor of `Str` and `SetStr` to avoid implementing `fmt.Stringer` interface.
  - Therefore, `ValueTypeString` is deprecated in favour of `ValueTypeStr` for consistency.

### ðŸ’¡ Enhancements ðŸ’¡

- Add AppendEmpty and EnsureCapacity method to primitive pdata slices (#6060)
- Expose `AsRaw` and `FromRaw` `pcommon.Value` methods (#6090)
- Convert `ValueTypeBytes` attributes in logging exporter (#6153)
- service.name Resource attribute is added to Collector's own telemetry, defaults to the value of `BuildInfo.Command` and can be overridden in the config (#6152)
- Updated how `telemetryInitializer` is created so it's instanced per Collector instance rather than global to the process (#6138)

## v0.60.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Replace deprecated `*DataPoint.Flags()` with `*DataPoint.[Set]FlagsImmutable()`. (#6017)
- Remove deprecated `MetricDataPointFlagsStruct` struct and `NewMetricDataPointFlagsStruct` func. (#6017)
- Replace deprecated `MetricDataPointFlags` with `MetricDataPointFlagsImmutable`. (#6017)
- Replace deprecated `LogRecord.[Set]Flags()` with `LogRecord.[Set]FlagsStruct()`. (#6007)
- Remove deprecated components helpers funcs (#6006)
  - `exporterhelper.New[Traces|Metrics|Logs]ExporterWithContext`
  - `processorhelper.New[Traces|Metrics|Logs]ProcessorWithCreateSettings`
  - `component.NewExtensionFactoryWithStabilityLevel`
- Remove deprecated `pcommon.InvalidTraceID` and `pcommon.InvalidSpanID` funcs (#6008)
- Remove deprecated `pcommon.Map` methods: `Update`, `Upsert`, `InsertNull` (#6019)

### ðŸš© Deprecations ðŸš©

- Deprecate pmetric.Metric.SetDataType, in favor of empty setters for each type. (#5979)
- Deprecate `p[metric|log|trace].MarshalerSizer` in favor of `p[metric|log|trace].MarshalSizer`. (#6033)
- Deprecate `pcommon.Map.Update+` in favor of `pcommon.Map.Get` + `pcommon.Value.Set+` (#6013)
- Deprecate `pcommon.Empty[Trace|Span]ID` in favor of `pcommon.New[Trace|Span]IDEmpty` (#6008)
- Deprecate `pcommon.[Trace|Span]ID.Bytes` in favor direct conversion. (#6008)
- Deprecate `pcommon.New[Trace|Span]ID` in favor direct conversion. (#6008)
- Deprecate `MetricDataPointFlagsImmutable` type. (#6017)
- Deprecate `*DataPoint.[Set]FlagsImmutable()` funcs in favor of `*DataPoint.[Set]Flags()`. (#6017)
- Deprecate `LogRecord.FlagsStruct()` and `LogRecord.SetFlagsStruct()` in favor of `LogRecord.Flags()` and `LogRecord.SetFlags()`. (#6007)
- Deprecate `config.Unmarshallable` in favor of `confmap.Unmarshaler`. (#6031)
- Primitive slice wrapper are now mutable (#5971):
  - `pcommon.ImmutableByteSlice` is deprecated in favor of `pcommon.ByteSlice`
  - `pcommon.ImmutableFloat64Slice` is deprecated in favor of `pcommon.Float64Slice`
  - `pcommon.ImmutableUInt64Slice` is deprecated in favor of `pcommon.UInt64Slice`
  - Temporarily deprecate `pcommon.NewValueBytes` that will be replaced with `pcommon.NewValueBytesEmpty` in 0.60.0
  - Deprecate `pcommon.Map.UpsertBytes` in favor of `pcommon.Map.PutEmptyBytes` (#6064)
  - Deprecate `pcommon.Value.SetBytesVal` in favor of `pcommon.Value.SetEmptyBytesVal`
  - Deprecate `pcommon.New[Slice|Map]FromRaw` functions in favor of `New[Slice|Map]().FromRaw` (#6045)
- Deprecate `pcommon.Map.Insert*` methods (#6051)
- Deprecate `pcommon.Map.Upsert*` methods in favor of `pcommon.Map.Put*` (#6064)
- Deprecate `ptrace.TraceState` in favor of `pcommon.TraceState`. (#6052)
  - `ptrace.Span.TraceState` in favor of `ptrace.Span.TraceStateStruct().AsRaw()`
  - `ptrace.Span.SetTraceState` in favor of `ptrace.Span.TraceStateStruct().FromRaw`
  - `ptrace.SpanLink.TraceState` in favor of `ptrace.SpanLink.TraceStateStruct().AsRaw()`
  - `ptrace.SpanLink.SetTraceState` in favor of `ptrace.SpanLink.TraceStateStruct().FromRaw`
  - `TraceStateStruct` is a temporary name that will be replaced back to `TraceState` in the next release.

### ðŸ’¡ Enhancements ðŸ’¡

- Add `skip-get-modules` builder flag to support isolated environment executions (#6009)
  - Skip unnecessary Go binary path validation when the builder is used with `skip-compilation` and `skip-get-modules` flags (#6026)
- Make the otlpreceiver support to use jsoniter to unmarshal JSON payloads. (#6040)
- Add mapstructure hook function for confmap.Unmarshaler interface (#6029)
- Add CopyTo and MoveTo methods to primitive slices (#6044)
- Add support to unmarshalls bytes into plogs.Logs with `jsoniter` in jsonUnmarshaler (#6021)
- Instead of exiting, `ocb` now generates a default Collector when no build configuration is supplied (#5752)

### ðŸ§° Bug fixes ðŸ§°

- otlpjson: Correctly skip unknown JSON value types. (#6038)
- Fix reading resource attributes from trace JSON. (#6023)

## v0.59.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated fields/funcs from `service` (#5907)
  - Remove `ConfigProviderSettings.Location`
  - Remove `ConfigProviderSettings.MapProviders`
  - Remove `ConfigProviderSettings.MapConverters`
  - Remove `featuregate.Registry.MustAppy`
- Remove deprecated funcs from `pdata` module. (#5911)
  - Remove `pmetric.MetricDataPointFlags.String()`
  - Remove `pmetric.NumberDataPoint.FlagsStruct()`
  - Remove `pmetric.HistogramDataPoint.FlagsStruct()`
  - Remove `pmetric.ExponentialHistogramDataPoint.FlagsStruct()`
  - Remove `pmetric.SummaryDataPoint.FlagsStruct()`
- Remove deprecated settings from `obsreport`, `ProcessorSettings.Level` and `ExporterSettings.Level` (#5918)
- Replace `processorhelper.New[Traces|Metrics|Logs]Exporter` with `processorhelper.New[Traces|Metrics|Logs]ProcessorWithCreateSettings` definition (#5915)
- Replace `exporterhelper.New[Traces|Metrics|Logs]Exporter` with `exporterhelper.New[Traces|Metrics|Logs]ExporterWithContext` definition (#5914)
- Replace ``component.NewExtensionFactory`` with `component.NewExtensionFactoryWithStabilityLevel` definition (#5917)
- Set TLS 1.2 as default for `min_version` for TLS configuration in case this property is not defined (affects servers). (#5956)

### ðŸš© Deprecations ðŸš©

- Deprecate `processorhelper.New[Traces|Metrics|Logs]ProcessorWithCreateSettings` in favor of `processorhelper.New[Traces|Metrics|Logs]Exporter` (#5915)
- Deprecates `LogRecord.Flags()` and `LogRecord.SetFlags()` in favor of `LogRecord.FlagsStruct()` and `LogRecord.SetFlagsStruct()`. (#5972)
- Deprecate `exporterhelper.New[Traces|Metrics|Logs]ExporterWithContext` in favor of `exporterhelper.New[Traces|Metrics|Logs]Exporter` (#5914)
- Deprecate `component.NewExtensionFactoryWithStabilityLevel` in favor of `component.NewExtensionFactory` (#5917)
- Deprecate `plog.SeverityNumber[UPPERCASE]` constants (#5927)
- Deprecate `pcommon.Map.InsertNull` method (#5955)
- Deprecate FlagsStruct types (#5933):
  - `MetricDataPointFlagsStruct` -> `MetricDataPointFlags`
  - `NewMetricDataPointFlagsStruct` -> `NewMetricDataPointFlags`
- Deprecate builder distribution flags, use configuration. (#5946)
- Enforce naming conventions for Invalid[Trace|Span]ID: (#5969)
  - Deprecate funcs `pcommon.InvalidTraceID` and `pcommon.InvalidSpanID` in favor of vars `pcommon.EmptyTraceID` and `pcommon.EmptySpanID`
- Deprecate `Update` and `Upsert` methods of `pcommon.Map` (#5975)
- Deprecated the current MetricDataPointFlags API.  The new API provides functions to check and set Flags. (#5999)
  - `NumberDataPoint.Flags` -> `NumberDataPoint.FlagsImmutable`
  - `HistogramDataPoint.Flags` -> `HistogramDataPoint.FlagsImmutable`
  - `ExponentialHistogramDataPoint.Flags` -> `ExponentialHistogramDataPoint.FlagsImmutable`
  - `SummaryDataPoint.Flags` -> `SummaryDataPoint.FlagsImmutable`
  - `MetricDataPointFlags` -> `MetricDataPointFlagsImmutable`
  - `NewMetricDataPointFlags` -> `MetricDataPointFlagsImmutable`

### ðŸ’¡ Enhancements ðŸ’¡

- Added `MarshalerSizer` interface to `ptrace`, `plog`, and `pmetric` packages. `NewProtoMarshaler` now returns a `MarshalerSizer` (#5929)
- Add support to unmarshalls bytes into pmetric.Metrics with `jsoniter` in jsonUnmarshaler(#5433)
- Add httpprovider to allow loading config files stored in HTTP (#5810)
- Added `service.telemetry.traces.propagators` configuration to set propagators for collector's internal spans. (#5572)
- Remove unnecessary duplicate code and allocations for reading enums in JSON. (#5928)
- Add "dist.build_tags" configuration option to support passing go build flags to builder. (#5659)
- Add an AsRaw func on the flags, lots of places to encode these flags. (#5934)
- Change pdata generated types to use type definition instead of aliases. (#5936)
  - Improves documentation, and makes code easier to read/understand.
- Log `InstrumentationScope` attributes in `loggingexporter` (#5976)
- Add `UpsertEmpty`, `UpsertEmptyMap` and `UpsertEmptySlice` methods to `pcommon.Map` (#5975)
- Add `SetEmptyMapVal` and `SetEmptySliceVal` methods to `pcommon.Value` (#5975)

### ðŸ§° Bug fixes ðŸ§°

- Fix reading scope attributes for trace JSON, remove duplicate code. (#5930)
- otlpjson/trace: skip unknown fields instead of error. (#5931)
- Fix bug in setting the correct collector state after a configuration change event. (#5830)
- Fix json trace unmarshalling for numbers (#5924):
  - Accept both string and number for float64.
  - Accept both string and number for int32/uint32.
  - Read uint64 numbers without converting from int64.
- Fix persistent storage client not closing when shutting down (#6003)

## v0.58.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove the InstrumentationLibrary to Scope translation (part of transition to OTLP 0.19). (#5819)
  - This has a side effect that when sending JSON encoded telemetry using OTLP proto <= 0.15.0, telemetry will be dropped.
- Require the storage to be explicitly set for the (experimental) persistent queue (#5784)
- Remove deprecated `confighttp.HTTPClientSettings.ToClientWithHost` (#5803)
- Remove deprecated component stability helpers (#5802):
  - `component.WithTracesExporterAndStabilityLevel`
  - `component.WithMetricsExporterAndStabilityLevel`
  - `component.WithLogsExporterAndStabilityLevel`
  - `component.WithTracesReceiverAndStabilityLevel`
  - `component.WithMetricsReceiverAndStabilityLevel`
  - `component.WithLogsReceiverAndStabilityLevel`
  - `component.WithTracesProcessorAndStabilityLevel`
  - `component.WithMetricsProcessorAndStabilityLevel`
  - `component.WithLogsProcessorAndStabilityLevel`
- ABI breaking change: `featuregate.Registry.Apply` returns error now.
- Update minimum go version to 1.18 (#5795)
- Remove deprecated `Flags` API from pdata (#5814)
- Change `confmap.Provider` to return pointer to `Retrieved` (#5839)

### ðŸš© Deprecations ðŸš©

- Deprecate duplicate settings in service.ConfigProvider, embed ResolverSettings (#5843)
- Deprecate `featuregate.Registry.MustApply` in favor of `featuregate.Registry.Apply`. (#5801)
- Deprecate the `component.Factory.StabilityLevel(config.DataType)` in favor of Stability per component (#5762):
  - `component.ExporterFactory.TracesExporterStability`
  - `component.ExporterFactory.MetricsExporterStability`
  - `component.ExporterFactory.LogsExporterStability`
  - `component.ProcessorFactory.TracesProcessorStability`
  - `component.ProcessorFactory.MetricsProcessorStability`
  - `component.ProcessorFactory.LogsProcessorStability`
  - `component.ReceiverFactory.TracesReceiverStability`
  - `component.ReceiverFactory.MetricsReceiverStability`
  - `component.ReceiverFactory.LogsReceiverStability`
- Deprecate `obsreport.ProcessorSettings.Level` and `obsreport.ExporterSettings.Level`, use MetricsLevel from CreateSettings (#5824)
- Deprecate `processorhelper.New[Traces|Metrics|Logs]Processor` in favor of `processorhelper.New[Traces|Metrics|Logs]ProcessorWithCreateSettings` (#5833)
- Deprecate MetricDataPointFlags.String(), no other pdata flags have this method (#5868)
- Deprecates `FlagsStruct` in favor of `Flags` (#5842)
  - `FlagsStruct` -> `Flags`
- Deprecate `exporterhelper.New[Traces|Metrics|Logs]Exporter` in favor of `exporterhelper.New[Traces|Metrics|Logs]ExporterWithContext` (#5834)

### ðŸ’¡ Enhancements ðŸ’¡

- Enable persistent queue in the build by default (#5828)
- Bump to opentelemetry-proto v0.19.0. (#5823)
- Expose `Scope.Attributes` in pdata (#5826)
- Remove unnecessary limitation on `pcommon.Value.Equal` that slices have only primitive values. (#5865)
- Add support to handle 404, 405 http error code as permanent errors in OTLP exporter (#5827)
- Enforce scheme name restrictions to all `confmap.Provider` implementations. (#5861)

## v0.57.2 Beta

See the changelog for v0.57.0.

## v0.57.1 Beta

This was a failed release.

## v0.57.0 Beta

There isn't a valid core binary for this release. Use v0.57.2 instead.

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated funcs/types from service related to `Config` (#5755)
- Change`confighttp.ToClient` to accept a `component.Host` (#5737)
- Remove deprecated funcs from pdata related to mutable slices (#5754)
- Change the following deprecated component functions to ensure a stability level is set:
  - `component.WithTracesExporter`
  - `component.WithMetricsExporter`
  - `component.WithLogsExporter`
  - `component.WithTracesReceiver`
  - `component.WithMetricsReceiver`
  - `component.WithLogsReceiver`
  - `component.WithTracesProcessor`
  - `component.WithMetricsProcessor`
  - `component.WithLogsProcessor`

### ðŸš© Deprecations ðŸš©

- Deprecated the current Flag API.  The new API provides functions to check and set Flags (#5790) (#5602):
  - `NumberDataPoint.Flags` -> `NumberDataPoint.FlagsStruct`
  - `NumberDataPoint.SetFlags` -> `NumberDataPoint.FlagsStruct`
  - `HistogramDataPoint.Flags` -> `HistogramDataPoint.FlagsStruct`
  - `HistogramDataPoint.SetFlags` -> `HistogramDataPoint.FlagsStruct`
  - `ExponentialHistogramDataPoint.Flags` -> `ExponentialHistogramDataPoint.FlagsStruct`
  - `ExponentialHistogramDataPoint.SetFlags` -> `ExponentialHistogramDataPoint.FlagsStruct`
  - `SummaryDataPoint.Flags` -> `SummaryDataPoint.FlagsStruct`
  - `SummaryDataPoint.SetFlags` -> `SummaryDataPoint.FlagsStruct`
  - `MetricDataPointFlags` -> `MetricDataPointFlagsStruct`
  - `NewMetricDataPointFlags` -> `NewMetricDataPointFlagsStruct`
  - `MetricDataPointFlagsNone` -> `MetricDataPointFlagsStruct.NoRecordedValue`
  - `MetricDataPointFlagNoRecordedValue` -> `MetricDataPointFlagsStruct.NoRecordedValue`
  - `MetricDataPointFlag`
- Deprecate the following component functions added to ensure a stability level is set:
  - `component.WithTracesExporterAndStabilityLevel` -> `component.WithTracesExporter`
  - `component.WithMetricsExporterAndStabilityLevel` -> `component.WithMetricsExporter`
  - `component.WithLogsExporterAndStabilityLevel` -> `component.WithLogsExporter`
  - `component.WithTracesReceiverAndStabilityLevel` -> `component.WithTracesReceiver`
  - `component.WithMetricsReceiverAndStabilityLevel` -> `component.WithMetricsReceiver`
  - `component.WithLogsReceiverAndStabilityLevel` -> `component.WithLogsReceiver`
  - `component.WithTracesProcessorAndStabilityLevel` -> `component.WithTracesProcessor`
  - `component.WithMetricsProcessorAndStabilityLevel` -> `component.WithMetricsProcessor`
  - `component.WithLogsProcessorAndStabilityLevel` -> `component.WithLogsProcessor`

### ðŸ’¡ Enhancements ðŸ’¡

- Make the in-memory and persistent queues more consistent (#5764)
- `ocb` now exits with an error if it fails to load the build configuration. (#5731)
- Deprecate `HTTPClientSettings.ToClientWithHost` (#5737)

### ðŸ§° Bug fixes ðŸ§°

- Fix bug in ocb where flags did not take precedence. (#5726)

## v0.56.0 Beta

### ðŸ’¡ Enhancements ðŸ’¡

- Add `linux-ppc64le` architecture to cross build tests in CI (#5645)
- `client`: perform case insensitive lookups in case the requested metadata value isn't found (#5646)
- `loggingexporter`: Decouple `loglevel` field from level of logged messages (#5678)
- Expose `pcommon.NewSliceFromRaw` function (#5679)
- `loggingexporter`: create the exporter's logger from the service's logger (#5677)
- Add `otelcol_exporter_queue_capacity` metrics show the collector's exporter queue capacity (#5475)
- Add support to handle 402, 413, 414, 431 http error code as permanent errors in OTLP exporter (#5685)

### ðŸ§° Bug fixes ðŸ§°

- Fix Collector panic when disabling telemetry metrics (#5642)
- Fix Collector panic when featuregate value is empty (#5663)
- Fix confighttp.compression panic due to nil request.Body. (#5628)

## v0.55.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated `config.ServiceTelemetry` (#5565)
- Remove deprecated `config.ServiceTelemetryLogs` (#5565)
- Remove deprecated `config.ServiceTelemetryMetrics` (#5565)

### ðŸš© Deprecations ðŸš©

- Deprecate `service.ConfigServiceTelemetry`, `service.ConfigServiceTelemetryLogs`, and `service.ConfigServiceTelemetryMetrics` (#5565)
- Deprecate the following component functions to ensure a stability level is set (#5580):
  - `component.WithTracesExporter` -> `component.WithTracesExporterAndStabilityLevel`
  - `component.WithMetricsExporter` -> `component.WithMetricsExporterAndStabilityLevel`
  - `component.WithLogsExporter` -> `component.WithLogsExporterAndStabilityLevel`
  - `component.WithTracesReceiver` -> `component.WithTracesReceiverAndStabilityLevel`
  - `component.WithMetricsReceiver` -> `component.WithMetricsReceiverAndStabilityLevel`
  - `component.WithLogsReceiver` -> `component.WithLogsReceiverAndStabilityLevel`
  - `component.WithTracesProcessor` -> `component.WithTracesProcessorAndStabilityLevel`
  - `component.WithMetricsProcessor` -> `component.WithMetricsProcessorAndStabilityLevel`
  - `component.WithLogsProcessor` -> `component.WithLogsProcessorAndStabilityLevel`
- Deprecate `Registry.Apply` in `service.featuregate` (#5660)

### ðŸ’¡ Enhancements ðŸ’¡

- Components stability levels are now logged. By default components which haven't defined their stability levels, or which are
  unmaintained, deprecated or in development will log a message. (#5580)
- `exporter/logging`: Skip "bad file descriptor" sync errors (#5585)

### ðŸ§° Bug fixes ðŸ§°

- Fix initialization of the OpenTelemetry MetricProvider. (#5571)
- Set log level for `undefined` stability level to debug. (#5635)

## v0.54.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated `GetLogger`. (#5504)
- Remove deprecated `configtest.LoadConfigMap` (#5505)
- Remove deprecated `config.Map` (#5505)
- Remove deprecated `config.MapProvider` (#5505)
- Remove deprecated `config.MapConverter` (#5505)
- Remove deprecated `config.Received` (#5505)
- Remove deprecated `config.CloseFunc` (#5505)
- Deprecated `pcommon.Value.NewValueBytes` is brought back taking `pcommon.ImmutableByteSlice` as an argument instead of `[]byte` (#5299)

### ðŸš© Deprecations ðŸš©

- Use immutable slices for primitive types slices to restrict mutations. (#5299)
  - `Value.NewValueMBytes` func is deprecated in favor of `Value.NewValueBytes` func that takes
    `ImmutableByteSlice` instead of `[]byte`
  - `Value.SetMBytesVal` func is deprecated in favor of `Value.SetBytesVal` func that takes
    `pcommon.ImmutableByteSlice` instead of []byte.
  - `Value.BytesVal` func is deprecated in favor of `Value.BytesVal` func that returns `pcommon.ImmutableByteSlice`
    instead of []byte.
  - `<HistogramDataPoint|Buckets>.SetMBucketCounts` funcs are deprecated in favor of
    `<HistogramDataPoint|Buckets>.SetBucketCounts` funcs that take `pcommon.ImmutableUInt64Slice` instead of []uint64.
  - `<HistogramDataPoint|Buckets>.MBucketCounts` funcs are deprecated in favor of
    `<HistogramDataPoint|Buckets>.BucketCounts` funcs that return `pcommon.ImmutableUInt64Slice` instead of []uint64.
  - `HistogramDataPoint.SetMExplicitBounds` func is deprecated in favor of `HistogramDataPoint.SetExplicitBounds` func
    that takes `pcommon.ImmutableFloat64Slice` instead of []float64.
  - `HistogramDataPoint.MExplicitBounds` func func is deprecated in favor of `HistogramDataPoint.ExplicitBounds`
    returns `pcommon.ImmutableFloat64Slice` instead of []float64.

### ðŸ’¡ Enhancements ðŸ’¡

- Deprecate `HTTPClientSettings.ToClient` in favor of `HTTPClientSettings.ToClientWithHost` (#5584)
- Use OpenCensus `metric` package for process metrics instead of `stats` package (#5486)
- Update OTLP to v0.18.0 (#5530)
- Log histogram min/max fields with `logging` exporter (#5520)

### ðŸ§° Bug fixes ðŸ§°

- Update sum field of exponential histograms to make it optional (#5530)
- Remove redundant extension shutdown call (#5532)
- Refactor pipelines builder, fix some issues (#5512)
  - Unconfigured receivers are not identified, this was not a real problem in final binaries since the validation of the config catch this.
  - Allow configurations to contain "unused" receivers. Receivers that are configured but not used in any pipeline, this was possible already for exporters and processors.
  - Remove the enforcement/check that Receiver factories create the same instance for the same config.

## v0.53.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated `componenterror` package. (#5420)
- Remove deprecated `config.MapConverterFunc`. (#5419)
- Remove `AddCollectorVersionTag`, enabled for long time already. (#5471)

### ðŸš© Deprecations ðŸš©

- Move `config.Map` to its own package `confmap` which does not depend on any component concept (#5237)
  - `config.Map` -> `confmap.ConfMap`
  - `config.MapProvider` -> `confmap.Provider`
  - `config.Received` -> `confmap.Received`
  - `config.NewReceivedFromMap` -> `confmap.NewReceived`
  - `config.CloseFunc` -> `confmap.CloseFunc`
  - `config.ChangeEvent` -> `confmap.ChangeEvent`
  - `config.MapConverter` -> `confmap.Converter`
  - Package `envmapprovider` -> `envprovider`
  - Package `filemapprovider` -> `fileprovider`
  - Package `yamlmapprovider` -> `yamlprovider`
  - Package `expandmapconverter` -> `expandconverter`
  - Package `filemapprovider` -> `fileprovider`
  - Package `overwritepropertiesmapconverter` -> `overwritepropertiesconverter`
- Deprecate `component.ExtensionDefaultConfigFunc` in favor of `component.ExtensionCreateDefaultConfigFunc` (#5451)
- Deprecate `confmap.Received.AsMap` in favor of `confmap.Received.AsConf` (#5465)
- Deprecate `confmap.Conf.Set`, not used anywhere for the moment (#5485)

### ðŸ’¡ Enhancements ðŸ’¡

- Move `service.mapResolver` to `confmap.Resolver` (#5444)
- Add `linux-arm` architecture to cross build tests in CI (#5472)

### ðŸ§° Bug fixes ðŸ§°

- Fixes the "service.version" label value for internal metrics, always was "latest" in core/contrib distros. (#5449).
- Send correct batch stats when SendBatchMaxSize is set (#5385)
- TLS `MinVersion` and `MaxVersion` defaults will be handled by `crypto/tls` (#5480)

## v0.52.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove `configunmarshaler.Unmarshaler` interface, per deprecation comment (#5348)
- Remove deprecated pdata funcs/structs from v0.50.0 (#5345)
- Remove deprecated pdata getters and setters of primitive slice values: `Value.BytesVal`, `Value.SetBytesVal`,
  `Value.UpdateBytes`, `Value.InsertBytes`, `Value.UpsertBytes`, `<HistogramDataPoint|Buckets>.BucketCounts`,
  `<HistogramDataPoint|Buckets>.SetBucketCounts`, `HistogramDataPoint.ExplicitBounds`,
  `HistogramDataPoint.SetExplicitBounds` (#5347)
- Remove deprecated featuregate funcs/structs from v0.50.0 (#5346)
- Remove access to deprecated members of the config.Retrieved struct (#5363)
- Replace usage of `config.MapConverterFunc` with `config.MapConverter` (#5382)

### ðŸš© Deprecations ðŸš©

- Deprecate `config.Config` and `config.Service`, use `service.Config*` (#4608)
- Deprecate `componenterror` package, move everything to `component` (#5383)
- `pcommon.Value.NewValueBytes` is deprecated in favor of `Value.NewValueMBytes` in preparation of migration to
  immutable slices (#5367)

### ðŸ’¡ Enhancements ðŸ’¡

- Update OTLP to v0.17.0 (#5335)
- Add optional min/max fields to histograms (#5399)
- User-defined Resource attributes can be specified under `service.telemetry.resource`
  configuration key and will be included as metric lables for own telemetry.
  If `service.instance.id` is not specified it will be auto-generated. Previously
  `service.instance.id` was always auto-generated, so the default of the new
  behavior matches the old behavior. (#5402)

## v0.51.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated model module, everything is available in `pdata` and `semconv`. (#5281)
  - Old versions of the module are still available, but no new versions will be released.
- Remove deprecated LogRecord.Name field. (#5202)

### ðŸš© Deprecations ðŸš©

- In preparation of migration to immutable slices for primitive type items, the following methods are renamed (#5344)
  - `Value.BytesVal` func is deprecated in favor of `Value.MBytesVal`.
  - `Value.SetBytesVal` func is deprecated in favor of `Value.SetMBytesVal`.
  - `Value.UpdateBytes` func is deprecated in favor of `Value.UpdateMBytes`.
  - `Value.InsertBytes` func is deprecated in favor of `Value.InsertMBytes`.
  - `Value.UpsertBytes` func is deprecated in favor of `Value.UpsertMBytes`.
  - `<HistogramDataPoint|Buckets>.BucketCounts` funcs are deprecated in favor of
    `<HistogramDataPoint|Buckets>.MBucketCounts`.
  - `<HistogramDataPoint|Buckets>.SetBucketCounts` funcs are deprecated in favor of
    `<HistogramDataPoint|Buckets>.SetMBucketCounts`.
  - `HistogramDataPoint.ExplicitBounds` func is deprecated in favor of `HistogramDataPoint.MExplicitBounds`.
  - `HistogramDataPoint.SetExplicitBounds` func is deprecated in favor of `HistogramDataPoint.SetMExplicitBounds`.

### ðŸ’¡ Enhancements ðŸ’¡

- `pdata`: Expose `pcommon.NewSliceFromRaw` and `pcommon.Slice.AsRaw` functions (#5311)

### ðŸ§° Bug fixes ðŸ§°

- Fix Windows Event Logs ignoring user-specified logging options (#5298)

## v0.50.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove pdata deprecated funcs from 2 versions (v0.48.0) ago. (#5219)
- Remove non pdata deprecated funcs/structs (#5220)
- `pmetric.Exemplar.ValueType()` now returns new type `ExemplarValueType` (#5233)
- Remove deprecated `Delete` pdata func in favor of `pdata.Remove` from (v0.47.0). (#5307)

### ðŸš© Deprecations ðŸš©

- Deprecate `configunmarshaler` package, move it to internal (#5151)
- Deprecate all API in `model/semconv`. The package is moved to a new `semcomv` module (#5196)
- Deprecate access to `config.Retrieved` fields, use the newly added funcs to interact with the internal fields (#5198)
- Deprecate `p<signal>otlp.Request.Set<Logs|Metrics|Traces>` (#5234)
  - `plogotlp.Request.SetLogs` func is deprecated in favor of `plogotlp.NewRequestFromLogs`
  - `pmetricotlp.Request.SetMetrics` func is deprecated in favor of `pmetricotlp.NewRequestFromMetrics`
  - `ptraceotlp.Request.SetTraces` func is deprecated in favor of `ptraceotlp.NewRequestFromTraces`
- `pmetric.NumberDataPoint.ValueType()` now returns new type `NumberDataPointValueType` (#5233)
  - `pmetric.MetricValueType` is deprecated in favor of `NumberDataPointValueType`
  - `pmetric.MetricValueTypeNone` is deprecated in favor of `NumberDataPointValueTypeNone`
  - `pmetric.MetricValueTypeInt` is deprecated in favor of `NumberDataPointValueTypeInt`
  - `pmetric.MetricValueTypeDouble` is deprecated in favor of `NumberDataPointValueTypeDouble`
- Deprecate `plog.LogRecord.SetName()` function (#5230)
- Deprecate global `featuregate` funcs in favor of `GetRegistry` and a public `Registry` type (#5160)

### ðŸ’¡ Enhancements ðŸ’¡
- Add `jsoniter` Unmarshaller (#4817)

- Extend config.Map.Unmarshal hook to check map key string to any TextUnmarshaler not only ComponentID (#5244)
- Collector will no longer print error with stack trace when the collector is shutdown due to a context cancel. (#5258)

### ðŸ§° Bug fixes ðŸ§°
- Fix translation from otlp.Request to pdata representation, changes to the returned pdata not all reflected to the otlp.Request (#5197)
- `exporterhelper` now properly consumes any remaining items on stop (#5203)
- `pdata`: Fix copying of `Value` with `ValueTypeBytes` type (#5267)
- `pdata`: Fix copying of metric fields of primitive items slice type (#5271)

## v0.49.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated structs/funcs from previous versions (#5131)
- Do not set TraceProvider to global otel (#5138)
- Remove deprecated funcs from otlpgrpc (#5144)
- Add Scheme to MapProvider interface (#5068)
- Do not set MeterProvider to global otel (#5146)
- Make `InstrumentationLibrary<signal>ToScope` helper functions unexported (#5164)
- Remove Log's "ShortName" from logging exporter output (#5172)
- `exporter/otlp`: Retry RESOURCE_EXHAUSTED only if the server returns RetryInfo (#5147)

### ðŸš© Deprecations ðŸš©

- All pdata related APIs from model (model/pdata, model/otlp and model/otlpgrpc) are deprecated in
  favor of packages in the new pdata module separated by telemetry signal type (#5168)
  - `model/pdata`, `model/otlp` -> `pdata/pcommon`, `pdata/plog`, `pdata/pmetric`, `pdata/ptrace`
  - `model/otlpgrpc` -> `pdata/plog/plogotlp`, `pdata/pmetric/pmetricotlp`, `pdata/ptrace/ptraceotlp`
- Deprecate configmapprovider package, replace with mapconverter (#5167)
- Deprecate `service.MustNewConfigProvider` and `service.MustNewDefaultConfigProvider`in favor of `service.NewConfigProvider` (#4936)

### ðŸ’¡ Enhancements ðŸ’¡

- OTLP HTTP receiver will use HTTP/2 over TLS if client supports it (#5109)
- Add `ObservedTimestamp` field to `pdata.LogRecord` (#5171)

### ðŸ§° Bug fixes ðŸ§°

- Setup the correct meter provider if telemetry.useOtelForInternalMetrics featuregate enabled (#5146)
- Fix pdata.Value.asRaw() to correctly return elements of Slice and Map type (#5153)
- Update pdata.Slice.asRaw() to return raw representation of Slice and Map elements (#5157)
- The codepath through the OTLP receiver for gRPC was not translating the InstrumentationLibrary* to Scope* (#5189)

## v0.48.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated `consumerhelper` package (#5028)
- Remove pdata `InternalRep` deprecated funcs (#5018)
- Remove service/defaultcomponents deprecated package (#5019)
- Remove deprecated UseOpenTelemetryForInternalMetrics (#5026)
- Change outcome of `pdata.Value.MapVal()` and `pdata.Value.SliceVal()` functions misuse. In case of
  type mismatch, they now return an invalid zero-initialized instance instead of a detached
  collection (#5034)
- OTLP JSON field changes following upgrade to OTLP v0.15.0:
  - "instrumentationLibraryLogs" is now "scopeLogs"
  - "instrumentationLibraryMetrics" is now "scopeMetrics"
  - "instrumentationLibrarySpans" is now "scopeSpans"
  - "instrumentationLibrary" is now "scope"
- AsString for pdata.Value now returns the JSON-encoded string of floats. (#4934)

### ðŸš© Deprecations ðŸš©

- Move MapProvider to config, split providers in their own package (#5030)
- API related to `pdata.AttributeValue` is deprecated in favor of `pdata.Value` (#4978)
  - `pdata.AttributeValue` struct is deprecated in favor of `pdata.Value`
  - `pdata.AttributeValueType` type is deprecated in favor of `pdata.ValueType`
  - `pdata.AttributeValueType...` constants are deprecated in favor of `pdata.ValueType...`
  - `pdata.NewAttributeValue...` funcs are deprecated in favor of `pdata.NewValue...`
- Deprecate featureflags.FlagValue.SetSlice, unnecessary public (#5053)
- Remove "Attribute" part from common pdata collections names (#5001)
  - Deprecate `pdata.AttributeMap` struct in favor of `pdata.Map`
  - Deprecate `pdata.NewAttributeMap` func in favor of `pdata.NewMap`
  - Deprecate `pdata.NewAttributeMapFromMap` func in favor of `pdata.NewMapFromRaw`
  - Deprecate `pdata.AttributeValueSlice` struct in favor of `pdata.Slice`
  - Deprecate `pdata.NewAttributeValueSlice` func in favor of `pdata.NewSlice`
- Deprecate LogRecord.Name(), it was deprecated in the data model (#5054)
- Rename `Array` type of `pdata.Value` to `Slice` (#5066)
  - Deprecate `pdata.AttributeValueTypeArray` type in favor of `pdata.ValueTypeSlice`
  - Deprecate `pdata.NewAttributeValueArray` func in favor of `pdata.NewValueSlice`
- Deprecate global flag in `featuregates` (#5060)
- Deprecate last funcs/structs in componenthelper (#5069)
- Change structs in otlpgrpc to follow standard go encoding interfaces (#5062)
  - Deprecate UnmarshalJSON[Traces|Metrics|Logs][Reques|Response] in favor of `UnmarshalJSON`.
  - Deprecate [Traces|Metrics|Logs][Reques|Response].Marshal in favor of `MarshalProto`.
  - Deprecate UnmarshalJSON[Traces|Metrics|Logs][Reques|Response] in favor of `UnmarshalProto`.
- Deprecating following pdata methods/types following OTLP v0.15.0 upgrade (#5076):
      - InstrumentationLibrary is now InstrumentationScope
      - NewInstrumentationLibrary is now NewInstrumentationScope
      - InstrumentationLibraryLogsSlice is now ScopeLogsSlice
      - NewInstrumentationLibraryLogsSlice is now NewScopeLogsSlice
      - InstrumentationLibraryLogs is now ScopeLogs
      - NewInstrumentationLibraryLogs is now NewScopeLogs
      - InstrumentationLibraryMetricsSlice is now ScopeMetricsSlice
      - NewInstrumentationLibraryMetricsSlice is now NewScopeMetricsSlice
      - InstrumentationLibraryMetrics is now ScopeMetrics
      - NewInstrumentationLibraryMetrics is now NewScopeMetrics
      - InstrumentationLibrarySpansSlice is now ScopeSpansSlice
      - NewInstrumentationLibrarySpansSlice is now NewScopeSpansSlice
      - InstrumentationLibrarySpans is now ScopeSpans
      - NewInstrumentationLibrarySpans is now NewScopeSpans

### ðŸ’¡ Enhancements ðŸ’¡

- Add semconv definitions for v1.9.0 (#5090)
- Change outcome of `pdata.Metric.<Gauge|Sum|Histogram|ExponentialHistogram>()` functions misuse.
  In case of type mismatch, they don't panic right away but return an invalid zero-initialized
  instance for consistency with other OneOf field accessors (#5035)
- Update OTLP to v0.15.0 (#5064)
- Adding support for transition from older versions of OTLP to OTLP v0.15.0 (#5085)

### ðŸ§° Bug fixes ðŸ§°

- Add missing files for semconv definitions v1.7.0 and v1.8.0 (#5091)
- The `featuregates` were not configured from the "--feature-gates" flag on windows service (#5060)
- Fix Semantic Convention Schema URL definition for 1.5.0 and 1.6.1 versions (#5103)

## v0.47.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove `Type` funcs in pdata (#4933)
- Remove all deprecated funcs/structs from v0.46.0 (#4995)

### ðŸš© Deprecations ðŸš©

- pdata: deprecate funcs working with InternalRep (#4957)
- Deprecate `pdata.AttributeMap.Delete` in favor of `pdata.AttributeMap.Remove` (#4914)
- Deprecate consumerhelper, move helpers to consumer (#5006)

### ðŸ’¡ Enhancements ðŸ’¡

- Add `pdata.AttributeMap.RemoveIf`, which is a more performant way to remove multiple keys (#4914)
- Add `pipeline` key with pipeline identifier to processor loggers (#4968)
- Add a new yaml provider, allows providing yaml bytes (#4998)

### ðŸ§° Bug fixes ðŸ§°

- Collector `Run` will now exit when a context cancels (#4954)
- Add missing droppedAttributesCount to pdata generated resource (#4979)
- Collector `Run` will now set state to `Closed` if startup fails (#4974)

## v0.46.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Change otel collector to enable open telemetry metrics through feature gate instead of a constant (#4912)
- Remove support for legacy otlp/http port. (#4916)
- Remove deprecated funcs in pdata (#4809)
- Remove deprecated Retrieve funcs/calls (#4922)
- Remove deprecated NewConfigProvider funcs (#4937)

### ðŸš© Deprecations ðŸš©

- Deprecated funcs `config.DefaultConfig`, `confighttp.DefaultHTTPSettings`, `exporterhelper.DefaultTimeoutSettings`,
  `exporthelper.DefaultQueueSettings`, `exporterhelper.DefaultRetrySettings`, `testcomponents.DefaultFactories`, and
  `scraperhelper.DefaultScraperControllerSettings` in favour for their `NewDefault` method to adhere to contribution guidelines (#4865)
- Deprecated funcs `componenthelper.StartFunc`, `componenthelper.ShutdownFunc` in favour of `component.StartFunc` and `component.ShutdownFunc` (#4803)
- Move helpers from extensionhelper to component (#4805)
  - Deprecated `extensionhelper.CreateDefaultConfig` in favour of `component.ExtensionDefaultConfigFunc`
  - Deprecated `extensionhelper.CreateServiceExtension` in favour of `component.CreateExtensionFunc`
  - Deprecated `extensionhelper.NewFactory` in favour of `component.NewExtensionFactory`
- Move helpers from processorhelper to component (#4889)
  - Deprecated `processorhelper.CreateDefaultConfig` in favour of `component.ProcessorDefaultConfigFunc`
  - Deprecated `processorhelper.WithTraces` in favour of `component.WithTracesProcessor`
  - Deprecated `processorhelper.WithMetrics` in favour of `component.WithMetricsProcessor`
  - Deprecated `processorhelper.WithLogs` in favour of `component.WithLogsProcessor`
  - Deprecated `processorhelper.NewFactory` in favour of `component.NewProcessorFactory`
- Move helpers from exporterhelper to component (#4899)
  - Deprecated `exporterhelper.CreateDefaultConfig` in favour of `component.ExporterDefaultConfigFunc`
  - Deprecated `exporterhelper.WithTraces` in favour of `component.WithTracesExporter`
  - Deprecated `exporterhelper.WithMetrics` in favour of `component.WithMetricsExporter`
  - Deprecated `exporterhelper.WithLogs` in favour of `component.WithLogsExporter`
  - Deprecated `exporterhelper.NewFactory` in favour of `component.NewExporterFactory`
- Move helpers from receiverhelper to component (#4891)
  - Deprecated `receiverhelper.CreateDefaultConfig` in favour of `component.ReceiverDefaultConfigFunc`
  - Deprecated `receiverhelper.WithTraces` in favour of `component.WithTracesReceiver`
  - Deprecated `receiverhelper.WithMetrics` in favour of `component.WithMetricsReceiver`
  - Deprecated `receiverhelper.WithLogs` in favour of `component.WithLogsReceiver`
  - Deprecated `receiverhelper.NewFactory` in favour of `component.NewReceiverFactory`

### ðŸ’¡ Enhancements ðŸ’¡

- Add validation to check at least one endpoint is specified in otlphttpexporter's configuration (#4860)
- Implement default client authenticators (#4837)

## ðŸ§° Bug fixes ðŸ§°

- Initialized logger with collector to avoid potential race condition panic on `Shutdown` (#4827)
- In addition to traces, now logs and metrics processors will start the memory limiter.
  Added thread-safe logic so only the first processor can launch the `checkMemLimits` go-routine and the last processor
  that calls shutdown to terminate it; this is done per memory limiter instance.
  Added memory limiter factory to cache initiated object and be reused by similar config. This guarantees a single
  running `checkMemLimits` per config (#4886)
- Resolved race condition in collector when calling `Shutdown` (#4878)

## v0.45.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated funcs in configtelemetry (#4808)
- `otlphttp` and `otlp` exporters enable gzip compression by default (#4632)

### ðŸš© Deprecations ðŸš©

- Deprecate `service/defaultcomponents` go package (#4622)
- Deprecate `pdata.NumberDataPoint.Type()` and `pdata.Exemplar.Type()` in favor of `NumberDataPoint.ValueType()` and
  `Exemplar.ValueType()` (#4850)

### ðŸ’¡ Enhancements ðŸ’¡

- Reject invalid queue size exporterhelper (#4799)
- Transform configmapprovider.Retrieved interface to a struct (#4789)
- Added feature gate summary to zpages extension (#4834)
- Add support for reloading TLS certificates (#4737)

### ðŸ§° Bug fixes ðŸ§°

- `confighttp`: Allow CORS requests with configured auth (#4869)

## v0.44.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Updated to OTLP 0.12.0. Deprecated traces and metrics messages that existed
  in 0.11.0 are no longer converted to the messages and fields that replaced the deprecated ones.
  Received deprecated messages and fields will be now ignored. In OTLP/JSON in the
  instrumentationLibraryLogs object the "logs" field is now named "logRecords" (#4724)
- Deprecate `service.NewWindowsService`, add `service.NewSvcHandler` (#4783).

### ðŸš© Deprecations ðŸš©

- Deprecate `service.NewConfigProvider`, and a new version `service.MustNewConfigProvider` (#4734).

### ðŸ’¡ Enhancements ðŸ’¡

- Invalid requests now return an appropriate unsupported (`405`) or method not allowed (`415`) response (#4735)
- `client.Info`: Add Host property for Metadata (#4736)

## v0.43.1 Beta

### ðŸ§° Bug fixes ðŸ§°

- ExpandStringValues function support to map[string]interface{} (#4748)

## v0.43.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Change configmapprovider.Provider to accept a location for retrieve (#4657)
- Change Properties Provider to be a Converter (#4666)
- Define a type `WatcherFunc` for onChange func instead of func pointer (#4656)
- Remove deprecated `configtest.LoadConfig` and `configtest.LoadConfigAndValidate` (#4659)
- Move service.ConfigMapConverterFunc to config.MapConverterFunc (#4673)
  - Add context to config.MapConverterFunc (#4678)
- Builder: the skip compilation should only be supplied as a CLI flag. Previously, it was possible to specify that in the YAML file, contrary to the original intention (#4645)
- Builder: Remove deprecated config option module::core (#4693)
- Remove deprecate flags --metrics-level and --metrics-addr (#4695)
  - Usages of `--metrics-level={VALUE}` can be replaced by `--set=service.telemetry.metrics.level={VALUE}`;
  - Usages of `--metrics-addr={VALUE}` can be replaced by `--set=service.telemetry.metrics.address={VALUE}`;
- Updated confighttp `ToClient` to support passing telemetry settings for instrumenting otlphttp exporter(#4449)
- Remove support to some arches and platforms from `ocb` (opentelemetry-collector-builder) (#4710)
- Remove deprecated legacy path ("v1/trace") support for otlp http receiver (#4720)
- Change the `service.NewDefaultConfigProvider` to accept a slice of location strings (#4727).

### ðŸš© Deprecations ðŸš©

- Deprecate `configtelemetry.Level.Set()` (#4700)

### ðŸ§° Bug fixes ðŸ§°

- Ensure Windows path (e.g: C:) is recognized as a file path (#4726)
- Fix structured logging issue for windows service (#4686)

### ðŸ’¡ Enhancements ðŸ’¡

- Expose experimental API `configmapprovider.NewExpandConverter()` (#4672)
- `service.NewConfigProvider`: copy slice argument, disallow changes from caller to the input slice (#4729)
- `confighttp` and `configgrpc`: New config option `include_metadata` to persist request metadata/headers in `client.Info.Metadata` (experimental) (#4547)
- Remove expand cases that cannot happen with config.Map (#4649)
- Add `max_request_body_size` to confighttp.HTTPServerSettings (#4677)
- Move `compression.go` into `confighttp.go` to internalize functions in `compression.go` file. (#4651)
  - create `configcompression` package to manage compression methods in `confighttp` and `configgrpc`
- Add support for cgroupv2 memory limit (#4654)
- Enable end users to provide multiple files for config location (#4727)

## v0.42.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove `configmapprovider.NewInMemory()` (#4507)
- Disallow direct implementation of `configmapprovider.Retrieved` (#4577)
- `configauth`: remove interceptor functions from the ServerAuthenticator interface (#4583)
- Replace ConfigMapProvider and ConfigUnmarshaler in collector settings by one simpler ConfigProvider (#4590)
- Remove deprecated consumererror.Combine (#4597)
- Remove `configmapprovider.NewDefault`, `configmapprovider.NewExpand`, `configmapprovider.NewMerge` (#4600)
  - The merge functionality is now embedded into `service.NewConfigProvider` (#4637).
- Move `configtest.LoadConfig` and `configtest.LoadConfigAndValidate` to `servicetest` (#4606)
- Builder: Remove deprecated `include-core` flag (#4616)
- Collector telemetry level must now be accessed through an atomic function. (#4549)

### ðŸ’¡ Enhancements ðŸ’¡

- `confighttp`: add client-side compression support. (#4441)
  - Each exporter should remove `compression` field if they have and should use `confighttp.HTTPClientSettings`
- Allow more zap logger configs: `disable_caller`, `disable_stacktrace`, `output_paths`, `error_output_paths`, `initial_fields` (#1048)
- Allow the custom zap logger encoding (#4532)
- Collector self-metrics may now be configured through the configuration file. (#4069)
  - CLI flags for configuring self-metrics are deprecated and will be removed
    in a future release.
  - `service.telemetry.metrics.level` and `service.telemetry.metrics.address`
    should be used to configure collector self-metrics.
- `configauth`: add helpers to create new server authenticators. (#4558)
- Refactor `configgrpc` for compression methods (#4624)
- Add an option to allow `config.Map` conversion in the `service.ConfigProvider` (#4634)
- Added support to expose gRPC framework's logs as part of collector logs (#4501)
- Builder: Enable unmarshal exact to help finding hard to find typos #4644

### ðŸ§° Bug fixes ðŸ§°

- Fix merge config map provider to close the watchers (#4570)
- Fix expand map provider to call close on the base provider (#4571)
- Fix correct the value of `otelcol_exporter_send_failed_requests` (#4629)
- `otlp` receiver: Fix legacy port cfg value override and HTTP server starting bug (#4631)

## v0.41.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove reference to `defaultcomponents` in core and deprecate `include_core` flag (#4087)
- Remove `config.NewConfigMapFrom[File|Buffer]`, add testonly version (#4502)
- `configtls`: TLS 1.2 is the new default mininum version (#4503)
- `confighttp`: `ToServer` now accepts a `component.Host`, in line with gRPC's counterpart (#4514)
- CORS configuration for OTLP/HTTP receivers has been moved into a `cors:` block, instead of individual `cors_allowed_origins` and `cors_allowed_headers` settings (#4492)

### ðŸ’¡ Enhancements ðŸ’¡

- OTLP/HTTP receivers now support setting the `Access-Control-Max-Age` header for CORS caching. (#4492)
- `client.Info` pre-populated for all receivers using common helpers like `confighttp` and `configgrpc` (#4423)

### ðŸ§° Bug fixes ðŸ§°

- Fix handling of corrupted records by persistent buffer (experimental) (#4475)

### ðŸ’¡ Enhancements ðŸ’¡

- Extending the contribution guide to help clarify what is acceptable defaults and recommendations.

## v0.40.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Package `client` refactored (#4416) and auth data included in it (#4422). Final PR to be merged in the next release (#4423)
- Remove `pdata.AttributeMap.InitFromMap` (#4429)
- Updated configgrpc `ToDialOptions` to support passing providers to instrumentation library (#4451)
- Make state information propagation non-blocking on the collector (#4460)

### ðŸ’¡ Enhancements ðŸ’¡

- Add semconv 1.7.0 and 1.8.0 (#4452)
- Added `feature-gates` CLI flag for controlling feature gate state. (#4368)
- Add a default user-agent header to the OTLP/gRPC and OTLP/HTTP exporters containing collector build information (#3970)

## v0.39.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated config (already no-op) `ballast_size_mib` in memorylimiterprocessor (#4365)
- Remove `config.Receivers`, `config.Exporters`, `config.Processors`, and `config.Extensions`. Use map directly (#4344)
- Remove `component.BaseProcessorFactory`, use `processorhelper.NewFactory` instead (#4175)
- Force usage of `exporterhelper.NewFactory` to implement `component.ExporterFactory` (#4338)
- Force usage of `receiverhelper.NewFactory` to implement `component.ReceiverFactory` (#4338)
- Force usage of `extensionhelper.NewFactory` to implement `component.ExtensionFactory` (#4338)
- Move `service/parserprovider` package to `config/configmapprovider` (#4206)
  - Rename `MapProvider` interface to `Provider`
  - Remove `MapProvider` from helper names
- Renamed slice-valued `pdata` types and functions for consistency. (#4325)
  - Rename `pdata.AnyValueArray` to `pdata.AttributeValueSlice`
  - Rename `ArrayVal()` to `SliceVal()`
  - Rename `SetArrayVal()` to `SetSliceVal()`
- Remove `config.Pipeline.Name` (#4326)
- Rename `config.Mapprovider` as `configmapprovider.Provider` (#4337)
- Move `config.WatchableRetrieved` and `config.Retrieved` interfaces to `config/configmapprovider` package (#4337)
- Remove `config.Pipeline.InputDataType` (#4343)
- otlpexporter: Do not retry on PermissionDenied and Unauthenticated (#4349)
- Enable configuring collector metrics through service config file. (#4069)
  - New `service::telemetry::metrics` structure added to configuration
  - Existing metrics configuration CLI flags are deprecated and to be
    removed in the future.
  - `--metrics-prefix` is no longer operative; the prefix is determined by
    the value of `service.buildInfo.Command`.
  - `--add-instance-id` is no longer operative; an instance ID will always be added.
- Remove deprecated funcs `consumererror.As[Traces|Metrics|Logs]` (#4364)
- Remove support to expand env variables in default configs (#4366)

### ðŸ’¡ Enhancements ðŸ’¡

- Supports more compression methods(`snappy` and `zstd`) for configgrpc, in addition to current `gzip` (#4088)
- Moved the OpenTelemetry Collector Builder to core (#4307)

### ðŸ§° Bug fixes ðŸ§°

- Fix AggregationTemporality and IsMonotonic when metric descriptors are split in the batch processor (#4389)

## v0.38.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Removed `configauth.HTTPClientAuthenticator` and `configauth.GRPCClientAuthenticator` in favor of `configauth.ClientAuthenticator`. (#4255)
- Rename `parserprovider.MapProvider` as `config.MapProvider`. (#4178)
- Rename `parserprovider.Watchable` as `config.WatchableMapProvider`. (#4178)
- Remove deprecated no-op flags to setup Collector's logging "--log-level", "--log-profile", "--log-format". (#4213)
- Move `cmd/pdatagen` as internal package `model/internal/cmd/pdatagen`. (#4243)
- Use directly the ComponentID in configauth. (#4238)
- Refactor configauth, getters use the map instead of iteration. (#4234)
- Change scraperhelper to follow the recommended append model for pdata. (#4202)

### ðŸ’¡ Enhancements ðŸ’¡

- Update proto to 0.11.0. (#4209)
- Change pdata to use the newly added [Traces|Metrics|Logs]Data. (#4214)
- Add ExponentialHistogram field to pdata. (#4219)
- Make sure otlphttp exporter tests include TraceID and SpanID. (#4268)
- Use multimod tool in release process. (#4229)
- Change queue metrics to use opencensus metrics instead of stats, close to otel-go. (#4220)
- Make receiver data delivery guarantees explicit (#4262)
- Simplify unmarshal logic by adding more supported hooks. (#4237)
- Add unmarshaler for otlpgrpc.[*]Request and otlpgrp.[*]Response (#4215)

## v0.37.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Move `configcheck.ValidateConfigFromFactories` as internal function in service package (#3876)
- Rename `configparser.Parser` as `config.Map` (#4075)
- Rename `component.DefaultBuildInfo()` to `component.NewDefaultBuildInfo()` (#4129)
- Rename `consumererror.Permanent` to `consumererror.NewPermanent` (#4118)
- Rename `config.NewID` to `config.NewComponentID` and `config.NewIDFromString` to `config.NewComponentIDFromString` (#4137)
- Rename `config.NewIDWithName` to `config.NewComponentIDWithName` (#4151)
- Move `extension/storage` to `extension/experimental/storage` (#4082)
- Rename `obsreporttest.SetupRecordedMetricsTest()` to `obsreporttest.SetupTelemetry()` and `obsreporttest.TestTelemetrySettings` to `obsreporttest.TestTelemetry` (#4157)

### ðŸ’¡ Enhancements ðŸ’¡

- Add Gen dependabot into CI (#4083)
- Update OTLP to v0.10.0 (#4045).
- Add Flags field to NumberDataPoint, HistogramDataPoint, SummaryDataPoint (#4081).
- Add feature gate library (#4108)
- Add version to the internal telemetry metrics (#4140)

### ðŸ§° Bug fixes ðŸ§°

- Fix panic when not using `service.NewCommand` (#4139)

## v0.36.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated pdata.AttributeMapToMap (#3994)
- Move ValidateConfig from configcheck to configtest (#3956)
- Remove `mem-ballast-size-mib`, already deprecated and no-op (#4005)
- Remove `semconv.AttributeMessageType` (#4020)
- Remove `semconv.AttributeHTTPStatusText` (#4015)
- Remove squash on `configtls.TLSClientSetting` and move TLS client configs under `tls` (#4063)
- Rename TLS server config `*configtls.TLSServerSetting` from `tls_settings` to `tls` (#4063)
- Split `service.Collector` from the `cobra.Command` (#4074)
- Rename `memorylimiter` to `memorylimiterprocessor` (#4064)

### ðŸ’¡ Enhancements ðŸ’¡

- Create new semconv package for v1.6.1 (#3948)
- Add AttributeValueBytes support to AsString (#4002)
- Add AttributeValueTypeBytes support to AttributeMap.AsRaw (#4003)
- Add MeterProvider to TelemetrySettings (#4031)
- Add configuration to setup collector logs via config file. (#4009)

## v0.35.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove the legacy gRPC port(`55680`) support in OTLP receiver (#3966)
- Rename configparser.Parser to configparser.ConfigMap (#3964)
- Remove obsreport.ScraperContext, embed into StartMetricsOp (#3969)
- Remove dependency on deprecated go.opentelemetry.io/otel/oteltest (#3979)
- Remove deprecated pdata.AttributeValueToString (#3953)
- Remove deprecated pdata.TimestampFromTime. Closes: #3925 (#3935)

### ðŸ’¡ Enhancements ðŸ’¡

- Add TelemetryCreateSettings (#3984)
- Only initialize collector telemetry once (#3918)
- Add trace context info to LogRecord log (#3959)
- Add new view for AWS ECS health check extension. (#3776)

## v0.34.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Artifacts are no longer published in this repository, check [here](https://github.com/open-telemetry/opentelemetry-collector-releases) (#3941)
- Remove deprecated `tracetranslator.AttributeValueToString` and `tracetranslator.AttributeMapToMap` (#3873)
- Change semantic conventions for status (code, msg) as per specifications (#3872)
- Move `fileexporter` to contrib (#3474)
- Move `jaegerexporter` to contrib (#3474)
- Move `kafkaexporter` to contrib (#3474)
- Move `opencensusexporter` to contrib (#3474)
- Move `prometheusexporter` to contrib (#3474)
- Move `prometheusremotewriteexporter` to contrib (#3474)
- Move `zipkinexporter` to contrib (#3474)
- Move `attributeprocessor` to contrib (#3474)
- Move `filterprocessor` to contrib (#3474)
- Move `probabilisticsamplerprocessor` to contrib (#3474)
- Move `resourceprocessor` to contrib (#3474)
- Move `spanprocessor` to contrib (#3474)
- Move `hostmetricsreceiver` to contrib (#3474)
- Move `jaegerreceiver` to contrib (#3474)
- Move `kafkareceiver` to contrib (#3474)
- Move `opencensusreceiver` to contrib (#3474)
- Move `prometheusreceiver` to contrib (#3474)
- Move `zipkinreceiver` to contrib (#3474)
- Move `bearertokenauthextension` to contrib (#3474)
- Move `healthcheckextension` to contrib (#3474)
- Move `oidcauthextension` to contrib (#3474)
- Move `pprofextension` to contrib (#3474)
- Move `translator/internaldata` to contrib (#3474)
- Move `translator/trace/jaeger` to contrib (#3474)
- Move `translator/trace/zipkin` to contrib (#3474)
- Move `testbed` to contrib (#3474)
- Move `exporter/exporterhelper/resource_to_telemetry` to contrib (#3474)
- Move `processor/processorhelper/attraction` to contrib (#3474)
- Move `translator/conventions` to `model/semconv` (#3901)

### ðŸš© Deprecations ðŸš©

- Add `pdata.NewTimestampFromTime`, deprecate `pdata.TimestampFromTime` (#3868)
- Add `pdata.NewAttributeMapFromMap`, deprecate `pdata.AttributeMap.InitFromMap` (#3936)
>>>>>>> upstream/main

### ðŸš© Deprecations ðŸš©

<<<<<<< HEAD
- `datadogexporter`: Deprecate `instrumentation_library_metadata_as_tags` (#11135)
- `datadogexporter`: Deprecate `Sanitize` method of `Config` struct (#8829)
- `observiqexporter`: Deprecate the observiq exporter (#10977)
- `honeycombexporter`: Deprecate honeycomb exporter (#10318)

### ðŸš€ New components ðŸš€

- `expvarreceiver`: Include `expvarreceiver` in components (#10847)
- `googlemanagedprometheusexporter` Add the Google Managed Service for Prometheus exporter. (#10840)
- `googlemanagedprometheusexporter` The Google Managed Service for Prometheus exporter is alpha. (#10925)
=======
### ðŸ›‘ Breaking changes ðŸ›‘

- Rename `configloader` interface to `configunmarshaler` (#3774)
- Remove `LabelsMap` from all the metrics points (#3706)
- Update generated K8S attribute labels to fix capitalization (#3823)

### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

### ðŸ’¡ Enhancements ðŸ’¡

- `tailsamplingprocessor`: Add trace_state policy (#10852)
- `mongodbatlasreceiver` Add support for receiving alerts (#10854)
- `cmd/mdatagen`: Allow attribute values of any types (#9245)
- `metricstransformprocessor`: Migrate the processor from OC to pdata (#10817)
  - This behavior can be reverted by disabling the `processor.metricstransformprocessor.UseOTLPDataModel` feature gate.
- `transformprocessor`: Add byte slice literal to the grammar.  Add new SpanID and TraceID functions that take a byte slice and return a Span/Trace ID. (#10487)
- `transformprocessor`: Add Summary transform functions. (#11041)
- `transformprocessor`: Add nil literal to the grammar. (#11150)
- `elasticsearchreceiver`: Add integration test for elasticsearch receiver (#10165)
- `tailsamplingprocessor`: New sampler added that allows to sample based on minimum number of spans
- `datadogexporter`: Some config validation and unmarshaling steps are now done on `Validate` and `Unmarshal` instead of `Sanitize` (#8829)
- `datadogexporter`: Add `exporter.datadog.hostname.preview` feature flag and related warnings (#10926)
- `datadogexporter`: Add `instrumentation_scope_metadata_as_tags` instead of `instrumentation_library_metadata_as_tags` in favor of https://github.com/open-telemetry/opentelemetry-proto/releases/tag/v0.15.0 (#11135)
- `examples`: Add an example for scraping Couchbase metrics (#10894)
- `filestorageextension`: Add background compaction capability (#9327)
- `googlecloudpubsubreceiver`: Added new `Endpoint` and `Insecure` connection configuration options. (#10845)
- `dynatraceexporter`: Provide better estimated summaries for partial histograms. (#11044)
- `mongodbreceiver`: Add integration test for mongodb receiver (#10864)
- `mezmoexporter`: add logging for HTTP errors (#10875)
- `googlecloudexporter`: Support writing to multiple GCP projects by setting the `gcp.project.id` resource attribute, and support service account impersonation (#11051)
- `k8sattributeprocessor`: Add debug logs to help identify missing attributes (#11060)
- `jmxreceiver`: Add latest releases of jmx metrics gatherer & wildfly jar to supported jars hash list (#11134)
- `rabbitmqreceiver`: Add integration test for rabbitmq receiver (#10865)
- `transformprocessor`: Allow using trace_state with key-value struct (#11029)

### ðŸ§° Bug fixes ðŸ§°

- `kubletetstatsreceiver`: Bring back `k8s.container.name` attribute (#10848)
- `transformprocessor`: Fix issue where some metric fields were not working correctly in conditions. (#10473)
- `transformprocessor`: Fix issue where some trace fields were not working correctly in conditions. (#10471)
- `transformprocessor`: Fix issue where some log fields were not working correctly in conditions. (#10903)
- `pkg/stanza`: Skip building fingerprint in case of configuration change (#10485)
- `windowseventlogreceiver`: Fixed example config in readme (#10971)
- `pkg/stanza`: Fix access to atomic variable without using atomic package (#11023)
- `exporter/awsemfexporter:`: Fix dead links in README.md. (#11027)
- `googlecloudexporter`: Fix (self-obs) point_count metric calculation, concurrent map write panic, and dropped log attributes (#11051)
- `signalfxexporter`: Event Type is a required field, if not set, set it to `unknown` to prevent signalfx ingest from dropping it (#11121)
- `prometheusreceiver`: validate that combined metric points (e.g. histograms) have the same timestamp (#9385)
- `splunkhecexporter`: Fix flaky test when exporting traces (#11418)
- `mongodbatlasexporter`: Fix mongodbatlas.system.memory.usage.max not being reported (#11126)
- `receiver/awsxrayreceiver`: Fix null span exception fields causing null pointer exception (#11431)
- `pkg/stanza`: use ObservedTimestamp to decide if flush log for recombine operator (#11433)


## v0.53.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `jmxreceiver`: Remove properties & groovyscript parameters from JMX Receiver. Add ResourceAttributes & LogLevel parameter to supply some of the removed functionality with reduced attack surface (#9685)
- `resourcedetectionprocessor`: 'gke' and 'gce' resource detectors are replaced with a single 'gcp' detector (#10347)
- `pkg/stanza`: Removed reference to deprecated `ClusterName` (#10426)
- `couchbasereceiver`: Fully removed unimplemented Couchbase receiver (#10482)
- `hostmetricsreciever`: Fix Load Scraper to normalize 1m, 5m, and 15m averages independently (#8267)

### ðŸš€ New components ðŸš€

- `flinkmetricsreceiver`: Add implementation of Flink Metric Receiver (#10121)
- `windowseventlogreceiver` Added implementation of Windows Event Log Receiver (#9228)
- `vcenterreceiver`: Add metrics receiver for new vcenterreceiver component (#9224)
- `googlecloudpubsubreceiver` Activate the Google Cloud Pubsub receiver. (#10580)
- `googlecloudpubsubexporter` Activate the Google Cloud Pubsub exporter. (#10580)
- `aerospikereceiver`: Add implementation of Aerospike Metric Receiver. (#9961)

### ðŸ’¡ Enhancements ðŸ’¡

- `awsemfexporter`: Add min and max support for histograms (#10577)
- `tailsamplingprocessor`: Add support for string invert matching to `and` policy (#9553)
- `mezemoexporter`: Add user agent string to outgoing HTTP requests (#10470)
- `prometheusreceiver`: Improve performance of metrics builder (#10546)
- `transformprocessor`: Add functions for conversion of scalar metric types (`gauge_to_sum` and `sum_to_gauge`) (#10255)
- `dynatraceexporter`: Use min and max when provided in a data point for histograms (#10815)
- `dynatraceexporter`: Truncate unmarshalable responses to avoid long log lines (#10568)
- `scrapertest`: Add `IgnoreResourceAttributeValue` option to metric comparison (#10828)

### ðŸ§° Bug fixes ðŸ§°

- `transformprocessor`: Fix issue where incorrect error was returned if a bad path was passed to a function (#10141)
- `tanzuobservabilityexporter`: Improve how negative values in exponential histograms are handled. (#10135)
- `dynatraceexporter`: Ensure min is always less than or equal to mean and max is always greater or equal to mean for histogram estimation. (#10257)
- `resourcedetectionprocessor`: GCP resource detector now properly detects zone/region on GKE (#10347)
- `resourcedetectionprocessor`: GCP resource detector no longer fails to detect resource when using workload identity (#10486)
- `tailsamplingprocessor`: Fix composite sampler with inverse policy
- `awsprometheusremotewriteexporter`: Fix signing of empty request bodies. (#10578)
- `sigv4authextension`: Fix signing of empty request bodies. (#10578)
- `prometheusexporter`: Converting monotonic Delta to Cumulative sums (#9919)
- `statsdreceiver`: Update the lastIntervalTime for Counter metrics (#9919)
- `resourcedetectionprocessor`: GCP resource detector now correctly detects region on Google App Engine standard (#10814)
- `apachereceiver`: Update units to follow semconv (#10587)

## v0.52.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `jmxreceiver`: Hash the jars provided to JMX Receiver and only allow if they match an approved list (#9687)
- `jmxreceiver`: Remove properties & groovyscript parameters from JMX Receiver. Add ResourceAttributes & LogLevel parameter to supply some of the removed functionality with reduced attack surface (#9685)

### ðŸš€ New components ðŸš€

- `aerospikereceiver`: Add implementation of Aerospike Metrics Receiver (#9961)
- `bigipreceiver`: Add implementation of F5 Big-IP Metric Receiver (#9680)
- `expvarreceiver`: Initial work for a receiver designed to scrape `memstats` from Golang applications. (#9747)
- `mezmoexporter`: Add implementation of Mezmo Log exporter (#9743)
- `nsxtreceiver`: Added implementation of NSX-T Metric Receiver (#9568)
- `expvarreceiver`: Add implementation of new receiver. (#10183)
- `telemetrygen`: Started implementing an upgraded version of `tracegen` generating traces and metrics (#9597)

### ðŸ’¡ Enhancements ðŸ’¡

- `transformprocessor`: Add transformation of metrics (#10100)
- `transformprocessor`: Include transform processor in components (#10134)
- `kubeletstatsreceiver`: Update receiver to use new Metrics Builder. All emitted metrics remain the same. (#9744)
- `transformprocessor`: Add new `replace_match` and `replace_all_matches` functions (#10132)
- `resourcedetectionprocessor`: Add "cname" and "lookup" hostname sources
- `jmxreceiver`: Communicate with JMX metrics gatherer subprocess via properties file (#9685)
- `pkg/stanza`: make multiline tests more like integration tests #10353

### ðŸ§° Bug fixes ðŸ§°

- `datadogexporter`: add error checks for datadog exporter (#9964)
- `datadogexporter`: Fix host aliases not being properly sent to the Datadog backend (#9748)
- `groupbyattrsprocessor`: copied aggregationtemporality when grouping metrics. (#9088)
- `jaeger`: Update OTLP-Jaeger translation of span events according to the OTel Spec: use `event` log field instead
  of `message` to represent OTel Span Event Name (#10273)
- `mongodbreceiver`: Fix issue where receiver startup could hang (#10111)
- `transformprocessor`: Fix issue where metric.aggregation_temporality and metric.is_monotic were not actually gettable or settable (#10197)
- `signalfxexporter`: Emit prometheus compatible histogram/summary to signalfx #10299
  - This behavior can be reverted using the `exporter.signalfxexporter.PrometheusCompatible` featuregate.
- `podmanreceiver`: Container Stats Error structure (#9397)
- `pkg/stanza`: pipeline.Operators() will return a consistently ordered list of operators whenever possible (#9761)
- `tanzuobservabilityexporter`: add  error checks for tanzuobservability exporter (#10188)

## v0.51.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `datadogexporter`: Replace HistogramMode defined as string with enum. (#9589)
- `pkg/translator/signalfx`: Change signalfx translator to expose To/From translator structs. (#9740)
- `transformprocessor`: Add parameter validation to `truncate_all` and `limit` functions.  The `limit` parameter can no longer be negative. (#9783)
- `newrelicexporter` deleted. Use New Relic [native OTLP ingest](https://docs.newrelic.com/docs/more-integrations/open-source-telemetry-integrations/opentelemetry/opentelemetry-setup/) instead. (#9894)
- `k8sclusterreceiver`: Removing `ClusterName` as per https://github.com/kubernetes/apimachinery/commit/430b920312ca0fa10eca95967764ff08f34083a3. (#9885)

### ðŸš© Deprecations ðŸš©

- `exporter/azuremonitor`: Deprecate use of LogRecord.Name as the log envelope category name. There is no replacement. (#9258)
- `processor/k8sattributes`: Deprecate use of k8s.cluster.name metadata parameter (obsolete) (#9968)

### ðŸš€ New components ðŸš€

- `schemaprocessor`: Starting the initial work to allow from translating from semantic convention to another (#8371)
- `saphanareceiver`: Added implementation of SAP HANA Metric Receiver (#8827)
- `logstransformprocessor`: Add implementation of Logs Transform Processor (#9335)

### ðŸ’¡ Enhancements ðŸ’¡

- `cmd/mdatagen`: Replace enum attributes values with typed constants (#9683)
- `elasticsearchreceiver`: Update metrics scope name from `otelcol/elasticsearch`
  to `otelcol/elasticsearchreceiver` (#9757)
- `k8sclusterreceiver`: Validate that k8s API supports a resource before setting up a watcher for it (#9523)
- `internal/stanza`: Add support for `remove` operator (#9524)
- `k8sattributesprocessor`: Support regex capture groups in tag_name (#9525)
- `mongoreceiver`: Update metrics scope name from `otelcol/mongodb` to `otelcol/mongodbreceiver` (#9759)
- `transformprocessor`: Add new `truncation` function to allow truncating string values in maps such as `attributes` or `resource.attributes` (#9546)
- `datadogexporter`: Add `api.fail_on_invalid_key` to fail fast if api key is invalid (#9426)
- `transformprocessor`: Add support for functions to validate parameters (#9563)
- `googlecloudexporter`: Add GCP cloud logging exporter (#9679)
- `transformprocessor`: Add new `limit` function to allow limiting the number of items in a map, such as the number of attributes in `attributes` or `resource.attributes` (#9552)
- `processor/attributes`: Support attributes set by server authenticator (#9420)
- `datadogexporter`: Experimental support for Exponential Histograms with delta aggregation temporality (#8350)
- `prometheusreceiver`: Support OpenMetrics Info and Stateset metrics (#9378)

### ðŸ§° Bug fixes ðŸ§°

- `k8sclusterreceiver`: Fix the receiver to work with 1.19 and 1.20 k8s API versions (#9523)
- `azuremonitorexporter`: Fix log exporter bug related to incorrectly mapping SpanId (#9579)
- `mysqlreceiver`: Fix attribute values mismatch with its definition (#9688)
- `opencensusreceiver`: Do not report fatal error if err is server closed (#9559).
- `sqlserverreceiver`: Fix the receiver to have integer types on metrics where applicable (#9601)
- `prometheusreceiver`: Fix the memory issue introduced in the 0.49.0 release (#9718)
- `couchdbreceiver`: Fix issue where the receiver would not respect custom metric settings (#9598)
- `nginxreceiver`: Include nginxreceiver in components (#9572)
- `pkg/translator/prometheusremotewrite`: Fix data race when used with other exporters (#9736)
- `examples/demo`: fix baggage not work in trace demo app. (#9418)
- `prometheusreceiver`: Handle the condition where `up` metric value is NaN (#9253)
- `tanzuobservabilityexporter`: Make metrics stanza in config be optional (#9098)
- `filelogreceiver`: Update Kubernetes examples to fix native OTel logs collection issue where 0 length logs cause errors (#9754)
- `logstransformprocessor`: Resolve node ordering to fix intermittent failures (#9761)
- `awsinsightreceiver`: Migrate from `ConfigMapsResourceLock` to `ConfigMapsLeasesResourceLock` as per https://github.com/kubernetes/client-go/commit/276ea3ed979947d7cdd4b3d708862245ddcd8883 (#9885)
- `filelog`, `journald`, `syslog`, `tcplog`, `udplog`: Add support for []string type for converting log record entries (#9887)

## v0.50.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `stackdriverexporter`: Remove the stackdriver exporter in favor of the identical googlecloud exporter (#9274)
- `filelog, journald, syslog, tcplog, udplog`: Remove `preserve_to` field from sub-parsers (#9331)
- `kafkametricsreceiver`: instrumentation name updated from `otelcol/kafkametrics` to `otelcol/kafkametricsreceiver` (#9406)
- `kubeletstatsreceiver`: instrumentation name updated from `kubeletstats` to `otelcol/kubeletstatsreceiver` (#9400)
- `datadogexporter`: Remove `GetHostTags` method from `TagsConfig` struct (#9423)
- `googlecloudexporter`: Graduate the `exporter.googlecloud.OTLPDirect` feature-gate to Beta.  This includes changes to the configuration structure, and many changes to default behavior. (#9471)

### ðŸš© Deprecations ðŸš©

- `cumulativetodeltaprocessor`: Deprecated `metrics` configuration option in favor of `include` and `exclude` (#8952)
- `datadogexporter`: Deprecate `metrics::report_quantiles` in favor of `metrics::summaries::mode` (#8846)
- `datadogexporter`: Deprecate `traces.sample_rate` setting. It was never used anywhere. (#9771)

### ðŸš€ New components ðŸš€

- `iisreceiver`: Add implementation of IIS Metric Receiver (#8832)
- `sqlserverreceiver`: Add implementation of SQL Server Metric Receiver (#8398)
- `activedirectorydsreceiver`: Add implementation of Active Directory Domain Services metric receiver (#9359)
- `sqlqueryreceiver`: Add readme, factory, and config to initial implementation of SQL receiver (#9408)

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/translator/prometheusremotewrite`: Allow to disable sanitize metric labels (#8270)
- `basicauthextension`: Implement `configauth.ClientAuthenticator` so that the extension can also be used as HTTP client basic authenticator.(#8847)
- `azuremonitorexporter`, `lokiexporter`, `observiqexporter`: Update timestamp processing logic (#9130)
- `cumulativetodeltaprocessor`: add new include/exclude configuration options with regex support (#8952)
- `datadogexporter`: Update deprecation messages to reflect new deprecation plan (#9422)
- `cmd/mdatagen`: Update generated functions to have simple parse function to handle string parsing consistently and limit code duplication across receivers (#7574)
- `attributesprocessor`: Support filter by severity (#9132)
- `transformprocessor`: Add transformation of logs (#9368)
- `datadogexporter`: Add `metrics::summaries::mode` to specify export mode for summaries (#8846)
- `prometheusreceiver`: Add resource attributes for kubernetes resource discovery labels (#9416)

### ðŸ§° Bug fixes ðŸ§°

- `fluentforwardreceiver`: Release port on shutdown (#9111)
- `prometheusexporter`: Prometheus fails to generate logs when prometheus exporter produced a check exception occurs. (#8949)
- `resourcedetectionprocessor`: Wire docker detector (#9372)
- `kafkametricsreceiver`: The kafkametricsreceiver was changed to connect to kafka during scrape, rather than startup. If kafka is unavailable the receiver will attempt to connect during subsequent scrapes until succcessful (#8817).
- `datadogexporter`: Update Kubernetes example manifest to new executable name. (#9425).
- `riakreceiver`: Fix issue where user configured metric settings were ignored. (#9561)
- `sqlserverreceiver`: Update `sqlserver.transaction_log.growth.count` and `sqlserver.transaction_log.shrink.count` to be monotonic sums. (#9522)

## v0.49.0

### âš ï¸ Warning  âš ï¸

This release contains an issue in
[Prometheus receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/prometheusreceiver)
causing 30% memory consumption increase when there is a lot of target churn. The issue is currently being
investigated and will be fixed in one of the new releases. More details:
https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/9278.

### ðŸ›‘ Breaking changes ðŸ›‘

- `filelogreceiver`, `journaldreceiver`, `syslogreceiver`, `tcplogreceiver`, `udplogreceiver`:
  - Updated data model to align with stable logs data model, which includes various breaking changes. (#9139, #8835)
    - A detailed [Upgrade Guide](https://github.com/open-telemetry/opentelemetry-log-collection/releases/tag/v0.28.0) is available in the log-collection v0.29.0 release notes.
- `datadogexporter`: Remove `OnlyMetadata` method from `Config` struct (#8980)
- `datadogexporter`: Remove `GetCensoredKey` method from `APIConfig` struct (#8980)
- `mongodbatlasreceiver`: Updated to uses newer metric builder which changed some metric and resource attributes (#9093)
- `dynatraceexporter`: Make `serialization` package `/internal` (#9097)
- `attributesprocessor`: Remove log names from filters (#9131)
- `k8sclusterreceiver`: The `receiver.k8sclusterreceiver.reportCpuMetricsAsDouble` feature gate is now enabled by default (#9367)
  - Users may have to update monitoring for a few Kubernetes cpu metrics, for
    more details see [feature-gate-configurations](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/v0.54.0/receiver/k8sclusterreceiver#feature-gate-configurations).

### ðŸš© Deprecations ðŸš©

- `datadogexporter`: Deprecate `service` setting in favor of `service.name` semantic convention (#8784)
- `datadogexporter`: Deprecate `version` setting in favor of `service.version` semantic convention (#8784)
- `datadogexporter`: Deprecate `env` setting in favor of `deployment.environment` semantic convention (#9017)
- `datadogexporter`: Deprecate `GetHostTags` method from `TagsConfig` struct (#8975)
- `datadogexporter`: Deprecate `tags` setting in favor of `host_metadata::tags` (#9100)
- `datadogexporter`: Deprecate `send_metadata` setting in favor of `host_metadata::enabled` (#9100)
- `datadogexporter`: Deprecate `use_resource_metadata` setting in favor of `host_metadata::hostname_source` (#9100)
- `prometheusexecreceiver`: Deprecate prom_exec receiver (#9058)
- `fluentbitextension`: Deprecate Fluentbit extension (#9062)

### ðŸš€ New components ðŸš€

- `riakreceiver`: Riak Metric Receiver (#8548)

### ðŸ’¡ Enhancements ðŸ’¡
- `splunkhecexporter`: Add support for batching traces (#8995)
- `hostmetricsreceiver`: Migrate Processes scraper to the Metrics builder (#8855)
- `tanzuobservabilityexporter`: Use resourcetotelemetry helper (#8338)
- Add `make crosslink` target to ensure replace statements are included in `go.mod` for all transitive dependencies within repository (#8822)
- `filestorageextension`: Change bbolt DB settings for better performance (#9004)
- `jaegerremotesamplingextension`: Add local and remote sampling stores (#8818)
- `attributesprocessor`: Add support to filter on log body (#8996)
- `prometheusremotewriteexporter`: Translate resource attributes to the target info metric (#8493)
- `prometheusexporter`: Add `job` and `instance` labels to metrics so they can be scraped with `honor_labels: true` (#9115)
- `podmanreceiver`: Add API timeout configuration option (#9014)
- `cmd/mdatagen`: Add `sem_conv_version` field to metadata.yaml that is used to set metrics SchemaURL (#9010)
- `splunkheceporter`: Add an option to disable log or profiling data (#9065)
- `windowsperfcountersreceiver`: Move code into separate package for use in other windowsperfcounter receivers (#9108)
- `datadogexporter`: Add `host_metadata` configuration section to configure host metadata export (#9100)
- `cmd/mdatagen`: Update documentation generated for attributes to list enumerated values and show the "value" that will be visible on metrics when it is different from the attribute key in metadata.yaml (#8983)
- `routingprocessor`: add option to drop resource attribute used for routing (#8990)

### ðŸ§° Bug fixes ðŸ§°

- `filestorageextension`: use correct bbolt options for compaction (#9134)
- `hostmetricsreceiver`: Use cpu times for time delta in cpu.utilization calculation (#8857)
- `dynatraceexporter`: Remove overly verbose stacktrace from certain logs (#8989)
- `googlecloudexporter`: fix the `exporter.googlecloud.OTLPDirect` fature-gate, which was not applied when the flag was provided (#9116)
- `signalfxexporter`: Fix bug to enable timeouts for correlating traces and metrics (#9101)
- `windowsperfcountersreceiver`: fix exported values being integers instead of doubles (#9138)
- `prometheusreceiver`: Fix issues with relabelling the `job` and `instance` labels. (#8780)
- `dynatraceexporter`: Continue processing data points after a serialization error. (#9330)

## v0.48.0

### ðŸ’¡ Enhancements ðŸ’¡

- `k8seventsreceiver`: Add Api_version and resource_version (#8539)
- `datadogexporter`: Add `metrics::sums::cumulative_monotonic_mode` to specify export mode for cumulative monotonic sums (#8490)
- `dynatraceexporter`: add multi-instance deployment note to README.md (#8848)
- `resourcedetectionprocessor`: Add attribute allowlist (#8547)
- `datadogexporter`:  Metrics payload data and Sketches payload data will be logged if collector is started in debug mode (#8929)
- `cmd/mdatagen`: Add resource attributes definition to metadata.yaml and move `pdata.Metrics` creation to the
  generated code (#8555)

### ðŸ›‘ Breaking changes ðŸ›‘

- `windowsperfcountersreceiver`: Added metrics configuration (#8376)
- `lokiexporter`: Remove deprecated LogRecord.name field (#8951)
- `splunkhecexporter`: Remove deprecated LogRecord.name field (#8951)

### ðŸš© Deprecations ðŸš©

- `datadogexporter`: Deprecate `OnlyMetadata` method from `Config` struct (#8359)
- `datadogexporter`: Deprecate `GetCensoredKey` method from `APIConfig` struct (#8830)
- `datadogexporter`: Deprecate `metrics::send_monotonic_counter` in favor of `metrics::sums::cumulative_monotonic_mode` (#8490)

### ðŸš€ New components ðŸš€

- `sigv4authextension`: Enable component (#8518)

## v0.47.0

### ðŸ’¡ Enhancements ðŸ’¡

- `googlecloudexporter`: Add Validate method in config (#8559)
- `attributesprocessor`: Add convert action (#7930)
- `attributesprocessor`: Add metric support (#8111)
- `prometheusremotewriteexporter`: Write-Ahead Log support enabled (#7304)
- `hostreceiver/filesystemscraper`: Add filesystem utilization (#8027)
- `hostreceiver/pagingscraper`: Add paging.utilization (#6221)
- `googlecloudexporter`: [Alpha] Translate metrics directly from OTLP to gcm using the `exporter.googlecloud.OTLPDirect` feature-gate (#7177)
- `simpleprometheusreceiver`: Add support for static labels (#7908)
- `spanmetricsprocessor`: Dropping the condition to replace _ with key_ as __ label is reserved and _ is not (#8057)
- `podmanreceiver`: Add container.runtime attribute to container metrics (#8262)
- `dockerstatsreceiver`: Add container.runtime attribute to container metrics (#8261)
- `tanzuobservabilityexporter`: instrumentation Library and Dropped Counts to Span Tags (#8120)
- `clickhouseexporter`: Implement consume log logic. (#9705)
- `influxdbexporter`: Add support for cumulative, non-monotonic metrics. (#8348)
- `oauth2clientauthextension`: Add support for EndpointParams (#7307)
- Add `NewMetricData` function to `MetricsBuilder` to consistently set instrumentation library name (#8255)
- `googlecloudpubsubreceiver` Added implementation of Google Cloud Pubsub receiver. (#8391)
- `googlecloudpubsubexporter` Added implementation of Google Cloud Pubsub exporter. (#8391)
- `coralogixexporter` Allow exporter timeout to be configured (#7957)
- `prometheusremotewriteexporter` support adding trace id and span id attached to exemplars (#8380)
- `influxdbexporter`: accept histogram metric missing infinity bucket. (#8462)
- `skywalkingreceiver`: Added implementation of Skywalking receiver. (#8549)
- `prometheusreceiver`: Fix staleness bug for histograms and summaries (#8561)

### ðŸ›‘ Breaking changes ðŸ›‘

- `mongodbatlasreceiver`: rename mislabeled attribute `memory_state` to correct `disk_status` on partition disk metrics (#7747)
- `mongodbatlasreceiver`: Correctly set initial lookback for querying mongodb atlas api (#8246)
- `nginxreceiver`: instrumentation name updated from `otelcol/nginx` to `otelcol/nginxreceiver` (#8255)
- `postgresqlreceiver`: instrumentation name updated from `otelcol/postgresql` to `otelcol/postgresqlreceiver` (#8255)
- `redisreceiver`: instrumentation name updated from `otelcol/redis` to `otelcol/redisreceiver` (#8255)
- `apachereceiver`: instrumentation name updated from `otelcol/apache` to `otelcol/apachereceiver` ()
- `couchdbreceiver`: instrumentation name updated from `otelcol/couchdb` to `otelcol/couchdbreceiver` (#8366)
- `prometheusreceiver` Change resource attributes on metrics: `instance` -> `service.instance.id`, `host.name` -> `net.host.name`,  `port` -> `net.host.port`, `scheme` -> `http.scheme`, `job` removed (#8266)
- `prometheusremotewriteexporter` Use `service.*` resource attributes instead of `job` and `instance` resource attributes when adding job and instance labels to metrics (#8266)
- `mysqlreceiver`: instrumentation name updated from `otel/mysql` to `otelcol/mysqlreceiver` (#8387)
- `zookeeperreceiver`: instrumentation name updated from `otelcol/zookeeper` to `otelcol/zookeeperreceiver` (#8389)
- `coralogixexporter`: Create dynamic subsystem name (#7957)
  - Deprecate configuration changed. Dynamic subsystem name from traces service name property.
- `rabbitmqreceiver`: instrumentation name updated from `otelcol/rabbitmq` to `otelcol/rabbitmqreceiver` (#8400)

### ðŸ§° Bug fixes ðŸ§°

- `zipkinexporter`: Set "error" tag value when status is set to error (#8187)
- `prometheusremotewriteexporter`: Correctly handle metric labels which collide after sanitization (#8378)
- `prometheusremotewriteexporter`: Drop labels when exemplar attributes exceed the max number of characters (#8379)
- `k8sclusterreceiver`: Add support to enable k8s node and container cpu metrics to be reported as double values (#8245)
  - Use "--feature-gates=receiver.k8sclusterreceiver.reportCpuMetricsAsDouble" to enable reporting node and container
    cpu metrics as a double values.
- `tanzuobservabilityexporter`: Fix a typo in Instrumentation Library name and version tags (#8384)
- `logreceivers`: Fix an issue where receiver would sometimes fail to build using Go 1.18 (#8521)
- `awsxrayreceiver`: Add defaults for optional stack frame parameters (#8790)

### ðŸš© Deprecations ðŸš©

- `datadogexporter`: Deprecate automatic environment variable detection (#8397)

### ðŸš€ New components ðŸš€
- `sigv4authextension`: New Component: Sigv4 Authenticator Extension (#8263)

## v0.46.0

### ðŸ’¡ Enhancements ðŸ’¡

- `internal/stanza`: Export metrics from Stanza receivers (#8025)
- `hostreceiver/pagingscraper`: Migrate the scraper to the mdatagen metrics builder (#7139)
- Do not drop zero trace/span id spans in the jaeger conversion (#7946)
- Upgrade to use semantic conventions 1.6.1 (#7926)
- `dynatraceexporter`: Validate QueueSettings and perform config validation in Validate() instead (#8020)
- `sapmexporter`: Add validation for `sending_queue` setting (#8023)
- `signalfxexporter`: Add validation for `sending_queue` setting (#8026)
- `internal/stanza`: Add support for arbitrary attribute types (#8081)
- `resourcedetectionprocessor`: Add confighttp.HTTPClientSettings To Resource Detection Config Fixes (#7397)
- `hostmetricsreceiver`: Add cpu.utilization metrics to cpu scrapper (#7130)
- `honeycombexporter`: Add validation for `sending_queue` setting (#8113)
- `routingprocessor`: Expand error handling on failure to build exporters (#8125)
- `skywalkingreceiver`: Add new skywalking receiver component folder and structure (#8107)
- `groupbyattrsprocesor`: Allow empty keys, which allows to use the processor for compaction (#7793)
- `datadogexporter`: Add rbac to example k8s manifest file (#8186)
- `splunkhecexporter`: Add validation for `sending_queue` setting (#8256)

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated functions from jaeger translator (#8032)
- `internal/stanza`: Remove `write_to` setting from input operators (#8081)
- `mongodbatlasreceiver`: rename `mongodb.atlas.*` attributes to `mongodb_atlas.*` adhering to naming guidelines. Adding 3 new attributes (#7960)

### ðŸ§° Bug fixes ðŸ§°

- `prometheusreceiver`: Fix segfault that can occur after receiving stale metrics (#8056)
- `filelogreceiver`: Fix issue where logs could occasionally be duplicated (#8123)
- `prometheusremotewriteexporter`: Fix empty non-string resource attributes (#8116)

### ðŸš€ New components ðŸš€

## v0.45.1

### ðŸ’¡ Enhancements ðŸ’¡

- `sumologicexporter`: Move validation to Config (#7936)
- `elasticsearchexporter`: Fix crash with batch processor (#7953).
- `splunkhecexporter`: Batch metrics payloads (#7760)
- `tanzuobservabilityexporter`: Add internal SDK metric tag (#7826)
- `hostreceiver/processscraper`: Migrate the scraper to the mdatagen metrics builder (#7287)

### ðŸ§° Bug fixes ðŸ§°

- `awsprometheusremotewriteexporter`: fix dependencies issue (#7963)

### ðŸš€ New components ðŸš€

- `awsfirehose` receiver: Add AWS Kinesis Data Firehose Receiver (#7918)

## v0.45.0

### ðŸ’¡ Enhancements ðŸ’¡

- `hostreceiver/filesystemscraper`: Migrate the scraper to the mdatagen metrics builder (#7772)
- `hostreceiver/memoryscraper`: Migrate the scraper to the mdatagen metrics builder (#7312)
- `lokiexporter`: Use record attributes as log labels (#7569)
- `routingprocessor`: Do not err on failure to build exporters (#7423)
- `apachereceiver`: Update to mdatagen v2 (#7573)
- `datadogexporter`: Don't send host metadata if hostname is empty (#7426)
- `datadogexporter`: Add insecure_skip_verify flag to configuration (#7422)
- `coralogixexporter`: Update readme (#7785)
- `awscloudwatchlogsexporter`: Remove name from aws cloudwatch logs exporter (#7554)
- `tanzuobservabilityexporter`: Update OTel Collector's Exporter to match WF Proxy Handling of source (#7929)
- `hostreceiver/memoryscraper`: Add memory.utilization (#6221)
- `awskinesisexporter`: Add Queue Config Validation AWS Kinesis Exporter (#7835)
- `elasticsearchexporter`: Remove usage of deprecated LogRecord.Name field (#7829).
- `loadbalancingexporter`: Allow non-exist hostname on startup (#7935)
- `datadogexporter`: Use exact sum, count and average on Datadog distributions (#7830)
- `storage/filestorage`: add optional compaction to filestorage (#7768)
- `tanzuobservabilityexporter`: Add attributes from the Resource to the resulting WF metric tags & set `source` value in WF metric (#8101)

### ðŸ›‘ Breaking changes ðŸ›‘

- Use go mod compat, drops support for reproducibility with go 1.16 (#7915)
- `apachereceiver`: Update instrumentation library name from `otel/apache` to `otelcol/apache` (#7754)
- `pkg/translator/prometheusremotewrite`: Cleanup prw translator public functions (#7776)
- `prometheusreceiver`: The OpenCensus-based metric conversion pipeline has
  been removed.
  - The `receiver.prometheus.OTLPDirect` feature gate has been removed as
    the direct pipeline is the only remaining pipeline.
- `translator/jaeger`: Cleanup jaeger translator function names (#7775)
  - Deprecate old funcs with Internal word.
- `mysqlreceiver`: Update data model and names for several metrics (#7924)
  - Change all metrics to Int values
  - Remove `mysql.buffer_pool_pages`. Replace with:
    - `mysql.buffer_pool.pages`
    - `mysql.buffer_pool.data_pages`
    - `mysql.buffer_pool.page_flushes`
  - Remove `mysql.buffer_pool_size`. Replace with:
    - `mysql.buffer_pool.limit`
    - `mysql.buffer_pool.usage`
  - Rename `mysql.buffer_pool_operations` to `mysql.buffer_pool.operations`

### ðŸš© Deprecations ðŸš©

- Deprecated log_names setting from filter processor. (#7552)

### ðŸ§° Bug fixes ðŸ§°

 - `tailsamplingprocessor`: "And" policy only works as a sub policy under a composite policy (#7590)
 - `prometheusreceiver`: Correctly map description and units when converting
  Prometheus metadata directly to pdata. (#7748)
 - `sumologicexporter`: fix exporter panics on malformed histogram (#7548)
- `awsecscontainermetrics`: CPU Reserved is now 1024/vCPU for ECS Container Insights (#6734)

### ðŸš€ New components ðŸš€

- `clickhouse` exporter: Add ClickHouse Exporter (#6907)
- `pkg/translator/signalfx`: Extract signalfx to metrics conversion in a separate package (#7778)
  - Extract FromMetrics to SignalFx translator package (#7823)

## v0.44.0

### ðŸ’¡ Enhancements ðŸ’¡

- `kafkaexporter`: Add compression and flush max messages options.
- `dynatraceexporter`: Write error logs using plugin logger (#7360)
- `dynatraceexporter`: Fix docs for TLS settings (#7568)
- `tanzuobservabilityexporter`: Turn on metrics exporter (#7281)
- `attributesprocessor` `resourceprocessor`: Add `from_context` value source
- `resourcedetectionprocessor`: check cluster config to verify resource is on aws for eks resources (#7186)
- `awscloudwatchlogsexporter`: enable awscloudwatchlogsexporter which accepts and exports log data (#7297)
- `translator/prometheusremotewrite`: add a new module to help translate data from OTLP to Prometheus Remote Write (#7240)
- `azuremonitorexporter`: In addition to traces, export logs to Azure Application Insights (#7403)
- `jmxreceiver`: Added `additional_jars` configuration option to launch JMX Metric Gatherer JAR with extended `CLASSPATH` (#7378)
- `awscontainerinsightreceiver`: add full pod name when configured to AWS Container Insights Receiver (#7415)
- `hostreceiver/loadscraper`: Migrate the scraper to the mdatagen metrics builder (#7288)
- `awsecscontainermetricsreceiver`: Rename attributes to follow semantic conventions (#7425)
- `datadogexporter`: Always map conventional attributes to tags (#7185)
- `mysqlreceiver`: Add golden files for integration test (#7303)
- `nginxreceiver`: Standardize integration test (#7515)
- `mysqlreceiver`: Update to use mdatagen v2 (#7507)
- `postgresqlreceiver`: Add integration tests (#7501)
- `apachereceiver`: Add integration test (#7517)
- `mysqlreceiver`: Use scrapererror to report errors (#7513)
- `postgresreceiver`: Update to mdatagen v2 (#7503)
- `nginxreceiver`: Update to mdatagen v2 (#7549)
- `datadogexporter`: Fix traces exporter's initialization log (#7564)
- `tailsamplingprocessor`: Add And sampling policy (#6910)
- `coralogixexporter`: Add Coralogix Exporter (#7383)
- `prometheusexecreceiver`: Add default value for `scrape_timeout` option (#7587)

### ðŸ›‘ Breaking changes ðŸ›‘

- `resourcedetectionprocessor`: Update `os.type` attribute values according to semantic conventions (#7544)
- `awsprometheusremotewriteexporter`: Deprecation notice; may be removed after v0.49.0
  - Switch to using the `prometheusremotewriteexporter` + `sigv4authextension` instead

### ðŸ§° Bug fixes ðŸ§°

- `resourcedetectionprocessor`: fix `meta` allow list excluding keys with nil values (#7424)
- `postgresqlreceiver`: Fix issue where empty metrics could be returned after failed connection (#7502)
- `resourcetotelemetry`: Ensure resource attributes are added to summary
  and exponential histogram data points. (#7523)

### ðŸš© Deprecations ðŸš©

- Deprecated otel_to_hec_fields.name setting from splunkhec exporter. (#7560)

## v0.43.0

### ðŸ’¡ Enhancements ðŸ’¡

- `coralogixexporter`: First implementation of Coralogix Exporter (#6816)
- `cloudfoundryreceiver`: Enable Cloud Foundry client (#7060)
- `elasticsearchexporter`: add elasticsearchexporter to the components exporter list (#6002)
- `elasticsearchreceiver`: Add metric metadata (#6892)
- `elasticsearchreceiver`: Use same metrics as JMX receiver for JVM metrics (#7160)
- `elasticsearchreceiver`: Implement scraping logic (#7174)
- `datadogexporter`: Add http.status_code tag to trace stats (#6889)
- `datadogexporter`: Add configuration option to use OTel span name into the Datatog resource name (#6611)
- `mongodbreceiver`: Add initial client code to the component (#7125)
- `tanzuobservabilityexporter`: Support delta histograms (#6897)
- `awscloudwatchlogsexporter`: Use cwlogs package to export logs (#7152)
- `mysqlreceiver`: Add the receiver to available components (#7078)
- `tanzuobservabilityexporter`: Documentation for the memory_limiter configuration (#7164)
- `dynatraceexporter`: Do not shut down exporter when metrics ingest module is temporarily unavailable (#7161)
- `mongodbreceiver`: Add metric metadata (#7163)
- `mongodbreceiver`: Add metric scraping (#7175)
- `postgresqlreceiver`: add the receiver to available components (#7079)
- `rabbitmqreceiver`: Add scraper logic (#7299)
- `tanzuobservability exporter`: Support summary metrics (#7121)
- `mongodbatlasreceiver`: Add retry and backoff to HTTP client (#6943)
- Use Jaeger gRPC instead of Thrift in the docker-compose example (#7243)
- `tanzuobservabilityexporter`: Support exponential histograms (#7127)
- `receiver_creator`: Log added and removed endpoint env structs (#7248)
- `prometheusreceiver`: Use the OTLP data conversion path by default. (#7282)
  - Use `--feature-gates=-receiver.prometheus.OTLPDirect` to re-enable the
    OpenCensus conversion path.
- `extension/observers`: Correctly set image and tag on container endpoints (#7279)
- `tanzuobservabilityexporter`: Document how to enable memory_limiter (#7286)
- `hostreceiver/networkscraper`: Migrate the scraper to the mdatagen metrics builder (#7048)
- `hostmetricsreceiver`: Add MuteProcessNameError config flag to mute specific error reading process executable (#7176)
- `scrapertest`: Improve comparison logic (#7305)
- `hostmetricsreceiver`: add `cpu_average` option for load scraper to report the average cpu load (#6999)
- `scrapertest`: Add comparison option to ignore specific attributes (#6519)
- `tracegen`: Add option to pass in custom headers to export calls via command line (#7308)
- `tracegen`: Provide official container images (#7179)
- `scrapertest`: Add comparison function for pdata.Metrics (#7400)
- `prometheusremotewriteexporter` : Dropping the condition to replace _ with key_ as __ label is reserved and _ is not (#7112)

### ðŸ›‘ Breaking changes ðŸ›‘

- `tanzuobservabilityexporter`: Remove status.code
- `tanzuobservabilityexporter`: Use semantic conventions for status.message (#7126)
- `k8sattributesprocessor`: Move `kube` and `observability` packages to `internal` folder (#7159)
- `k8sattributesprocessor`: Unexport processor `Option`s (#7311)
- `zookeeperreceiver`: Refactored metrics to have correct units, types, and combined some metrics via attributes. (#7280)
- `prometheusremotewriteexporter`: `PRWExporter` struct and `NewPRWExporter()`
  function are now unexported. (#TBD)
- `newrelicexporter` marked as deprecated (#7284)

### ðŸš€ New components ðŸš€

- `rabbitmqreceiver`: Establish codebase for RabbitMQ metrics receiver (#7239)
- Add `basicauth` extension (#7167)
- `k8seventsreceiver`: Implement core logic (#6885)

### ðŸ§° Bug fixes ðŸ§°

- `k8sattributeprocessor`: Parse IP out of net.Addr to correctly tag k8s.pod.ip (#7077)
- `k8sattributeprocessor`: Process IP correctly for net.Addr instances that are not typed (#7133)
- `mdatagen`: Fix validation of `enabled` field in metadata.yaml (#7166)
- `elasticsearch`: Fix timestamp for each metric being startup time (#7255)
- `prometheusremotewriteexporter`: Fix index out of range panic caused by expiring metrics (#7149)
- `resourcedetection`: Log the error when checking for ec2metadata availability (#7296)

## v0.42.0

### ðŸ’¡ Enhancements ðŸ’¡

- `couchbasereceiver`: Add couchbase client (#7122)
- `couchdbreceiver`: Add couchdb scraper (#7131)
- `couchdbreceiver`: Add couchdb client (#6880)
- `elasticsearchreceiver`: Implement scraper client (#7019)
- `couchdbreceiver`: Add metadata metrics (#6878)
- `prometheusremotewriteexporter`: Handling Staleness flag from OTLP (#6679)
- `prometheusexporter`: Handling Staleness flag from OTLP (#6805)
- `prometheusreceiver`: Set OTLP no-data-present flag for stale scraped metrics. (#7043)
- `mysqlreceiver`: Add Integration test (#6916)
- `datadogexporter`: Add compatibility with ECS Fargate semantic conventions (#6670)
- `k8s_observer`: discover k8s.node endpoints (#6820)
- `redisreceiver`: Add missing description fields to keyspace metrics (#6940)
- `redisreceiver`: Set start timestamp uniformly for gauge and sum metrics (#6941)
- `kafkaexporter`: Allow controlling Kafka acknowledgment behaviour  (#6301)
- `lokiexporter`: Log the first part of the http body on failed pushes to loki (#6946)
- `resourcedetectionprocessor`: add the [consul](https://www.consul.io/) detector (#6382)
- `awsemfexporter`: refactor cw_client logic into separate `cwlogs` package (#7072)
- `prometheusexporter`: Dropping the condition to replace _ with key_ as __ label is reserved and _ is not (#7506)

### ðŸ›‘ Breaking changes ðŸ›‘

- `memcachedreceiver`: Update metric names (#6594)
- `memcachedreceiver`: Fix some metric units and value types (#6895)
- `sapm` receiver: Use Jaeger status values instead of OpenCensus (#6682)
- `jaeger` receiver/exporter: Parse/set Jaeger status with OTel spec values (#6682)
- `awsecscontainermetricsreceiver`: remove tag from `container.image.name` (#6436)
- `k8sclusterreceiver`: remove tag from `container.image.name` (#6436)

### ðŸš€ New components ðŸš€

- `ecs_task_observer`: Discover running containers in AWS ECS tasks (#6894)
- `mongodbreceiver`: Establish codebase for MongoDB metrics receiver (#6972)
- `couchbasereceiver`: Establish codebase for Couchbase metrics receiver (#7046)
- `dbstorage`: New experimental dbstorage extension (#7061)
- `redactionprocessor`: Remove sensitive data from traces (#6495)

### ðŸ§° Bug fixes ðŸ§°

- `ecstaskobserver`: Fix "Incorrect conversion between integer types" security issue (#6939)
- Fix typo in "direction" metrics attribute description (#6949)
- `zookeeperreceiver`: Fix issue where receiver could panic during shutdown (#7020)
- `prometheusreceiver`: Fix metadata fetching when metrics differ by trimmable suffixes (#6932)
- Sanitize URLs being logged (#7021)
- `prometheusreceiver`: Fix start time tracking for long scrape intervals (#7053)
- `signalfxexporter`: Don't use syscall to avoid compilation errors on some platforms (#7062)
- `tailsamplingprocessor`: Add support for new policies as composite sub-policies (#6975)

### ðŸ’¡ Enhancements ðŸ’¡

- `lokiexporter`: add complete log record to body (#6619)
- `k8sclusterreceiver` add `container.image.tag` attribute (#6436)
- `spanmetricproccessor`: use an LRU cache for the cached Dimensions key-value pairs (#2179)
- `skywalkingexporter`: add skywalking metrics exporter (#6528)
- `deltatorateprocessor`: add int counter support (#6982)
- `filestorageextension`: document default values (#7022)
- `redisreceiver`: Migrate the scraper to the mdatagen metrics builder (#6938)

## v0.41.0

### ðŸ›‘ Breaking changes ðŸ›‘

- None

### ðŸš€ New components ðŸš€

- `asapauthextension` (#6627)
- `mongodbatlasreceiver` (#6367)

### ðŸ§° Bug fixes ðŸ§°

- `filestorageextension`: fix panic when configured directory cannot be accessed (#6103)
- `hostmetricsreceiver`: fix set of attributes for system.cpu.time metric (#6422)
- `k8sobserver`: only record pod endpoints for running pods (#5878)
- `mongodbatlasreceiver`: fix attributes fields in metadata.yaml (#6440)
- `prometheusexecreceiver`: command line processing on Windows (#6145)
- `spanmetricsprocessor`: fix exemplars support (#6140)
-  Remap arm64 to aarch64 on rpm/deb packages (#6635)

### ðŸ’¡ Enhancements ðŸ’¡

- `datadogexporter`: do not use attribute localhost-like hostnames (#6477)
- `datadogexporter`: retry per network call (#6412)
- `datadogexporter`: take hostname into account for cache (#6223)
- `exporter/lokiexporter`: adding a feature for loki exporter to encode JSON for log entry (#5846)
- `googlecloudspannerreceiver`: added fallback to ADC for database connections. (#6629)
- `googlecloudspannerreceiver`: added parsing only distinct items for sample lock request label. (#6514)
- `googlecloudspannerreceiver`: added request tag label to metadata config for top query stats. (#6475)
- `googlecloudspannerreceiver`: added sample lock requests label to the top lock stats metrics. (#6466)
- `googlecloudspannerreceiver`: added transaction tag label to metadata config for top transaction stats. (#6433)
- `groupbyattrsprocessor`: added support for metrics signal (#6248)
- `hostmetricsreceiver`: ensure SchemaURL is set (#6482)
- `kubeletstatsreceiver`: add support for read-only kubelet endpoint (#6488)
- `mysqlreceiver`: enable native authentication (#6628)
- `mysqlreceiver`: remove requirement for password on MySQL (#6479)
- `receiver/prometheusreceiver`: do not add host.name to metrics from localhost/unspecified targets (#6476)
- `spanmetricsprocessor`: add setStatus operation (#5886)
- `splunkhecexporter`: remove duplication of host.name attribute (#6527)
- `tanzuobservabilityexporter`: add consumer for sum metrics. (#6385)
- Update log-collection library to v0.23.0 (#6593)

## v0.40.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `tencentcloudlogserviceexporter`: change `Endpoint` to `Region` to simplify configuration (#6135)

### ðŸš€ New components ðŸš€

- Add `memcached` receiver (#5839)

### ðŸ§° Bug fixes ðŸ§°

- Fix token passthrough for HEC (#5435)
- `datadogexporter`: Fix missing resource attributes default mapping when resource_attributes_as_tags: false (#6359)
- `tanzuobservabilityexporter`: Log and report missing metric values. (#5835)
- `mongodbatlasreceiver`: Fix metrics metadata (#6395)

### ðŸ’¡ Enhancements ðŸ’¡

- `awsprometheusremotewrite` exporter: Improve error message when failing to sign request
- `mongodbatlas`: add metrics (#5921)
- `healthcheckextension`: Add path option (#6111)
- Set unprivileged user to container image (#6380)
- `k8sclusterreceiver`: Add allocatable type of metrics (#6113)
- `observiqexporter`: Allow Dialer timeout to be configured (#5906)
- `routingprocessor`: remove broken debug log fields (#6373)
- `prometheusremotewriteexporter`: Add exemplars support (#5578)
- `fluentforwardreceiver`: Convert attributes with nil value to AttributeValueTypeEmpty (#6630)

## v0.39.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `httpdreceiver` renamed to `apachereceiver` to match industry standards (#6207)
- `tencentcloudlogserviceexporter` change `Endpoint` to `Region` to simplify configuration (#6135)

### ðŸš€ New components ðŸš€

- Add `postgresqlreceiver` config and factory (#6153)
- Add TencentCloud LogService exporter `tencentcloudlogserviceexporter` (#5722)
- Restore `jaegerthrifthttpexporter` (#5666)
- Add `skywalkingexporter` (#5690, #6114)

### ðŸ§° Bug fixes ðŸ§°

- `datadogexporter`: Improve cumulative metrics reset detection using `StartTimestamp` (#6120)
- `mysqlreceiver`: Address issues in shutdown function (#6239)
- `tailsamplingprocessor`: End go routines during shutdown (#5693)
- `googlecloudexporter`: Update google cloud exporter to correctly close the metric exporter (#5990)
- `statsdreceiver`: Fix the summary point calculation (#6155)
- `datadogexporter` Correct default value for `send_count_sum_metrics` (#6130)

### ðŸ’¡ Enhancements ðŸ’¡

- `datadogexporter`: Increase default timeout to 15 seconds (#6131)
- `googlecloudspannerreceiver`: Added metrics cardinality handling for Google Cloud Spanner receiver (#5981, #6148, #6229)
- `mysqlreceiver`: Mysql add support for different protocols (#6138)
- `bearertokenauthextension`: Added support of Bearer Auth for HTTP Exporters (#5962)
- `awsxrayexporter`: Fallback to rpc.method for segment operation when aws.operation missing (#6231)
- `healthcheckextension`: Add new health check feature for collector pipeline (#5643)
- `datadogexporter`: Always add current hostname (#5967)
- `k8sattributesprocessor`: Add code to fetch all annotations and labels by specifying key regex (#5780)
- `datadogexporter`: Do not rely on collector to resolve envvar when possible to resolve them (#6122)
- `datadogexporter`: Add container tags to attributes package (#6086)
- `datadogexporter`: Preserve original TraceID (#6158)
- `prometheusreceiver`: Enhance prometheus receiver logger to determine errors, test real e2e usage (#5870)
- `awsxrayexporter`: Added support for AWS AppRunner origin (#6141)

## v0.38.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `datadogexporter` Make distributions the default histogram export option. (#5885)
- `redisreceiver` Update Redis receiver's metric names. (#5837)
- Remove `scraperhelper` from contrib, use the core version. (#5826)

### ðŸš€ New components ðŸš€

- `googlecloudspannerreceiver` Added implementation of Google Cloud Spanner receiver. (#5727)
- `awsxrayproxy` Wire up awsxrayproxy extension. (#5747)
- `awscontainerinsightreceiver` Enable AWS Container Insight receiver. (#5960)

### ðŸ§° Bug fixes ðŸ§°

- `statsdreceiver`: fix start timestamp / temporality for counters. (#5714)
- Fix security issue related to github.com/tidwall/gjson. (#5936)
- `datadogexporter` Fix cumulative histogram handling in distributions mode (#5867)
- `datadogexporter` Skip nil sketches (#5925)

### ðŸ’¡ Enhancements ðŸ’¡

- Extend `kafkareceiver` configuration capabilities. (#5677)
- Convert `mongodbatlas` receiver to use scraperhelper. (#5827)
- Convert `dockerstats` receiver to use scraperhelper. (#5825)
- Convert `podman` receiver to use scraperhelper. (#5822)
- Convert `redisreceiver` to use scraperhelper. (#5796)
- Convert `kubeletstats` receiver to use scraperhelper. (#5821)
- `googlecloudspannerreceiver` Migrated Google Cloud Spanner receiver to scraper approach. (#5868)
- `datadogexporter` Use a `Consumer` interface for decoupling from zorkian's package. (#5315)
- `mdatagen` - Add support for extended metric descriptions (#5688)
- `signalfxexporter` Log datapoints option. (#5689)
- `cumulativetodeltaprocessor`: Update cumulative to delta. (#5772)
- Update configuration default values in log receivers docs. (#5840)
- `fluentforwardreceiver`: support more complex fluent-bit objects. (#5676)
- `datadogexporter` Remove spammy logging. (#5856)
- `datadogexporter` Remove obsolete report_buckets config. (#5858)
- Improve performance of metric expression matcher. (#5864)
- `tanzuobservabilityexporter` Introduce metricsConsumer and gaugeMetricConsumer. (#5426)
- `awsxrayexporter` rpc.system has priority to determine aws namespace. (#5833)
- `tailsamplingprocessor` Add support for composite sampling policy to the tailsampler. (#4958)
- `kafkaexporter` Add support for AWS_MSK_IAM SASL Auth (#5763)
- Refactor the client Authenticators  for the new "ClientAuthenticator" interfaces (#5905)
- `mongodbatlasreceiver` Add client wrapper for MongoDB Atlas support (#5386)
- `redisreceiver` Update Redis config options (#5861)
- `routingprocessor`: allow routing for all signals (#5869)
- `extension/observer/docker` add ListAndWatch to observer (#5851)

## v0.37.1

### ðŸ§° Bug fixes ðŸ§°

- Fixes a problem with v0.37.0 which contained dependencies on v0.36.0 components. They should have been updated to v0.37.0.

## v0.37.0

### ðŸš€ New components ðŸš€

- [`journald` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/journaldreceiver) to parse Journald events from systemd journal using the [opentelemetry-log-collection](https://github.com/open-telemetry/opentelemetry-log-collection) library

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove squash on configtls.TLSClientSetting for splunkhecexporter (#5541)
- Remove squash on configtls.TLSClientSetting for elastic components (#5539)
- Remove squash on configtls.TLSClientSetting for observiqexporter (#5540)
- Remove squash on configtls.TLSClientSetting for AWS components (#5454)
- Move `k8sprocessor` to `k8sattributesprocessor`.
- Rename `k8s_tagger` configuration `k8sattributes`.
- filelog receiver: use empty value for `SeverityText` field instead of `"Undefined"` (#5423)
- Rename `configparser.ConfigMap` to `config.Map`
- Rename `pdata.AggregationTemporality*` to `pdata.MetricAggregationTemporality*`
- Remove deprecated `batchpertrace` package/module (#5380)

### ðŸ’¡ Enhancements ðŸ’¡

- `k8sattributes` processor: add container metadata enrichment (#5467, #5572)
- `resourcedetection` processor: Add an option to force using hostname instead of FQDN (#5064)
- `dockerstats` receiver: Move docker client into new shared `internal/docker` (#4702)
- `spanmetrics` processor:
  - Add exemplars to metrics (#5263)
  - Support resource attributes in metrics dimensions (#4624)
- `filter` processor:
  - Add log filtering by `regexp` type filters (#5237)
  - Add record level log filtering (#5418)
- `dynatrace` exporter: Handle non-gauge data types (#5056)
- `datadog` exporter:
  - Add support for exporting histograms as sketches (#5082)
  - Scrub sensitive information from errors (#5575)
  - Add option to send instrumentation library metadata tags with metrics (#5431)
- `podman` receiver: Add `api_version`, `ssh_key`, and `ssh_passphrase` config options (#5430)
- `signalfx` exporter:
  - Add `max_connections` config option (#5432)
  - Add dimension name to log when value > 256 chars (#5258)
  - Discourage setting of endpoint path (#4851)
- `kubeletstats` receiver: Convert to pdata instead of using OpenCensus (#5458)
- `tailsampling` processor: Add `invert_match` config option to `string_attribute` policy (#4393)
- `awsemf` exporter: Add a feature flag in UserAgent for AWS backend to monitor the adoptions (#5178)
- `splunkhec` exporter: Handle explicitly NaN and Inf values (#5581)
- `hostmetrics` receiver:
  - Collect more process states in processes scraper (#4856)
  - Add device label to paging scraper (#4854)
- `awskinesis` exporter: Extend to allow for dynamic export types (#5440)

### ðŸ§° Bug fixes ðŸ§°

- `datadog` exporter:
  - Fix tags on summary and bucket metrics (#5416)
  - Fix cache key generation for cumulative metrics (#5417)
- `resourcedetection` processor: Fix failure to start collector if at least one detector returns an error (#5242)
- `prometheus` exporter: Do not record obsreport calls (#5438)
- `prometheus` receiver: Metric type fixes to match Prometheus functionality (#4865)
- `sentry` exporter: Fix sentry tracing (#4320)
- `statsd` receiver: Set quantiles for metrics (#5647)

## v0.36.0

### ðŸ›‘ Breaking changes ðŸ›‘

- `filter` processor: The configs for `logs` filter processor have been changed to be consistent with the `metrics` filter processor. (#4895)
- `splunk_hec` receiver:
  - `source_key`, `sourcetype_key`, `host_key` and `index_key` have now moved under `hec_metadata_to_otel_attrs` (#4726)
  - `path` field on splunkhecreceiver configuration is removed: We removed the `path` attribute as any request going to the Splunk HEC receiver port should be accepted, and added the `raw_path` field to explicitly map the path accepting raw HEC data. (#4951)
- feat(dynatrace): tags is deprecated in favor of default_dimensions (#5055)

### ðŸ’¡ Enhancements ðŸ’¡

- `filter` processor: Add ability to `include` logs based on resource attributes in addition to excluding logs based on resource attributes for strict matching. (#4895)
- `kubelet` API: Add ability to create an empty CertPool when the system run environment is windows
- `JMX` receiver: Allow JMX receiver logging level to be configured (#4898)
- `datadog` exporter: Export histograms as in OpenMetrics Datadog check (#5065)
- `dockerstats` receiver: Set Schema URL (#5239)
- Rename memorylimiter -> memorylimiterprocessor (#5262)
- `awskinesis` exporter: Refactor AWS kinesis exporter to be synchronous  (#5248)

## v0.35.0

### ðŸ›‘ Breaking changes ðŸ›‘

- Rename configparser.Parser to configparser.ConfigMap (#5070)
- Rename TelemetryCreateSettings -> TelemetrySettings (#5169)

### ðŸ’¡ Enhancements ðŸ’¡

- chore: update influxdb exporter and receiver (#5058)
- chore(dynatrace): use payload limit from api constants (#5077)
- Add documentation for filelog's new force_flush_period parameter (#5066)
- Reuse the gzip reader with a sync.Pool (#5145)
- Add a trace observer when splunkhecreceiver is used for logs (#5063)
- Remove usage of deprecated pdata.AttributeValueMapToMap (#5174)
- Podman Stats Receiver: Receiver and Metrics implementation (#4577)

### ðŸ§° Bug fixes ðŸ§°

- Use staleness markers generated by prometheus, rather than making our own (#5062)
- `datadogexporter` exporter: skip NaN and infinite values (#5053)

## v0.34.0

### ðŸš€ New components ðŸš€

- [`cumulativetodelta` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/cumulativetodeltaprocessor) to convert cumulative sum metrics to cumulative delta

- [`file` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/fileexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`jaeger` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/jaegerexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`kafka` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/kafkaexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`opencensus` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/opencensusexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`prometheus` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/prometheusexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`prometheusremotewrite` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/prometheusremotewriteexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`zipkin` exporter](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/zipkinexporter) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`attribute` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/attributesprocessor) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`filter` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/filterprocessor) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`probabilisticsampler` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/probabilisticsamplerprocessor) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`resource` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourceprocessor) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`span` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/spanprocessor) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`hostmetrics` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/hostmetricsreceiver) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`jaeger` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/jaegerreceiver) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`kafka` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kafkareceiver) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`opencensus` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/opencensusreceiver) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`prometheus` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/prometheusreceiver) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`zipkin` receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/zipkinreceiver) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`bearertokenauth` extension](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/extension/bearertokenauthextension) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`healthcheck` extension](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/extension/healthcheckextension) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`oidcauth` extension](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/extension/oidcauthextension) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`pprof` extension](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/extension/pprofextension) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))
- [`testbed`](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/testbed) from core repository ([#3474](https://github.com/open-telemetry/opentelemetry-collector/issues/3474))

### ðŸ’¡ Enhancements ðŸ’¡

- `tailsampling` processor: Add new policy `probabilistic` (#3876)

## v0.33.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.33.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.32.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- [`cumulativetodelta` processor](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/cumulativetodeltaprocessor) to convert cumulative sum metrics to cumulative delta

### ðŸ’¡ Enhancements ðŸ’¡

- Collector contrib has now full support for metrics proto v0.9.0.

## v0.32.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.32.0 (Beta) ðŸŽ‰

This release is marked as "bad" since the metrics pipelines will produce bad data.

- See https://github.com/open-telemetry/opentelemetry-collector/issues/3824

<<<<<<< HEAD
The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.32.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

### ðŸ›‘ Breaking changes ðŸ›‘

<<<<<<< HEAD
- `splunk_hec` receiver/exporter: `com.splunk.source` field is mapped to `source` field in Splunk instead of `service.name` (#4596)
- `redis` receiver: Move interval runner package to `internal/interval` (#4600)
- `datadog` exporter: Export summary count and sum as monotonic counts (#4605)
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

### ðŸ’¡ Enhancements ðŸ’¡

<<<<<<< HEAD
- `logzio` exporter:
  - New implementation of an in-memory queue to store traces, data compression with gzip, and queue configuration options (#4395)
  - Make `Hclog2ZapLogger` struct and methods private for public go api review (#4431)
- `newrelic` exporter (#4392):
  - Marked unsupported metric as permanent error
  - Force the interval to be valid even if 0
- `awsxray` exporter: Add PHP stacktrace parsing support (#4454)
- `file_storage` extension: Implementation of batch storage API (#4145)
- `datadog` exporter:
  - Skip sum metrics with no aggregation temporality (#4597)
  - Export delta sums as counts (#4609)
- `elasticsearch` exporter: Add dedot support (#4579)
- `signalfx` exporter: Add process metric to translation rules (#4598)
- `splunk_hec` exporter: Add profiling logs support (#4464)
- `awsemf` exporter: Replace logGroup and logStream pattern with metric labels (#4466)
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

### ðŸ§° Bug fixes ðŸ§°

- `awsxray` exporter: Fix the origin on ECS/EKS/EB on EC2 cases (#4391)
- `splunk_hec` exporter: Prevent re-sending logs that were successfully sent (#4467)
- `signalfx` exporter: Prefix temporary metric translations (#4394)

<<<<<<< HEAD
## v0.31.0
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.31.0 (Beta) ðŸŽ‰

<<<<<<< HEAD
The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.31.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ›‘ Breaking changes ðŸ›‘

- `influxdb` receiver: Removed `metrics_schema` config option (#4277)

### ðŸ’¡ Enhancements ðŸ’¡

- Update to OTLP 0.8.0:
  - Remove use of `IntHistogram` (#4276)
  - Update exporters/receivers for `NumberDataPoint`
- Remove use of deprecated `pdata` slice `Resize()` (#4203, #4208, #4209)
- `awsemf` exporter: Added the option to have a user who is sending metrics from EKS Fargate Container Insights to reformat them to look the same as insights from ECS so that they can be ingested by CloudWatch (#4130)
- `k8scluster` receiver: Support OpenShift cluster quota metrics (#4342)
- `newrelic` exporter (#4278):
  - Requests are now retry-able via configuration option (defaults to retries enabled). Permanent errors are not retried.
  - The exporter monitoring metrics now include an untagged summary metric for ease of use.
  - Improved error logging to include URLs that fail to post messages to New Relic.
- `datadog` exporter: Upscale trace stats when global sampling rate is set (#4213)
=======
### ðŸ’¡ Enhancements ðŸ’¡

- Update to OTLP 0.8.0:
  - Translate `IntHistogram` to `Histogram` in `otlp_wrappers` (#3676)
  - Translate `IntGauge` to `Gauge` in `otlp_wrappers` (#3619)
  - Translate `IntSum` to `Sum` in `otlp_wrappers` (#3621)
  - Update `NumberDataPoint` to support `DoubleVal` and `IntVal` (#3689)
  - Update `Exemplar` to use `oneOfPrimitiveValue` (#3699)
  - Remove `IntExemplar` and `IntExemplarSlice` from `pdata` (#3705)
  - Mark `IntGauge`/`IntSum`/`IntDataPoint` as deprecated (#3707)
  - Remove `IntGauge`/`IntSum` from `batchprocessor` (#3718)
  - `prometheusremotewrite` exporter: Convert to new Number metrics (#3714)
  - `prometheus` receiver: Convert to new Number metrics (#3716)
  - `prometheus` exporter: Convert to new Number metrics (#3709)
  - `hostmetrics` receiver: Convert to new Number metrics (#3710)
  - `opencensus`: Convert to new Number metrics (#3708)
  - `scraperhelper` receiver: Convert to new Number metrics (#3717)
  - `testbed`: Convert to new Number metrics (#3719)
  - `expoerterhelper`: Convert `resourcetolabel` to new Number metrics (#3723)
- `configauth`: Prepare auth API to return a context (#3618)
- `pdata`:
  - Implement `Equal()` for map-valued `AttributeValues` (#3612)
  - Add `[Type]Slice.Sort(func)` to sort slices (#3671)
- `memorylimiter`:
  - Add validation on ballast size between `memorylimiter` and `ballastextension` (#3532)
  - Access Ballast extension via `Host.GetExtensions` (#3634)
- `prometheusremotewrite` exporter: Add a WAL implementation without wiring up (#3597)
- `prometheus` receiver: Add `metricGroup.toDistributionPoint` pdata conversion (#3667)
- Use `ComponentID` as identifier instead of config (#3696)
- `zpages`: Move config validation from factory to `Validate` (#3697)
- Enable `tracez` z-pages from otel-go, disable opencensus (#3698)
- Convert temporality and monotonicity for deprecated sums (#3729)

### ðŸ§° Bug fixes ðŸ§°

- `otlpexporter`: Allow endpoint to be configured with a scheme of `http` or `https` (#3575)
- Handle errors when reloading the collector service (#3615)
- Do not report fatal error when `cmux.ErrServerClosed` (#3703)
- Fix bool attribute equality in `pdata` (#3688)

## v0.30.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Rename `pdata.DoubleSum` to `pdata.Sum` (#3583)
- Rename `pdata.DoubleGauge` to `pdata.Gauge` (#3599)
- Migrated `pdata` to a dedicated package (#3483)
- Change Marshaler/Unmarshaler to be consistent with other interfaces (#3502)
- Remove consumer/simple package (#3438)
- Remove unnecessary interfaces from pdata (#3506)
- zipkinv1 implement directly Unmarshaler interface (#3504)
- zipkinv2 implement directly Marshaler/Unmarshaler interface (#3505)
- Change exporterhelper to accept ExporterCreateSettings instead of just logger (#3569)
- Use Func pattern in processorhelper, consistent with others (#3570)

### ðŸš© Deprecations ðŸš©

- Deprecate Resize() from pdata slice APIs (#3573)

### ðŸ’¡ Enhancements ðŸ’¡

- Update OTLP to v0.8.0 (#3572)
- Migrate from OpenCensus to OpenTelemetry for internal tracing (#3567)
- Move internal/pdatagrpc to model/otlpgrpc (#3507)
- Move internal/otlp to model/otlp (#3508)
- Create http Server via Config, enable cors and decompression (#3513)
- Allow users to set min and max TLS versions (#3591)
- Support setting ballast size in percentage of total Mem in ballast extension (#3456)
- Publish go.opentelemetry.io/collector/model as a separate module (#3530)
- Pass a TracerProvider via construct settings to all the components (#3592)
- Make graceful shutdown optional (#3577)

### ðŸ§° Bug fixes ðŸ§°

- `scraperhelper`: Include the scraper name in log messages (#3487)
- `scraperhelper`: fix case when returned pdata is empty (#3520)
- Record the correct number of points not metrics in Kafka receiver (#3553)
- Validate the Prometheus configuration (#3589)

## v0.29.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Rename `service.Application` to `service.Collector` (#3268)
- Provide case sensitivity in config yaml mappings by using Koanf instead of Viper (#3337)
- Move zipkin constants to an internal package (#3431)
- Disallow renaming metrics using metric relabel configs (#3410)
- Move cgroup and iruntime utils from memory_limiter to internal folder (#3448)
- Move model pdata interfaces to pdata, expose them publicly (#3455)

### ðŸ’¡ Enhancements ðŸ’¡

- Change obsreport helpers for scraper to use the same pattern as Processor/Exporter (#3327)
- Convert `otlptext` to implement Marshaler interfaces (#3366)
- Add encoder/decoder and marshaler/unmarshaler for OTLP protobuf (#3401)
- Use the new marshaler/unmarshaler in `kafka` exporter (#3403)
- Convert `zipkinv2` to to/from translator interfaces (#3409)
- `zipkinv1`: Move to translator and encoders interfaces (#3419)
- Use the new marshaler/unmarshaler in `kafka` receiver #3402
- Change `oltp` receiver to use the new unmarshaler, avoid grpc-gateway dependency (#3406)
- Use the new Marshaler in the `otlphttp` exporter (#3433)
- Add grpc response struct for all signals instead of returning interface in `otlp` receiver/exporter (#3437)
- `zipkinv2`: Add encoders, decoders, marshalers (#3426)
- `scrapererror` receiver: Return concrete error type (#3360)
- `kafka` receiver: Add metrics support (#3452)
- `prometheus` receiver:
  - Add store to track stale metrics (#3414)
  - Add `up` and `scrape_xxxx` internal metrics (#3116)

### ðŸ§° Bug fixes ðŸ§°

- `prometheus` receiver:
  - Reject datapoints with duplicate label keys (#3408)
  - Scrapers are not stopped when receiver is shutdown (#3450)
- `prometheusremotewrite` exporter: Adjust default retry settings (#3416)
- `hostmetrics` receiver: Fix missing startTimestamp for `processes` scraper (#3461)

## v0.28.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove unused logstest package (#3222)
- Introduce `AppSettings` instead of `Parameters` (#3163)
- Remove unused testutil.TempSocketName (#3291)
- Move BigEndian helper functions in `tracetranslator` to an internal package.(#3298)
- Rename `configtest.LoadConfigFile` to `configtest.LoadConfigAndValidate` (#3306)
- Replace `ExtensionCreateParams` with `ExtensionCreateSettings` (#3294)
- Replace `ProcessorCreateParams` with `ProcessorCreateSettings`. (#3181)
- Replace `ExporterCreateParams` with `ExporterCreateSettings` (#3164)
- Replace `ReceiverCreateParams` with `ReceiverCreateSettings`. (#3167)
- Change `batchprocessor` logic to limit data points rather than metrics (#3141)
- Rename `PrwExporter` to `PRWExporter` and `NewPrwExporter` to `NewPRWExporter` (#3246)
- Avoid exposing OpenCensus reference in public APIs (#3253)
- Move `config.Parser` to `configparser.Parser` (#3304)
- Remove deprecated funcs inside the obsreceiver (#3314)
- Remove `obsreport.GRPCServerWithObservabilityEnabled`, enable observability in config (#3315)
- Remove `obsreport.ProcessorMetricViews`, use `BuildProcessorCustomMetricName` where needed (#3316)
- Remove "Receive" from `obsreport.Receiver` funcs (#3326)
- Remove "Export" from `obsreport.Exporter` funcs (#3333)
- Hide unnecessary public struct `obsreport.StartReceiveOptions` (#3353)
- Avoid exposing internal implementation public in OC/OTEL receivers (#3355)
- Updated configgrpc `ToDialOptions` and confighttp `ToClient` apis to take extensions configuration map (#3340)
- Remove `GenerateSequentialTraceID` and `GenerateSequentialSpanIDin` functions in testbed (#3390)
- Change "grpc" to "GRPC" in configauth function/type names (#3285)

### ðŸ’¡ Enhancements ðŸ’¡

- Add `doc.go` files to the consumer package and its subpackages (#3270)
- Improve documentation of consumer package and subpackages (#3269, #3361)
- Automate triggering of doc-update on release (#3234)
- Enable Dependabot for Github Actions (#3312)
- Remove the proto dependency in `goldendataset` for traces (#3322)
- Add telemetry for dropped data due to exporter sending queue overflow (#3328)
- Add initial implementation of `pdatagrcp` (#3231)
- Change receiver obsreport helpers pattern to match the Processor/Exporter (#3227)
- Add model translation and encoding interfaces (#3200)
- Add otlpjson as a serializer implementation (#3238)
- `prometheus` receiver:
  - Add `createNodeAndResourcePdata` for Prometheus->OTLP pdata (#3139)
  - Direct metricfamily Prometheus->OTLP (#3145)
- Add `componenttest.NewNop*CreateSettings` to simplify tests (#3375)
- Add support for markdown generation (#3100)
- Refactor components for the Client Authentication Extensions (#3287)

### ðŸ§° Bug fixes ðŸ§°

- Use dedicated `zapcore.Core` for Windows service (#3147)
- Hook up start and shutdown functions in fileexporter (#3260)
- Fix oc to pdata translation for sum non-monotonic cumulative (#3272)
- Fix `timeseriesSignature` in prometheus receiver (#3310)

## v0.27.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Change `Marshal` signatures in kafkaexporter's Marshalers to directly convert pdata to `sarama.ProducerMessage` (#3162)
- Remove `tracetranslator.DetermineValueType`, only used internally by Zipkin (#3114)
- Remove OpenCensus conventions, should not be used (#3113)
- Remove Zipkin specific translation constants, move to internal (#3112)
- Remove `tracetranslator.TagHTTPStatusCode`, use `conventions.AttributeHTTPStatusCode` (#3111)
- Remove OpenCensus status constants and transformation (#3110)
- Remove `tracetranslator.AttributeArrayToSlice`, not used in core or contrib (#3109)
- Remove `internaldata.MetricsData`, same APIs as for traces (#3156)
- Rename `config.IDFromString` to `NewIDFromString`, remove `MustIDFromString` (#3177)
- Move consumerfanout package to internal (#3207)
- Canonicalize enum names in pdata. Fix usage of uppercase names (#3208)

### ðŸ’¡ Enhancements ðŸ’¡

- Use `config.ComponentID` for obsreport receiver/scraper (#3098)
- Add initial implementation of the consumerhelper (#3146)
- Add Collector version to Prometheus Remote Write Exporter user-agent header (#3094)
- Refactor processorhelper to use consumerhelper, split by signal type (#3180)
- Use consumerhelper for exporterhelper, add WithCapabilities (#3186)
- Set capabilities for all core exporters, remove unnecessary funcs (#3190)
- Add an internal sharedcomponent to be shared by receivers with shared resources (#3198)
- Allow users to configure the Prometheus remote write queue (#3046)
- Mark internaldata traces translation as deprecated for external usage (#3176)

### ðŸ§° Bug fixes ðŸ§°

- Fix Prometheus receiver metric start time and reset determination logic. (#3047)
  - The receiver will no longer drop the first sample for `counter`, `summary`, and `histogram` metrics.
- The Prometheus remote write exporter will no longer force `counter` metrics to have a `_total` suffix. (#2993)
- Remove locking from jaeger receiver start and stop processes (#3070)
- Fix batch processor metrics reorder, improve performance (#3034)
- Fix batch processor traces reorder, improve performance (#3107)
- Fix batch processor logs reorder, improve performance (#3125)
- Avoid one unnecessary allocation in grpc OTLP exporter (#3122)
- `batch` processor: Validate that batch config max size is greater than send size (#3126)
- Add capabilities to consumer, remove from processor (#2770)
- Remove internal protos usage in Prometheusremotewrite exporter (#3184)
- `prometheus` receiver: Honor Prometheus external labels (#3127)
- Validate that remote write queue settings are not negative (#3213)

## v0.26.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Change `With*Unmarshallers` signatures in Kafka exporter/receiver (#2973)
- Rename `marshall` to `marshal` in all the occurrences (#2977)
- Remove `componenterror.ErrAlreadyStarted` and `componenterror.ErrAlreadyStopped`, components should not protect against this, Service will start/stop once.
- Rename `ApplicationStartInfo` to `BuildInfo`
- Rename `ApplicationStartInfo.ExeName` to `BuildInfo.Command`
- Rename `ApplicationStartInfo.LongName` to `BuildInfo.Description`

### ðŸš© Deprecations ðŸš©

- Add AppendEmpty and deprecate Append for slices (#2970)

### ðŸ’¡ Enhancements ðŸ’¡

- `kafka` exporter: Add logs support (#2943)
- Update mdatagen to create factories of init instead of new (#2978)
- `zipkin` receiver: Reduce the judgment of zipkin v1 version (#2990)
- Custom authenticator logic to accept a `component.Host` which will extract the authenticator to use based on a new authenticator name property (#2767)
- `prometheusremotewrite` exporter: Add `resource_to_telemetry_conversion` config option (#3031)
- `logging` exporter: Extract OTLP text logging (#3082)
- Format timestamps as strings instead of int in otlptext output (#3088)
- Add darwin arm64 build (#3090)

### ðŸ§° Bug fixes ðŸ§°

- Fix Jaeger receiver to honor TLS Settings (#2866)
- `zipkin` translator: Handle missing starttime case for zipkin json v2 format spans (#2506)
- `prometheus` exporter: Fix OTEL resource label drops (#2899)
- `prometheusremotewrite` exporter:
  - Enable the queue internally (#2974)
  - Don't drop instance and job labels (#2979)
- `jaeger` receiver: Wait for server goroutines exit on shutdown (#2985)
- `logging` exporter: Ignore invalid handle on close (#2994)
- Fix service zpages (#2996)
- `batch` processor: Fix to avoid reordering and send max size (#3029)

## v0.25.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Rename ForEach (in pdata) with Range to be consistent with sync.Map (#2931)
- Rename `componenthelper.Start` to `componenthelper.StartFunc` (#2880)
- Rename `componenthelper.Stop` to `componenthelper.StopFunc` (#2880)
- Remove `exporterheleper.WithCustomUnmarshaler`, `processorheleper.WithCustomUnmarshaler`, `receiverheleper.WithCustomUnmarshaler`, `extensionheleper.WithCustomUnmarshaler`, implement `config.CustomUnmarshaler` interface instead (#2867)
- Remove `component.CustomUnmarshaler` implement `config.CustomUnmarshaler` interface instead (#2867)
- Remove `testutil.HostPortFromAddr`, users can write their own parsing helper (#2919)
- Remove `configparser.DecodeTypeAndName`, use `config.IDFromString` (#2869)
- Remove `config.NewViper`, users should use `config.NewParser` (#2917)
- Remove `testutil.WaitFor`, use `testify.Eventually` helper if needed (#2920)
- Remove testutil.WaitForPort, users can use testify.Eventually (#2926)
- Rename `processorhelper.NewTraceProcessor` to `processorhelper.NewTracesProcessor` (#2935)
- Rename `exporterhelper.NewTraceExporter` to `exporterhelper.NewTracesExporter` (#2937)
- Remove InitEmptyWithCapacity, add EnsureCapacity and Clear (#2845)
- Rename traces methods/objects to include Traces in Kafka receiver (#2966)

### ðŸ’¡ Enhancements ðŸ’¡

- Add `validatable` interface with `Validate()` to all `config.<component>` (#2898)
  - add the empty `Validate()` implementation for all component configs
- **Experimental**: Add a config source manager that wraps the interaction with config sources (#2857, #2903, #2948)
- `kafka` exporter: Key jaeger messages on traceid (#2855)
- `scraperhelper`: Don't try to count metrics if scraper returns an error (#2902)
- Extract ConfigFactory in a ParserProvider interface (#2868)
- `prometheus` exporter: Allows Summary metrics to be exported to Prometheus (#2900)
- `prometheus` receiver: Optimize `dpgSignature` function (#2945)
- `kafka` receiver: Add logs support (#2944)

### ðŸ§° Bug fixes ðŸ§°

- `prometheus` receiver:
  - Treat Summary and Histogram metrics without "\_sum" counter as valid metric (#2812)
  - Add `job` and `instance` as well-known labels (#2897)
- `prometheusremotewrite` exporter:
  - Sort Sample by Timestamp to avoid out of order errors (#2941)
  - Remove incompatible queued retry (#2951)
- `kafka` receiver: Fix data race with batchprocessor (#2957)
- `jaeger` receiver: Jaeger agent should not report ErrServerClosed (#2965)

## v0.24.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Remove legacy internal metrics for memorylimiter processor, `spans_dropped` and `trace_batches_dropped` (#2841)
  - For `spans_dropped` use `processor/refused_spans` with `processor=memorylimiter`
- Rename pdata._.[Start|End]Time to pdata._.[Start|End]Timestamp (#2847)
- Rename pdata.DoubleExemplar to pdata.Exemplar (#2804)
- Rename pdata.DoubleHistogram to pdata.Histogram (#2797)
- Rename pdata.DoubleSummary to pdata.Summary (#2774)
- Refactor `consumererror` package (#2768)
  - Remove `PartialError` type in favor of signal-specific types
  - Rename `CombineErrors()` to `Combine()`
- Refactor `componenthelper` package (#2778)
  - Remove `ComponentSettings` and `DefaultComponentSettings()`
  - Rename `NewComponent()` to `New()`
- obsReport.NewExporter accepts a settings struct (#2668)
- Remove ErrorWaitingHost from `componenttest` (#2582)
- Move `config.Load` to `configparser.Load` (#2796)
- Remove `configtest.NewViperFromYamlFile()`, use `config.Parser.NewParserFromFile()` (#2806)
- Remove `config.ViperSubExact()`, use `config.Parser.Sub()` (#2806)
- Update LoadReceiver signature to remove unused params (#2823)
- Move `configerror.ErrDataTypeIsNotSupported` to `componenterror.ErrDataTypeIsNotSupported` (#2886)
- Rename`CreateTraceExporter` type to `CreateTracesExporter` in `exporterhelper` (#2779)
- Move `fluentbit` extension to contrib (#2795)
- Move `configmodels` to `config` (#2808)
- Move `fluentforward` receiver to contrib (#2723)

### ðŸš© Deprecations ðŸš©

- Deprecate `consumetest.New[${SIGNAL}]Nop` in favor of `consumetest.NewNop` (#2878)
- Deprecate `consumetest.New[${SIGNAL}]Err` in favor of `consumetest.NewErr` (#2878)

### ðŸ’¡ Enhancements ðŸ’¡

- `batch` processor: - Support max batch size for logs (#2736)
- Use `Endpoint` for health check extension (#2782)
- Use `confignet.TCPAddr` for `pprof` and `zpages` extensions (#2829)
- Add watcher to values retrieved via config sources (#2803)
- Updates for cloud semantic conventions (#2809)
  - `cloud.infrastructure_service` -> `cloud.platform`
  - `cloud.zone` -> `cloud.availability_zone`
- Add systemd environment file for deb/rpm packages (#2822)
- Add validate interface in `configmodels` to force each component do configuration validation (#2802, #2856)
- Add `aws.ecs.task.revision` to semantic conventions list (#2816)
- Set unprivileged user to container image (#2838)
- Add New funcs for extension, exporter, processor config settings (#2872)
- Report metric about current size of the exporter retry queue (#2858)
- Allow adding new signals in `ProcessorFactory` by forcing everyone to embed `BaseProcessorFactory` (#2885)

### ðŸ§° Bug fixes ðŸ§°

- `pdata.TracesFromOtlpProtoBytes`: Fixes to handle backwards compatibility changes in proto (#2798)
- `jaeger` receiver: Escape user input used in output (#2815)
- `prometheus` exporter: Ensure same time is used for updated time (#2745)
- `prometheusremotewrite` exporter: Close HTTP response body (#2875)

## v0.23.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Move fanout consumers to fanoutconsumer package (#2615)
- Rename ExporterObsReport to Exporter (#2658)
- Rename ProcessorObsReport to Processor (#2657)
- Remove ValidateConfig and add Validate on the Config struct (#2665)
- Rename pdata Size to OtlpProtoSize (#2726)
- Rename [Traces|Metrics|Logs]Consumer to [Traces|Metrics|Logs] (#2761)
- Remove public access for `componenttest.Example*` components:
  - Users of these structs for testing configs should use the newly added `componenttest.Nop*` (update all components name in the config `example*` -> `nop` and use `componenttest.NopComponents()`).
  - Users of these structs for sink like behavior should use `consumertest.*Sink`.

### ðŸ’¡ Enhancements ðŸ’¡

- `hostmetrics` receiver: List labels along with respective metrics in metadata (#2662)
- `exporter` helper: Remove obsreport.ExporterContext, always add exporter name as a tag to the metrics (#2682)
- `jaeger` exporter: Change to not use internal data (#2698)
- `kafka` receiver: Change to not use internal data (#2697)
- `zipkin` receiver: Change to not use internal data (#2699)
- `kafka` exporter: Change to not use internal data (#2696)
- Ensure that extensions can be created and started multiple times (#2679)
- Use otlp request in logs wrapper, hide members in the wrapper (#2692)
- Add MetricsWrapper to dissallow access to internal representation (#2693)
- Add TracesWrapper to dissallow access to internal representation (#2721)
- Allow multiple OTLP receivers to be created (#2743)

### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

### ðŸ§° Bug fixes ðŸ§°

- `statsd` receiver: Add option to set Counter to be monotonic (#4154)
- Fix `internal/stanza` severity mappings (#4315)
- `awsxray` exporter: Fix the wrong AWS env resource setting (#4384)
- `newrelic` exporter (#4278):
  - Configuration unmarshalling did not allow timeout value to be set to 0 in the endpoint specific section.
  - Request cancellation was not propagated via context into the http request.
  - The queued retry logger is set to a zap.Nop logger as intended.

## v0.30.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.30.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.30.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€
- `oauth2clientauth` extension: ported from core (#3848)
- `metrics-generation` processor: is now enabled and available (#4047)

### ðŸ›‘ Breaking changes ðŸ›‘

- Removed `jaegerthrifthttp` exporter (#4089)

### ðŸ’¡ Enhancements ðŸ’¡

- `tailsampling` processor:
  - Add new policy `status_code` (#3754)
  - Add new tail sampling processor policy: status_code (#3754)
- `awscontainerinsights` receiver:
  - Integrate components and fix bugs for EKS Container Insights (#3846)
  - Add Cgroup to collect ECS instance metrics for container insights receiver #3875
- `spanmetrics` processor: Support sub-millisecond latency buckets (#4091)
- `sentry` exporter: Add exception event capture in sentry (#3854)

## v0.29.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.29.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.29.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ›‘ Breaking changes ðŸ›‘

- `redis` receiver (#3808)
  - removed configuration `service_name`. Use resource processor or `resource_attributes` setting if using `receivercreator`
  - removed `type` label and set instrumentation library name to `otelcol/redis` as other receivers do

### ðŸ’¡ Enhancements ðŸ’¡

- `tailsampling` processor:
  - Add new policy `latency` (#3750)
  - Add new policy `status_code` (#3754)
- `splunkhec` exporter: Include `trace_id` and `span_id` if set (#3850)
- `newrelic` exporter: Update instrumentation naming in accordance with otel spec (#3733)
- `sentry` exporter: Added support for insecure connection with Sentry (#3446)
- `k8s` processor:
  - Add namespace k8s tagger (#3384)
  - Add ignored pod names as config parameter (#3520)
- `awsemf` exporter: Add support for `TaskDefinitionFamily` placeholder on log stream name (#3755)
- `loki` exporter: Add resource attributes as Loki label (#3418)

### ðŸ§° Bug fixes ðŸ§°

- `datadog` exporter:
  - Ensure top level spans are computed (#3786)
  - Update `env` clobbering behavior (#3851)
- `awsxray` exporter: Fixed filtered attribute translation (#3757)
- `splunkhec` exporter: Include trace and span id if set in log record (#3850)

## v0.28.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.28.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.28.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `humio` exporter to export data to Humio using JSON over the HTTP [Ingest API](https://library.humio.com/humio-server/api-ingest.html)
- `udplog` receiver to receives logs from udp using the [opentelemetry-log-collection](https://github.com/open-telemetry/opentelemetry-log-collection) library
- `tanzuobservability` exporter to send traces to [Tanzu Observability](https://tanzu.vmware.com/observability)

### ðŸ›‘ Breaking changes ðŸ›‘

- `f5cloud` exporter (#3509):
  - Renamed the config 'auth' field to 'f5cloud_auth'. This will prevent a config field name collision when [Support for Custom Exporter Authenticators as Extensions](https://github.com/open-telemetry/opentelemetry-collector/pull/3128) is ready to be integrated.

### ðŸ’¡ Enhancements ðŸ’¡

- Enabled Dependabot for Github Actions (#3543)
- Change obsreport helpers for receivers to use the new pattern created in Collector (#3439,#3443,#3449,#3504,#3521,#3548)
- `datadog` exporter:
  - Add logging for unknown or unsupported metric types (#3421)
  - Add collector version tag to internal health metrics (#3394)
  - Remove sublayer stats calc and mutex (#3531)
  - Deduplicate hosts for which we send running metrics (#3539)
  - Add support for summary datatype (#3660)
  - Add datadog span operation name remapping config option (#3444)
  - Update error formatting for error spans that are not exceptions (#3701)
- `nginx` receiver: Update the nginx metrics to more closely align with the conventions (#3420)
- `elasticsearch` exporter: Init JSON encoding support (#3101)
- `jmx` receiver:
  - Allow setting system properties (#3450)
  - Update tested JMX Metric Gatherer release (#3695)
- Refactor components for the Client Authentication Extensions (#3507)
- Remove redundant conversion calls (#3688)
- `storage` extension: Add a `Close` method to Client interface (#3506)
- `splunkhec` exporter: Add `metric_type` as key which maps to the type of the metric (#3696)
- `k8s` processor: Add semantic conventions to k8s-tagger for pod metadata (#3544)
- `kubeletstats` receiver: Refactor kubelet client to internal folder (#3698)
- `newrelic` exporter (#3690):
  - Updates the log level from error to debug when New Relic rate limiting occurs
  - Updates the sanitized api key that is reported via metrics
- `filestorage` extension: Add ability to specify name (#3703)
- `awsemf` exporter: Store the initial value for cumulative metrics (#3425)
- `awskinesis` exporter: Refactor to allow for extended types of encoding (#3655)
- `ecsobserver` extension:
  - Add task definition, ec2, and service fetcher (#3503)
  - Add exporter to convert task to target (#3333)

### ðŸ§° Bug fixes ðŸ§°

- `awsemf` exporter: Remove delta adjustment from summaries by default (#3408)
- `alibabacloudlogservice` exporter: Sanitize labels for metrics (#3454)
- `statsd` receiver: Fix StatsD drop metrics tags when using summary as observer_type for timer/histogram (#3440)
- `awsxray` exporter: Restore setting of Throttle for HTTP throttle response (#3685)
- `awsxray` receiver: Fix quick start bug (#3653)
- `metricstransform` processor: Check all data points for matching metric label values (#3435)

## v0.27.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.27.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.27.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `tcplog` receiver to receive logs from tcp using the [opentelemetry-log-collection](https://github.com/open-telemetry/opentelemetry-log-collection) library
- `influxdb` receiver to accept metrics data as [InfluxDB Line Protocol](https://docs.influxdata.com/influxdb/v2.0/reference/syntax/line-protocol/)

### ðŸ’¡ Enhancements ðŸ’¡

- `splunkhec` exporter:
  - Include the response in returned 400 errors (#3338)
  - Map summary metrics to Splunk HEC metrics (#3344)
  - Add HEC telemetry (#3260)
- `newrelic` exporter: Include dropped attributes and events counts (#3187)
- `datadog` exporter:
  - Add Fargate task ARN to container tags (#3326)
  - Improve mappings for span kind dd span type (#3368)
- `signalfx` exporter: Add info log for host metadata properties update (#3343)
- `awsprometheusremotewrite` exporter: Add SDK and system information to User-Agent header (#3317)
- `metricstransform` processor: Add filtering capabilities matching metric label values for applying changes (#3201)
- `groupbytrace` processor: Added workers for queue processing (#2902)
- `resourcedetection` processor: Add docker detector (#2775)
- `tailsampling` processor: Support regex on span attribute filtering (#3335)

### ðŸ§° Bug fixes ðŸ§°

- `datadog` exporter:
  - Update Datadog attributes to tags mapping (#3292)
  - Consistent `hostname` and default metrics behavior (#3286)
- `signalfx` exporter: Handle character limits on metric names and dimensions (#3328)
- `newrelic` exporter: Fix timestamp value for cumulative metrics (#3406)

## v0.26.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.26.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.26.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `influxdb` exporter to support sending tracing, metrics, and logging data to [InfluxDB](https://www.influxdata.com/products/)

### ðŸ›‘ Breaking changes ðŸ›‘

- `signalfx` exporter (#3207):
  - Additional metrics excluded by default by signalfx exporter
    - system.disk.io_time
    - system.disk.operation_time
    - system.disk.weighted_io_time
    - system.network.connections
    - system.processes.count
    - system.processes.created

### ðŸ’¡ Enhancements ðŸ’¡

- Add default config and systemd environment file support for DEB/RPM packages (#3123)
- Log errors on receiver start/stop failures (#3208)
- `newrelic` exporter: Update API key detection logic (#3212)
- `splunkhec` exporter:
  - Mark permanent errors to avoid futile retries (#3253)
  - Add TLS certs verification (#3204)
- `datadog` exporter:
  - Add env and tag name normalization to trace payloads (#3200)
  - add `ignore_resource`s configuration option (#3245)
- `jmx` receiver: Update for latest snapshot and header support (#3283)
- `awsxray` exporter: Added support for stack trace translation for .NET language (#3280)
- `statsd` receiver: Add timing/histogram for statsD receiver as OTLP summary (#3261)

### ðŸ§° Bug fixes ðŸ§°

- `awsprometheusremotewrite` exporter:
  - Remove `sending_queue` (#3186)
  - Use the correct default for aws_auth.service (#3161)
  - Identify the Amazon Prometheus region from the endpoint (#3210)
  - Don't panic in case session can't be constructed (#3221)
- `datadog` exporter: Add max tag length (#3185)
- `sapm` exporter: Fix crash when passing the signalfx access token (#3294)
- `newrelic` exporter: Update error conditions (#3322)

## v0.25.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.25.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.25.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

<<<<<<< HEAD
### ðŸš€ New components ðŸš€
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

- `kafkametricsreceiver` new receiver component for collecting metrics about a kafka cluster - primarily lag and offset. [configuration instructions](receiver/kafkametricsreceiver/README.md)
- `file_storage` extension to read and write data to the local file system (#3087)

### ðŸ›‘ Breaking changes ðŸ›‘

- `newrelic` exporter (#3091):
  - Removal of common attributes (use opentelemetry collector resource processor to add attributes)
  - Drop support for cumulative metrics being sent to New Relic via a collector

### ðŸ’¡ Enhancements ðŸ’¡

- Update `opentelemetry-log-collection` to v0.17.0 for log receivers (#3017)
- `datadog` exporter:
  - Add `peer.service` priority instead of `service.name` (#2817)
  - Improve support of semantic conventions for K8s, Azure and ECS (#2623)
- Improve and batch logs translation for stanza (#2892)
- `statsd` receiver: Add timing/histogram as OTLP gauge (#2973)
- `honeycomb` exporter: Add Retry and Queue settings (#2714)
- `resourcedetection` processor:
  - Add AKS resource detector (#3035)
  - Use conventions package constants for ECS detector (#3171)
- `sumologic` exporter: Add graphite format (#2695)
- Add trace attributes to the log entry for stanza (#3018)
- `splunk_hec` exporter: Send log record name as part of the HEC log event (#3119)
- `newrelic` exporter (#3091):
  - Add support for logs
  - Performance improvements
  - Optimizations to the New Relic payload to reduce payload size
  - Metrics generated for monitoring the exporter
  - Insert Key vs License keys are auto-detected in some cases
  - Collector version information is properly extracted via the application start info parameters

### ðŸ§° Bug fixes ðŸ§°

<<<<<<< HEAD
- `splunk_hec` exporter: Fix sending log payload with missing the GZIP footer (#3032)
- `awsxray` exporter: Remove propagation of error on shutdown (#2999)
- `resourcedetection` processor:
  - Correctly report DRAGONFLYBSD value (#3100)
  - Fallback to `os.Hostname` when FQDN is not available (#3099)
- `httpforwarder` extension: Do not report ErrServerClosed when shutting down the service (#3173)
- `collectd` receiver: Do not report ErrServerClosed when shutting down the service (#3178)

## v0.24.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.24.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.24.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `fluentbit` extension and `fluentforward` receiver moved from opentelemetry-collector

### ðŸ’¡ Enhancements ðŸ’¡

- Check `NO_WINDOWS_SERVICE` environment variable to force interactive mode on Windows (#2819)
- `resourcedetection `processor:
  - Add task revision to ECS resource detector (#2814)
  - Add GKE detector (#2821)
  - Add Amazon EKS detector (#2820)
  - Add `VMScaleSetName` field to Azure detector (#2890)
- `awsemf` exporter:
  - Add `parse_json_encoded_attr_values` config option to decode json-encoded strings in attribute values (#2827)
  - Add `output_destination` config option to support AWS Lambda (#2720)
- `googlecloud` exporter: Handle `cloud.availability_zone` semantic convention (#2893)
- `newrelic` exporter: Add `instrumentation.provider` to default attributes (#2900)
- Set unprivileged user to container image (#2925)
- `splunkhec` exporter: Add `max_content_length_logs` config option to send log data in payloads less than max content length (#2524)
- `k8scluster` and `kubeletstats` receiver: Replace package constants in favor of constants from conventions in core (#2996)

### ðŸ§° Bug fixes ðŸ§°

- `spanmetrics` processor:
  - Rename `calls` metric to `calls_total` and set `IsMonotonic` to true (#2837)
  - Validate duplicate dimensions at start (#2844)
- `awsemf` exporter: Calculate delta instead of rate for cumulative metrics (#2512)
- `signalfx` exporter:
  - Remove more unnecessary translation rules (#2889)
  - Implement summary type (#2998)
- `awsxray` exporter: Remove translation to HTTP status from OC status (#2978)
- `awsprometheusremotewrite` exporter: Close HTTP body after RoundTrip (#2955)
- `splunkhec` exporter: Add ResourceAttributes to Splunk Event (#2843)
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

## v0.23.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.23.0 (Beta) ðŸŽ‰

<<<<<<< HEAD
The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.23.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

### ðŸš€ New components ðŸš€

- `groupbyattrs` processor to group the records by provided attributes
- `dotnetdiagnostics` receiver to read metrics from .NET processes

### ðŸ›‘ Breaking changes ðŸ›‘

- `stackdriver` exporter marked as deprecated and renamed to `googlecloud`
- Change the rule expression in receiver creator for matching endpoints types from `type.port`, `type.hostport` and `type.pod` to `type == "port"`, `type == "hostport"` and `type == "pod"` (#2661)

### ðŸ’¡ Enhancements ðŸ’¡

- `loadbalancing` exporter: Add support for logs (#2470)
- `sumologic` exporter: Add carbon formatter (#2562)
- `awsecscontainermetrics` receiver: Add new metric for stopped container (#2383)
- `awsemf` exporter:
  - Send EMF logs in batches (#2572)
  - Add prometheus type field for CloudWatch compatibility (#2689)
- `signalfx` exporter:
  - Add resource attributes to events (#2631)
  - Add translation rule to drop dimensions (#2660)
  - Remove temporary host translation workaround (#2652)
  - Remove unnecessary default translation rules (#2672)
  - Update `exclude_metrics` option so that the default exclude rules can be overridden by setting the option to `[]` (#2737)
- `awsprometheusremotewrite` exporter: Add support for given IAM roles (#2675)
- `statsd` receiver: Change to use OpenTelemetry type instead of OpenCensus type (#2733)
- `resourcedetection` processor: Add missing entries for `cloud.infrastructure_service` (#2777)

### ðŸ§° Bug fixes ðŸ§°

- `dynatrace` exporter: Serialize each datapoint into separate line (#2618)
- `splunkhec` exporter: Retain all otel attributes (#2712)
- `newrelic` exporter: Fix default metric URL (#2739)
- `googlecloud` exporter: Add host.name label if hostname is present in node (#2711)

## v0.22.0

<<<<<<< HEAD
# ðŸŽ‰ OpenTelemetry Collector Contrib v0.22.0 (Beta) ðŸŽ‰
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.22.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

<<<<<<< HEAD
### ðŸš€ New components ðŸš€
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

- `filelog` receiver to tail and parse logs from files using the [opentelemetry-log-collection](https://github.com/open-telemetry/opentelemetry-log-collection) library

### ðŸ’¡ Enhancements ðŸ’¡

<<<<<<< HEAD
- `dynatrace` exporter: Send metrics to Dynatrace in chunks of 1000 (#2468)
- `k8s` processor: Add ability to associate metadata tags using pod UID rather than just IP (#2199)
- `signalfx` exporter:
  - Add statusCode to logging field on dimension client (#2459)
  - Add translation rules for `cpu.utilization_per_core` (#2540)
  - Updates to metadata handling (#2531)
  - Calculate extra network I/O metrics (#2553)
  - Calculate extra disk I/O metrics (#2557)
- `statsd` receiver: Add metric type label and `enable_metric_type` option (#2466)
- `sumologic` exporter: Add support for carbon2 format (#2562)
- `resourcedetection` processor: Add Azure detector (#2372)
- `k8scluster` receiver: Use OTel conventions for metadata (#2530)
- `newrelic` exporter: Multi-tenant support for sending trace data and performance enhancements (#2481)
- `stackdriver` exporter: Enable `retry_on_failure` and `sending_queue` options (#2613)
- Use standard way to convert from time.Time to proto Timestamp (#2548)

### ðŸ§° Bug fixes ðŸ§°
=======
### ðŸ›‘ Breaking changes ðŸ›‘

- Remove deprecated `queued_retry` processor
- Remove deprecated configs from `resource` processor: `type` (set "opencensus.type" key in "attributes.upsert" map instead) and `labels` (use "attributes.upsert" instead).

### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

- `signalfx` exporter:
  - Fix calculation of `network.total` metric (#2551)
  - Correctly convert dimensions on metadata updates (#2552)
- `awsxray` exporter and receiver: Fix the type of content_length (#2539)
- `resourcedetection` processor: Use values in accordance to semantic conventions for AWS (#2556)
- `awsemf` exporter: Fix concurrency issue (#2571)

<<<<<<< HEAD
## v0.21.0
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.21.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.21.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

<<<<<<< HEAD
### ðŸš€ New components ðŸš€

- `loki` exporter to export data via HTTP to Loki
=======
### ðŸ›‘ Breaking changes ðŸ›‘

- Rename host metrics according to metrics spec and rename `swap` scraper to `paging` (#2311)

### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

### ðŸ›‘ Breaking changes ðŸ›‘

<<<<<<< HEAD
- `signalfx` exporter: Allow periods to be sent in dimension keys (#2456). Existing users who do not want to change this functionality can set `nonalphanumeric_dimension_chars` to `_-`
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

### ðŸ’¡ Enhancements ðŸ’¡

- `awsemf` exporter:
  - Support unit customization before sending logs to AWS CloudWatch (#2318)
  - Group exported metrics by labels (#2317)
- `datadog` exporter: Add basic span events support (#2338)
- `alibabacloudlogservice` exporter: Support new metrics interface (#2280)
- `sumologic` exporter:
  - Enable metrics pipeline (#2117)
  - Add support for all types of log body (#2380)
- `signalfx` exporter: Add `nonalphanumeric_dimension_chars` config option (#2442)

<<<<<<< HEAD
### ðŸ§° Bug fixes ðŸ§°
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

- `resourcedetection` processor: Fix resource attribute environment variable (#2378)
- `k8scluster` receiver: Fix nil pointer bug (#2450)

<<<<<<< HEAD
## v0.20.0
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.20.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.20.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

<<<<<<< HEAD
### ðŸš€ New components ðŸš€
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

- `spanmetrics` processor to aggregate Request, Error and Duration (R.E.D) metrics from span data
- `awsxray` receiver to accept spans in the X-Ray Segment format
- `groupbyattrs` processor to group the records by provided attributes

<<<<<<< HEAD
### ðŸ›‘ Breaking changes ðŸ›‘
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

- Rename `kinesis` exporter to `awskinesis` (#2234)
- `signalfx` exporter: Remove `send_compatible_metrics` option, use `translation_rules` instead (#2267)
- `datadog` exporter: Remove default prefix from user metrics (#2308)

<<<<<<< HEAD
### ðŸ’¡ Enhancements ðŸ’¡
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

- `signalfx` exporter: Add k8s metrics to default excludes (#2167)
- `stackdriver` exporter: Reduce QPS (#2191)
- `datadog` exporter:
  - Translate otel exceptions to DataDog errors (#2195)
  - Use resource attributes for metadata and generated metrics (#2023)
- `sapm` exporter: Enable queuing by default (#1224)
- `dynatrace` exporter: Allow underscores anywhere in metric or dimension names (#2219)
- `awsecscontainermetrics` receiver: Handle stopped container's metadata (#2229)
- `awsemf` exporter: Enhance metrics batching in AWS EMF logs (#2271)
- `f5cloud` exporter: Add User-Agent header with version to requests (#2292)

### ðŸ§° Bug fixes ðŸ§°

<<<<<<< HEAD
- `signalfx` exporter: Reinstate network/filesystem translation rules (#2171)
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

## v0.19.0

<<<<<<< HEAD
# ðŸŽ‰ OpenTelemetry Collector Contrib v0.19.0 (Beta) ðŸŽ‰
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.19.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

<<<<<<< HEAD
### ðŸš€ New components ðŸš€
=======
### ðŸ§° Bug fixes ðŸ§°
>>>>>>> upstream/main

- `f5cloud` exporter to export metric, trace, and log data to F5 Cloud
- `jmx` receiver to report metrics from a target MBean server in conjunction with the [JMX Metric Gatherer](https://github.com/open-telemetry/opentelemetry-java-contrib/blob/v1.0.0-alpha/contrib/jmx-metrics/README.md)

<<<<<<< HEAD
### ðŸ›‘ Breaking changes ðŸ›‘

- `signalfx` exporter: The `exclude_metrics` option now takes slice of metric filters instead of just metric names (slice of strings) (#1951)

### ðŸ’¡ Enhancements ðŸ’¡

- `datadog` exporter: Sanitize datadog service names (#1982)
- `awsecscontainermetrics` receiver: Add more metadata (#2011)
- `azuremonitor` exporter: Favor RPC over HTTP spans (#2006)
- `awsemf` exporter: Always use float64 as calculated rate (#2019)
- `splunkhec` receiver: Make the HEC receiver path configurable, and use `/*` by default (#2137)
- `signalfx` exporter:
  - Drop non-default metrics and add `include_metrics` option to override (#2145, #2146, #2162)
  - Rename `system.network.dropped_packets` metric to `system.network.dropped` (#2160)
  - Do not filter cloud attributes from dimensions (#2020)
- `redis` receiver: Migrate to pdata metrics #1889

### ðŸ§° Bug fixes ðŸ§°

- `datadog` exporter: Ensure that version tag is added to trace stats (#2010)
- `loadbalancing` exporter: Rolling update of collector can stop the periodical check of DNS updates (#1798)
- `awsecscontainermetrics` receiver: Change the type of `exit_code` from string to int and deal with the situation when there is no data (#2147)
- `groupbytrace` processor: Make onTraceReleased asynchronous to fix processor overload (#1808)
- Handle cases where the time field of Splunk HEC events is encoded as a String (#2159)

## v0.18.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.18.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.18.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `sumologic` exporter to send logs and metrics data to Sumo Logic
- `dynatrace` exporter to send metrics to Dynatrace

### ðŸ’¡ Enhancements ðŸ’¡

- `datadog` exporter:
  - Add resource attributes to tags conversion feature (#1782)
  - Add Kubernetes conventions for hostnames (#1919)
  - Add container tags to datadog export for container infra metrics in service view (#1895)
  - Update resource naming and span naming (#1861)
  - Add environment variables support for config options (#1897)
- `awsxray` exporter: Add parsing of JavaScript stack traces (#1888)
- `elastic` exporter: Translate exception span events (#1858)
- `signalfx` exporter: Add translation rules to aggregate per core CPU metrics in default translations (#1841)
- `resourcedetection` processor: Gather tags associated with the EC2 instance and add them as resource attributes (#1899)
- `simpleprometheus` receiver: Add support for passing params to the prometheus scrape config (#1949)
- `azuremonitor` exporter: Implement Span status code specification changes - gRPC (#1960)
- `metricstransform` processor: Add grouping option ($1887)
- `alibabacloudlogservice` exporter: Use producer to send data to improve performance (#1981)

### ðŸ§° Bug fixes ðŸ§°

- `datadog` exporter: Handle monotonic metrics client-side (#1805)
- `awsxray` exporter: Log error when translating span (#1809)

## v0.17.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.17.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.17.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ’¡ Enhancements ðŸ’¡

- `awsemf` exporter: Add collector version to EMF exporter user agent (#1778)
- `signalfx` exporter: Add configuration for trace correlation (#1795)
- `statsd` receiver: Add support for metric aggregation (#1670)
- `datadog` exporter: Improve logging of hostname detection (#1796)

### ðŸ§° Bug fixes ðŸ§°

- `resourcedetection` processor: Fix ecs detector to not use the default golang logger (#1745)
- `signalfx` receiver: Return 200 when receiver succeed (#1785)
- `datadog` exporter: Use a singleton for sublayer calculation (#1759)
- `awsxray` and `awsemf` exporters: Change the User-Agent content order (#1791)

## v0.16.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.16.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.16.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ›‘ Breaking changes ðŸ›‘

- `honeycomb` exporter: Update to use internal data format (#1689)

### ðŸ’¡ Enhancements ðŸ’¡

- `newrelic` exporter: Add support for span events (#1643)
- `awsemf` exporter:
  - Add placeholder support in `log_group_name` and `log_stream_name` config (#1623, #1661)
  - Add label matching filtering rule (#1619)
- `resourcedetection` processor: Add new resource detector for AWS Elastic Beanstalk environments (#1585)
- `loadbalancing` exporter:
  - Add sort of endpoints in static resolver (#1692)
  - Allow specifying port when using DNS resolver (#1650)
- Add `batchperresourceattr` helper library that splits an incoming data based on an attribute in the resource (#1694)
- `alibabacloudlogservice` exporter:
  - Add logs exporter (#1609)
  - Change trace type from opencensus to opentelemetry (#1713)
- `datadog` exporter:
  - Improve trace exporter performance (#1706, #1707)
  - Add option to only send metadata (#1723)
- `awsxray` exporter:
  - Add parsing of Python stack traces (#1676)
  - Add collector version to user agent (#1730)

### ðŸ§° Bug fixes ðŸ§°

- `loadbalancing` exporter:
  - Fix retry queue for exporters (#1687)
  - Fix `periodicallyResolve` for DNS resolver checks (#1678)
- `datadog` exporter: Fix status code handling (#1691)
- `awsxray` exporter:
  - Fix empty traces in X-Ray console (#1709)
  - Stricter requirements for adding http request url (#1729)
  - Fix status code handling for errors/faults (#1740)
- `signalfx` exporter:
  - Split incoming data requests by access token before enqueuing (#1727)
  - Disable retry on 400 and 401, retry with backoff on 429 and 503 (#1672)
- `awsecscontainermetrics` receiver: Improve error handling to fix seg fault (#1738)

## v0.15.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.15.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.15.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `zookeeper` receiver: Collects metrics from a Zookeeper instance using the `mntr` command
- `loadbalacing` exporter: Consistently exports spans belonging to the same trace to the same backend
- `windowsperfcounters` receiver: Captures the configured system, application, or custom performance counter data from the Windows registry using the PDH interface
- `awsprometheusremotewrite` exporter:  Sends metrics data in Prometheus TimeSeries format to a Prometheus Remote Write Backend and signs each outgoing HTTP request following the AWS Signature Version 4 signing process

### ðŸ’¡ Enhancements ðŸ’¡

- `awsemf` exporter:
  - Add `metric_declarations` config option for metric filtering and dimensions (#1503)
  - Add SummaryDataType and remove Min/Max from Histogram (#1584)
- `signalfxcorrelation` exporter: Add ability to translate host dimension (#1561)
- `newrelic` exporter: Use pdata instead of the OpenCensus for traces (#1587)
- `metricstransform` processor:
  - Add `combine` action for matched metrics (#1506)
  - Add `submatch_case` config option to specify case of matched label values (#1640)
- `awsecscontainermetrics` receiver: Extract cluster name from ARN (#1626)
- `elastic` exporter: Improve handling of span status if the status code is unset (#1591)

### ðŸ§° Bug fixes ðŸ§°

- `awsemf` exporter: Add check for unhandled metric data types (#1493)
- `groupbytrace` processor: Make buffered channel to avoid goroutines leak (#1505)
- `stackdriver` exporter: Set `options.UserAgent` so that the OpenCensus exporter does not override the UA ($1620)

## v0.14.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.14.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.14.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `datadog` exporter to send metric and trace data to Datadog (#1352)
- `tailsampling` processor moved from core to contrib (#1383)

### ðŸ›‘ Breaking changes ðŸ›‘

- `jmxmetricsextension` migrated to `jmxreceiver` (#1182, #1357)
- Move signalfx correlation code out of `sapm` to `signalfxcorrelation` exporter (#1376)
- Move Splunk specific utils outside of common (#1306)
- `stackdriver` exporter:
    - Config options `metric_prefix` & `skip_create_metric_descriptor` are now nested under `metric`, see [README](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/v0.14.0/exporter/stackdriverexporter/README.md).
    - Trace status codes no longer reflect gRPC codes as per spec changes: open-telemetry/opentelemetry-specification#1067
- `datadog` exporter: Remove option to change the namespace prefix (#1483)

### ðŸ’¡ Enhancements ðŸ’¡

- `splunkhec` receiver: Add ability to ingest metrics (#1276)
- `signalfx` receiver: Improve pipeline error handling (#1329)
- `datadog` exporter:
  - Improve hostname resolution (#1285)
  - Add flushing/export of traces and trace-related statistics (#1266)
  - Enable traces on Windows (#1340)
  - Send otel.exporter running metric (#1354)
  - Add tag normalization util method (#1373)
  - Send host metadata (#1351)
  - Support resource conventions for hostnames (#1434)
  - Add version tag extract (#1449)
- Add `batchpertrace` library to split the incoming batch into several batches, one per trace (#1257)
- `statsd` receiver:
  - Add timer support (#1335)
  - Add sample rate support for counter, transfer gauge to double and transfer counter to int only (#1361)
- `awsemf` exporter: Restructure metric translator logic (#1353)
- `resourcedetection` processor:
  - Add EC2 hostname attribute (#1324)
  - Add ECS Resource detector (#1360)
- `sapm` exporter: Add queue settings (#1390)
- `metrictransform` processor: Add metric filter option (#1447)
- `awsxray` exporter: Improve ECS attribute and origin translation (#1428)
- `resourcedetection` processor: Initial system detector (#1405)

### ðŸ§° Bug fixes ðŸ§°

- Remove duplicate definition of cloud providers with core conventions (#1288)
- `kubeletstats` receiver: Handle nil references from the kubelet API (#1326)
- `awsxray` receiver:
  - Add kind type to root span to fix the empty parentID problem (#1338)
  - Fix the race condition issue (#1490)
- `awsxray` exporter:
  - Setting the tlsconfig InsecureSkipVerify using NoVerifySSL (#1350)
  - Drop invalid xray trace id (#1366)
- `elastic` exporter: Ensure span name is limited (#1371)
- `splunkhec` exporter: Don't send 'zero' timestamps to Splunk HEC (#1157)
- `stackdriver` exporter: Skip processing empty metrics slice (#1494)

## v0.13.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.13.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.13.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ’¡ Enhancements ðŸ’¡

- `sapm` exporter:
  - Enable queuing by default (#1224)
  - Add SignalFx APM correlation (#1205)
  - Make span source attribute and destination dimension names configurable (#1286)
- `signalfx` exporter:
  - Pass context to the http client requests (#1225)
  - Update `disk.summary_utilization` translation rule to accommodate new labels (#1258)
- `newrelic` exporter: Add `span.kind` attribute (#1263)
- `datadog` exporter:
  - Add Datadog trace translation helpers (#1208)
  - Add API key validation (#1216)
- `splunkhec` receiver: Add the ability to ingest logs (#1268)
- `awscontainermetrics` receiver: Report `CpuUtilized` metric in percentage (#1283)
- `awsemf` exporter: Only calculate metric rate for cumulative counter and avoid SingleDimensionRollup for metrics with only one dimension (#1280)

### ðŸ§° Bug fixes ðŸ§°

- Make `signalfx` exporter a metadata exporter (#1252)
- `awsecscontainermetrics` receiver: Check for empty network rate stats and set zero (#1260)
- `awsemf` exporter: Remove InstrumentationLibrary dimension in CloudWatch EMF Logs if it is undefined (#1256)
- `awsxray` receiver: Fix trace/span id transfer (#1264)
- `datadog` exporter: Remove trace support for Windows for now (#1274)
- `sapm` exporter: Correlation enabled check inversed (#1278)

## v0.12.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.12.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.12.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- `awsemf` exporter to support exporting metrics to AWS CloudWatch (#498, #1169)
- `http_forwarder` extension that forwards HTTP requests to a specified target (#979, #1014, #1150)
- `datadog` exporter that sends metric and trace data to Datadog (#1142, #1178, #1181, #1212)
- `awsecscontainermetrics` receiver to collect metrics from Amazon ECS Task Metadata Endpoint (#1089, #1148, #1160)

### ðŸ’¡ Enhancements ðŸ’¡

- `signalfx` exporter:
  - Add host metadata synchronization (#1039, #1118)
  - Add `copy_dimensions` translator option (#1126)
  - Update `k8s_cluster` metric translations (#1121)
  - Add option to exclude metrics (#1156)
  - Add `avg` aggregation method (#1151)
  - Fallback to host if cloud resource id not found (#1170)
  - Add backwards compatible translation rules for the `dockerstatsreceiver` (#1201)
  - Enable queuing and retries (#1223)
- `splunkhec` exporter:
  - Add log support (#875)
  - Enable queuing and retries (#1222)
- `k8scluster` receiver: Standardize metric names (#1119)
- `awsxray` exporter:
  - Support AWS EKS attributes (#1090)
  - Store resource attributes in X-Ray segments (#1174)
- `honeycomb` exporter:
  - Add span kind to the event sent to Honeycomb (#474)
  - Add option to adjust the sample rate using an attribute on the span (#1162)
- `jmxmetrics` extension: Add subprocess manager to manage child java processes (#1028)
- `elastic` exporter: Initial metrics support (#1173)
- `k8s` processor: Rename default attr names for label/annotation extraction (#1214)
- Add common SignalFx host id extraction (#1100)
- Allow MSI upgrades (#1165)

### ðŸ§° Bug fixes ðŸ§°

- `awsxray` exporter: Don't set origin to EC2 when not on AWS (#1115)

## v0.11.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.11.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.11.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€
- add `dockerstats` receiver as top level component (#1081)
- add `tracegen` utility (#956)

### ðŸ’¡ Enhancements ðŸ’¡
- `stackdriver` exporter: Allow overriding client options via config (#1010)
- `k8scluster` receiver: Ensure informer caches are synced before initial data sync (#842)
- `elastic` exporter: Translate `deployment.environment` resource attribute to Elastic APM's semantically equivalent `service.environment` (#1022)
- `k8s` processor: Add logs support (#1051)
- `awsxray` exporter: Log response error with zap (#1050)
- `signalfx` exporter
  - Add dimensions to renamed metrics (#1041)
  - Add translation rules for `disk_ops.total` and `disk_ops.pending` metrics (#1082)
  - Add event support (#1036)
- `kubeletstats` receiver: Cache detailed PVC labels to reduce API calls (#1052)
- `signalfx` receiver: Add event support (#1035)

## v0.10.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.10.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.10.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€
- add initial docker stats receiver, without sourcing in top level components (#495)
- add initial jmx metrics extension structure, without sourcing in top level components (#740)
- `routing` processor for routing spans based on HTTP headers (#907)
- `splunkhec` receiver to receive Splunk HEC metrics, traces and logs (#840)
- Add skeleton for `http_forwarder` extension that forwards HTTP requests to a specified target (#979)

### ðŸ’¡ Enhancements ðŸ’¡
- `stackdriver` exporter
  - Add timeout parameter (#835)
  - Add option to configurably set UserAgent string (#758)
- `signalfx` exporter
  - Reduce memory allocations for big batches processing (#871)
  - Add AWSUniqueId and gcp_id generation (#829)
  - Calculate cpu.utilization compatibility metric (#839, #974, #954)
- `metricstransform` processor: Replace `{{version}}` in label values (#876)
- `resourcedetection` processor: Logs Support (#970)
- `statsd` receiver: Add parsing for labels and gauges (#903)

### ðŸ§° Bug fixes ðŸ§°
- `k8s` processor
  - Wrap metrics before sending further down the pipeline (#837)
  - Fix setting attributes on metrics passed from agent (#836)
- `awsxray` exporter: Fix "pointer to empty string" is not omitted bug (#830)
- `azuremonitor` exporter: Treat UNSPECIFIED span kind as INTERNAL (#844)
- `signalfx` exporter: Remove misleading warnings (#869)
- `newrelic` exporter: Fix panic if service name is empty (#969)
- `honeycomb` exporter: Don't emit default proc id + starttime (#972)

## v0.9.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.9.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.9.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ›‘ Breaking changes ðŸ›‘
- Remove deprecated `lightstep` exporter (#828)

### ðŸš€ New components ðŸš€
- `statsd` receiver for ingesting StatsD messages (#566)

### ðŸ’¡ Enhancements ðŸ’¡
- `signalfx` exporter
   - Add disk usage translations (#760)
   - Add disk utilization translations (#782)
   - Add translation rule to drop redundant metrics (#809)
- `kubeletstats` receiver
  - Sync available volume metadata from /pods endpoint (#690)
  - Add ability to collect detailed data from PVC (#743)
- `awsxray` exporter: Translate SDK name/version into xray model (#755)
- `elastic` exporter: Translate semantic conventions to Elastic destination fields (#671)
- `stackdriver` exporter: Add point count metric (#757)
- `awsxray` receiver
  - Ported the TCP proxy from the X-Ray daemon (#774)
  - Convert to OTEL trace format (#691)

### ðŸ§° Bug fixes ðŸ§°
- `kubeletstats` receiver: Do not break down metrics batch (#754)
- `host` observer: Fix issue on darwin where ports listening on all interfaces are not correctly accounted for (#582)
- `newrelic` exporter: Fix panic on missing span status (#775)

## v0.8.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.8.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.8.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.
=======
### ðŸš€ New components ðŸš€

- `otlphttp` exporter which implements OTLP over HTTP protocol.

### ðŸ›‘ Breaking changes ðŸ›‘

- Rename consumer.TraceConsumer to consumer.TracesConsumer #1974
- Rename component.TraceReceiver to component.TracesReceiver #1975
- Rename component.TraceProcessor to component.TracesProcessor #1976
- Rename component.TraceExporter to component.TracesExporter #1975
- Move `tailsampling` processor to contrib (#2012)
- Remove NewAttributeValueSlice (#2028) and mark NewAttributeValue as deprecated (#2022)
- Remove pdata.StringValue (#2021)
- Remove pdata.InitFromAttributeMap, use CopyTo if needed (#2042)
- Remove SetMapVal and SetArrayVal for pdata.AttributeValue (#2039)

### ðŸš© Deprecations ðŸš©

- Deprecate NopExporter, add NopConsumer (#1972)
- Deprecate SinkExporter, add SinkConsumer (#1973)

### ðŸ’¡ Enhancements ðŸ’¡

- `zipkin` exporter: Add queue retry to zipkin (#1971)
- `prometheus` exporter: Add `send_timestamps` option (#1951)
- `filter` processor: Add `expr` pdata.Metric filtering support (#1940, #1996)
- `attribute` processor: Add log support (#1934)
- `logging` exporter: Add index for histogram buckets count (#2009)
- `otlphttp` exporter: Add correct handling of server error responses (#2016)
- `prometheusremotewrite` exporter:
  - Add user agent header to outgoing http request (#2000)
  - Convert histograms to cumulative (#2049)
  - Return permanent errors (#2053)
  - Add external labels (#2044)
- `hostmetrics` receiver: Use scraper controller (#1949)
- Change Span/Trace ID to be byte array (#2001)
- Add `simple` metrics helper to facilitate building pdata.Metrics in receivers (#1540)
- Improve diagnostic logging for exporters (#2020)
- Add obsreport to receiverhelper scrapers (#1961)
- Update OTLP to 0.6.0 and use the new Span Status code (#2031)
- Add support of partial requests for logs and metrics to the exporterhelper (#2059)

### ðŸ§° Bug fixes ðŸ§°

- `logging` exporter: Added array serialization (#1994)
- `zipkin` receiver: Allow receiver to parse string tags (#1893)
- `batch` processor: Fix shutdown race (#1967)
- Guard for nil data points (#2055)

## v0.13.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Host metric `system.disk.time` renamed to `system.disk.operation_time` (#1887)
- Use consumer for sender interface, remove unnecessary receiver address from Runner (#1941)
- Enable sending queue by default in all exporters configured to use it (#1924)
- Removed `groupbytraceprocessor` (#1891)
- Remove ability to configure collection interval per scraper (#1947)

### ðŸ’¡ Enhancements ðŸ’¡

- Host Metrics receiver now reports both `system.disk.io_time` and `system.disk.operation_time` (#1887)
- Match spans against the instrumentation library and resource attributes (#928)
- Add `receiverhelper` for creating flexible "scraper" metrics receiver (#1886, #1890, #1945, #1946)
- Migrate `tailsampling` processor to new OTLP-based internal data model and add Composite Sampler (#1894)
- Metadata Generator: Change Metrics fields to implement an interface with new methods (#1912)
- Add unmarshalling for `pdata.Traces` (#1948)
- Add debug-level message on error for `jaeger` exporter (#1964)

### ðŸ§° Bug fixes ðŸ§°

- Fix bug where the service does not correctly start/stop the log exporters (#1943)
- Fix Queued Retry Unusable without Batch Processor (#1813) - (#1930)
- `prometheus` receiver: Log error message when `process_start_time_seconds` gauge is missing (#1921)
- Fix trace jaeger conversion to internal traces zero time bug (#1957)
- Fix panic in otlp traces to zipkin (#1963)
- Fix OTLP/HTTP receiver's path to be /v1/traces (#1979)

## v0.12.0 Beta

### ðŸš€ New components ðŸš€

- `configauth` package with the auth settings that can be used by receivers (#1807, #1808, #1809, #1810)
- `perfcounters` package that uses perflib for host metrics receiver (#1835, #1836, #1868, #1869, #1870)

### ðŸ’¡ Enhancements ðŸ’¡

- Remove `queued_retry` and enable `otlp` metrics receiver in default config (#1823, #1838)
- Add `limit_percentage` and `spike_limit_percentage` options to `memorylimiter` processor (#1622)
- `hostmetrics` receiver:
  - Collect additional labels from partitions in the filesystems scraper (#1858)
  - Add filters for mount point and filesystem type (#1866)
- Add cloud.provider semantic conventions (#1865)
- `attribute` processor: Add log support (#1783)
- Introduce SpanID data type, not yet used in Protobuf messages ($1854, #1855)
- Enable `otlp` trace by default in the released docker image (#1883)
- `tailsampling` processor: Combine batches of spans into a single batch (#1864)
- `filter` processor: Update to use pdata (#1885)
- Allow MSI upgrades (#1914)

### ðŸš© Deprecations ðŸš©

- Deprecate OpenCensus-based internal data structures (#1843)

### ðŸ§° Bug fixes ðŸ§°

- `prometheus` receiver: Print a more informative message about 'up' metric value (#1826)
- Use custom data type and custom JSON serialization for traceid (#1840)
- Skip creation of redundant nil resource in translation from OC if there are no combined metrics (#1803)
- `tailsampling` processor: Only send to next consumer once (#1735)
- Report Windows pagefile usage in bytes (#1837)
- Fix issue where Prometheus SD config cannot be parsed (#1877)

## v0.11.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- Rename service.Start() to Run() since it's a blocking call
- Fix slice Append to accept by value the element in pdata
- Change CreateTraceProcessor and CreateMetricsProcessor to use the same parameter order as receivers/logs processor and exporters.
- Prevent accidental use of LogsToOtlp and LogsFromOtlp and the OTLP data structs (#1703)
- Remove SetType from configmodels, ensure all registered factories set the type in config (#1798)
- Move process telemetry to service/internal (#1794)

### ðŸ’¡ Enhancements ðŸ’¡

- Add map and array attribute value type support (#1656)
- Add authentication support to kafka (#1632)
- Implement InstrumentationLibrary translation to jaeger (#1645)
- Add public functions to export pdata to ExportXServicesRequest Protobuf bytes (#1741)
- Expose telemetry level in the configtelemetry (#1796)
- Add configauth package (#1807)
- Add config to docker image (#1792)

### ðŸ§° Bug fixes ðŸ§°

- Use zap int argument for int values instead of conversion (#1779)
- Add support for gzip encoded payload in OTLP/HTTP receiver (#1581)
- Return proto status for OTLP receiver when failed (#1788)

## v0.10.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- **Update OTLP to v0.5.0, incompatible metrics protocol.**
- Remove support for propagating summary metrics in OtelCollector.
  - This is a temporary change, and will affect mostly OpenCensus users who use metrics.

### ðŸ’¡ Enhancements ðŸ’¡

- Support zipkin proto in `kafka` receiver (#1646)
- Prometheus Remote Write Exporter supporting Cortex (#1577, #1643)
- Add deployment environment semantic convention (#1722)
- Add logs support to `batch` and `resource` processors (#1723, #1729)

### ðŸ§° Bug fixes ðŸ§°

- Identify config error when expected map is other value type (#1641)
- Fix Kafka receiver closing ready channel multiple times (#1696)
- Fix a panic issue while processing Zipkin spans with an empty service name (#1742)
- Zipkin Receiver: Always set the endtime (#1750)

## v0.9.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- **Remove old base factories**:
  - `ReceiverFactoryBase` (#1583)
  - `ProcessorFactoryBase` (#1596)
  - `ExporterFactoryBase` (#1630)
- Remove logs factories and merge with normal factories (#1569)
- Remove `reconnection_delay` from OpenCensus exporter (#1516)
- Remove `ConsumerOld` interfaces (#1631)

### ðŸš€ New components ðŸš€

- `prometheusremotewrite` exporter: Send metrics data in Prometheus TimeSeries format to Cortex or any Prometheus (#1544)
- `kafka` receiver: Receive traces from Kafka (#1410)

### ðŸ’¡ Enhancements ðŸ’¡

- `kafka` exporter: Enable queueing, retry, timeout (#1455)
- Add `Headers` field in HTTPClientSettings (#1552)
- Change OpenCensus receiver (#1556) and exporter (#1571) to the new interfaces
- Add semantic attribute for `telemetry.auto.version` (#1578)
- Add uptime and RSS memory self-observability metrics (#1549)
- Support conversion for OpenCensus `SameProcessAsParentSpan` (#1629)
- Access application version in components (#1559)
- Make Kafka payload encoding configurable (#1584)

### ðŸ§° Bug fixes ðŸ§°

- Stop further processing if `filterprocessor` filters all data (#1500)
- `processscraper`: Use same scrape time for all data points coming from same process (#1539)
- Ensure that time conversion for 0 returns nil timestamps or Time where IsZero returns true (#1550)
- Fix multiple exporters panic (#1563)
- Allow `attribute` processor for external use (#1574)
- Do not duplicate filesystem metrics for devices with many mount points (#1617)

## v0.8.0 Beta

### ðŸš€ New components ðŸš€

- `groupbytrace` processor that waits for a trace to be completed (#1362)

### ðŸ’¡ Enhancements ðŸ’¡

- Migrate `zipkin` receiver/exporter to the new interfaces (#1484)
- Migrate `prometheus` receiver/exporter to the new interfaces (#1477, #1515)
- Add new FactoryUnmarshaler support to all components, deprecate old way (#1468)
- Update `fileexporter` to write data in OTLP (#1488)
- Add extension factory helper (#1485)
- Host scrapers: Use same scrape time for all data points coming from same source (#1473)
- Make logs SeverityNumber publicly available (#1496)
- Add recently included conventions for k8s and container resources (#1519)
- Add new config StartTimeMetricRegex to `prometheus` receiver (#1511)
- Convert Zipkin receiver and exporter to use OTLP (#1446)

### ðŸ§° Bug fixes ðŸ§°

- Infer OpenCensus resource type based on OpenTelemetry's semantic conventions (#1462)
- Fix log adapter in `prometheus` receiver (#1493)
- Avoid frequent errors for process telemetry on Windows (#1487)

## v0.7.0 Beta
>>>>>>> upstream/main

### ðŸš€ New components ðŸš€

- Receivers
  - `prometheusexec` subprocess manager (##499)

### ðŸ’¡ Enhancements ðŸ’¡

- `signalfx` exporter
  - Add/Update metric translations (#579, #584, #639, #640, #652, #662)
  - Add support for calculate new metric translator (#644)
  - Add renaming rules for load metrics (#664)
  - Update `container.name` to `k8s.container.name` in default translation rule (#683)
  - Rename working-set and page-fault metrics (#679)
- `awsxray` exporter
  - Translate exception event into xray exception (#577)
  - Add ingestion of X-Ray segments via UDP (#502)
  - Parse Java stacktrace and populate in xray cause (#687)
- `kubeletstats` receiver
  - Add metric_groups option (#648)
  - Set datapoint timestamp in receiver (#661)
  - Change `container.name` label to `k8s.container.name` (#680)
  - Add working-set and page-fault metrics (#666)
  - Add basic support for volume metrics (#667)
- `stackdriver` trace exporter: Move to new interface and pdata (#486)
- `metricstranform` processor: Keep timeseries and points in order after aggregation (#663)
- `k8scluster` receiver: Change `container.spec.name` label to `k8s.container.name` (#681)
- Migrate receiver creator to internal data model (#701)
- Add ec2 support to `resourcedetection` processor (#587)
- Enable timeout, sending queue and retry for SAPM exporter (#707)

### ðŸ§° Bug fixes ðŸ§°

- `azuremonitor` exporter: Correct HTTP status code success mapping (#588)
- `k8scluster` receiver: Fix owner reference in metadata updates (#649)
- `awsxray` exporter: Fix handling of db system (#697)

### ðŸš€ New components ðŸš€

- Skeleton for AWS ECS container metrics receiver (#463)
- `prometheus_exec` receiver (#655)

## v0.7.0

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.7.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.7.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ›‘ Breaking changes ðŸ›‘

- `awsxray` receiver updated to support udp: `tcp_endpoint` config option renamed to `endpoint` (#497)
- TLS config changed for `sapmreceiver` (#488) and `signalfxreceiver` receivers (#488)

### ðŸš€ New components ðŸš€

- Exporters
  - `sentry` adds tracing exporter for [Sentry](https://sentry.io/) (#565)
- Extensions
  - `endpoints` observer: adds generic endpoint watcher (#427)
  - `host` observer: looks for listening network endpoints on host (#432)

### ðŸ’¡ Enhancements ðŸ’¡

- Update `honeycomb` exporter for v0.8.0 compatibility
- Extend `metricstransform` processor to be able to add a label to an existing metric (#441)
- Update `kubeletstats` metrics according to semantic conventions (#475)
- Updated `awsxray` receiver config to use udp (#497)
- Add `/pods` endpoint support in `kubeletstats` receiver to add extra labels (#569)
- Add metric translation options to `signalfx` exporter (#477, #501, #571, #573)

### ðŸ§° Bug fixes ðŸ§°

- `azuremonitor` exporter: Mark spanToEnvelope errors as permanent (#500)

## v0.6.0

<<<<<<< HEAD
# ðŸŽ‰ OpenTelemetry Collector Contrib v0.6.0 (Beta) ðŸŽ‰
=======
### ðŸ›‘ Breaking changes ðŸ›‘
>>>>>>> upstream/main

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.6.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

<<<<<<< HEAD
### ðŸ›‘ Breaking changes ðŸ›‘
=======
### ðŸ’¡ Enhancements ðŸ’¡
>>>>>>> upstream/main

- Removed `jaegarlegacy` (#397) and `zipkinscribe` receivers (#410)
- `kubeletstats` receiver: Renamed `k8s.pod.namespace` pod label to `k8s.namespace.name` and `k8s.container.name` container label to `container.name`

<<<<<<< HEAD
### ðŸš€ New components ðŸš€

- Processors
  - `metricstransform` renames/aggregates within individual metrics (#376) and allow changing the data type between int and float (#402)

### ðŸ’¡ Enhancements ðŸ’¡

- `awsxray` exporter: Use `peer.service` as segment name when set. (#385)
- `splunk` exporter: Add trace exports support (#359, #399)
- Build and publish Windows MSI (#408) and DEB/RPM Linux packages (#405)

### ðŸ§° Bug fixes ðŸ§°

- `kubeletstats` receiver:
  - Fixed NPE for newly created pods (#404)
  - Updated to latest change in the ReceiverFactoryOld interface (#401)
  - Fixed logging and self reported metrics (#357)
- `awsxray` exporter: Only convert SQL information for SQL databases. (#379)
- `resourcedetection` processor: Correctly obtain machine-type info from gce metadata (#395)
- `k8scluster` receiver: Fix container resource metrics (#416)

## v0.5.0

Released 01-07-2020

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.5.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.5.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸš€ New components ðŸš€

- Processors
  - `resourcedetection` to automatically detect the resource based on the configured set of detectors (#309)

### ðŸ’¡ Enhancements ðŸ’¡

- `kubeletstats` receiver: Support for ServiceAccount authentication (#324)
- `signalfx` exporter and receiver
  - Add SignalFx metric token passthrough and config option (#325)
  - Set default endpoint of `signalfx` receiver to `:9943` (#351)
- `awsxray` exporter: Support aws plugins EC2/ECS/Beanstalk (#343)
- `sapm` exporter and receiver: Add SAPM access token passthrough and config option (#349)
- `k8s` processor: Add metrics support (#358)
- `k8s` observer: Separate annotations from labels in discovered pods (#363)

### ðŸ§° Bug fixes ðŸ§°

- `honeycomb` exporter: Remove shared use of libhoney from goroutines (#305)

## v0.4.0

Released 17-06-2020

# ðŸŽ‰ OpenTelemetry Collector Contrib v0.4.0 (Beta) ðŸŽ‰

The OpenTelemetry Collector Contrib contains everything in the [opentelemetry-collector release](https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.4.0) (be sure to check the release notes here as well!). Check out the [Getting Started Guide](https://opentelemetry.io/docs/collector/getting-started/) for deployment and configuration information.

### ðŸ›‘ Breaking changes ðŸ›‘

  - `signalfx` exporter `url` parameter changed to `ingest_url` (no impact if only using `realm` setting)

### ðŸš€ New components ðŸš€

- Receivers
  - `receiver_creator` to create receivers at runtime (#145), add observer support to receiver_creator (#173), add rules support (#207), add dynamic configuration values (#235)
  - `kubeletstats` receiver (#237)
  - `prometheus_simple` receiver (#184)
  - `kubernetes-cluster` receiver (#175)
  - `redis` receiver (#138)
- Exporters
  - `alibabacloudlogservice` exporter (#259)
  - `SplunkHEC` metrics exporter (#246)
  - `elastic` APM exporter (#240)
  - `newrelic` exporter (#229)
- Extensions
  - `k8s` observer (#185)

### ðŸ’¡ Enhancements ðŸ’¡

- `awsxray` exporter
  - Use X-Ray convention of segment name == service name (#282)
  - Tweak xray export to improve rendering of traces and improve parity (#241)
  - Add handling for spans received with nil attributes (#212)
- `honeycomb` exporter
  - Use SendPresampled (#291)
  - Add span attributes as honeycomb event fields (#271)
  - Support resource labels in Honeycomb exporter (#20)
- `k8s` processor
  - Add support of Pod UID extraction to k8sprocessor (#219)
  - Use `k8s.pod.ip` to record resource IP instead of just `ip` (#183)
  - Support same authentication mechanism as other kubernetes components do (#307)
- `sapm` exporter: Add TLS for SAPM and SignalFx receiver (#215)
- `signalfx` exporter
  - Add metric metadata syncer to SignalFx exporter (#231)
  - Add TLS for SAPM and SignalFx receiver (#215)
- `stackdriver` exporter: Add support for resource mapping in config (#163)

### ðŸ§° Bug fixes ðŸ§°

- `awsxray` exporter: Wrap bad request errors for proper handling by retry queue (#205)
- `lightstep` exporter: Ensure Lightstep exporter doesnt crash on nil node (#250)
- `sapm` exporter: Do not break Jaeger traces before sending downstream (#193)
- `k8s` processor: Ensure Jaeger spans work in passthrough mode (262)
=======
### ðŸ§° Bug fixes ðŸ§°

- Fixed OTLP waitForReady, not set from config (#1254)
- Fixed all translation diffs between OTLP and Jaeger (#1222)
- Disabled `process` scraper for any non Linux/Windows OS (#1328)

## v0.5.0 Beta

### ðŸ›‘ Breaking changes ðŸ›‘

- **Update OTLP to v0.4.0 (#1142)**: Collector will be incompatible with any other sender or receiver of OTLP protocol
  of different versions
- Make "--new-metrics" command line flag the default (#1148)
- Change `endpoint` to `url` in Zipkin exporter config (#1186)
- Change `tls_credentials` to `tls_settings` in Jaegar receiver config (#1233)
- OTLP receiver config change for `protocols` to support mTLS (#1223)
- Remove `export_resource_labels` flag from Zipkin exporter (#1163)

### ðŸš€ New components ðŸš€

- Receivers
  - Added process scraper to the `hostmetrics` receiver (#1047)

### ðŸ’¡ Enhancements ðŸ’¡

- otlpexporter: send configured headers in request (#1130)
- Enable Collector to be run as a Windows service (#1120)
- Add config for HttpServer (#1196)
- Allow cors in HTTPServerSettings (#1211)
- Add a generic grpc server settings config, cleanup client config (#1183)
- Rely on gRPC to batch and loadbalance between connections instead of custom logic (#1212)
- Allow to tune the read/write buffers for gRPC clients (#1213)
- Allow to tune the read/write buffers for gRPC server (#1218)

### ðŸ§° Bug fixes ðŸ§°

- Handle overlapping metrics from different jobs in prometheus exporter (#1096)
- Fix handling of SpanKind INTERNAL in OTLP OC translation (#1143)
- Unify zipkin v1 and v2 annotation/tag parsing logic (#1002)
- mTLS: Add support to configure client CA and enforce ClientAuth (#1185)
- Fixed untyped Prometheus receiver bug (#1194)
- Do not embed ProtocolServerSettings in gRPC (#1210)
- Add Context to the missing CreateMetricsReceiver method (#1216)

## v0.4.0 Beta

Released 2020-06-16

### ðŸ›‘ Breaking changes ðŸ›‘

- `isEnabled` configuration option removed (#909)
- `thrift_tchannel` protocol moved from `jaeger` receiver to `jaeger_legacy` in contrib (#636)

### âš ï¸ Major changes âš ï¸

- Switch from `localhost` to `0.0.0.0` by default for all receivers (#1006)
- Internal API Changes (only impacts contributors)
  - Add context to `Start` and `Stop` methods in the component (#790)
  - Rename `AttributeValue` and `AttributeMap` method names (#781)
    (other breaking changes in the internal trace data types)
  - Change entire repo to use the new vanityurl go.opentelemetry.io/collector (#977)

### ðŸš€ New components ðŸš€

- Receivers
  - `hostmetrics` receiver with CPU (#862), disk (#921), load (#974), filesystem (#926), memory (#911), network (#930), and virtual memory (#989) support
- Processors
  - `batch` for batching received metrics (#1060)
  - `filter` for filtering (dropping) received metrics (#1001)

### ðŸ’¡ Enhancements ðŸ’¡

- `otlp` receiver implement HTTP X-Protobuf (#1021)
- Exporters: Support mTLS in gRPC exporters (#927)
- Extensions: Add `zpages` for service (servicez, pipelinez, extensions) (#894)

### ðŸ§° Bug fixes ðŸ§°

- Add missing logging for metrics at `debug` level (#1108)
- Fix setting internal status code in `jaeger` receivers (#1105)
- `zipkin` export fails on span without timestamp when used with `queued_retry` (#1068)
- Fix `zipkin` receiver status code conversion (#996)
- Remove extra send/receive annotations with using `zipkin` v1 (#960)
- Fix resource attribute mutation bug when exporting in `jaeger` proto (#907)
- Fix metric/spans count, add tests for nil entries in the slices (#787)

### ðŸ§© Components ðŸ§©
>>>>>>> upstream/main

#### Traces

<<<<<<< HEAD
### Receivers

|       Traces        |      Metrics      |
| :-----------------: | :---------------: |
|    Jaeger Legacy    |      Carbon       |
| SAPM (SignalFx APM) |     Collectd      |
|    Zipkin Scribe    |    K8s Cluster    |
|                     |       Redis       |
|                     |     SignalFx      |
|                     | Simple Prometheus |
|                     |     Wavefront     |

### Processors

- K8s

### Exporters

|        Commercial         |   Community   |
| :-----------------------: | :-----------: |
| Alibaba Cloud Log Service |    Carbon     |
|         AWS X-ray         |    Elastic    |
|       Azure Monitor       | Jaeger Thrift |
|         Honeycomb         |    Kinesis    |
|         Lightstep         |
|         New Relic         |
|    SAPM (SignalFx APM)    |
|    SignalFx (Metrics)     |
|        Splunk HEC         |
|   Stackdriver (Google)    |

### Extensions

- Observer
  - K8s
=======
| Receivers  |   Processors   | Exporters  |
|:----------:|:--------------:|:----------:|
|   Jaeger   |   Attributes   |    File    |
| OpenCensus |     Batch      |   Jaeger   |
|    OTLP    | Memory Limiter |  Logging   |
|   Zipkin   |  Queued Retry  | OpenCensus |
|            |    Resource    |    OTLP    |
|            |    Sampling    |   Zipkin   |
|            |      Span      |            |

#### Metrics

|  Receivers  |   Processors   | Exporters  |
|:-----------:|:--------------:|:----------:|
| HostMetrics |     Batch      |    File    |
| OpenCensus  |     Filter     |  Logging   |
|    OTLP     | Memory Limiter | OpenCensus |
| Prometheus  |                |    OTLP    |
| VM Metrics  |                | Prometheus |

#### Extensions

- Health Check
- Performance Profiler
- zPages
>>>>>>> upstream/main

## v0.3.0 Beta

Released 2020-03-30

### Breaking changes

<<<<<<< HEAD
-  Make prometheus receiver config loading strict. #697
Prometheus receiver will now fail fast if the config contains unused keys in it.
=======
- Make prometheus receiver config loading strict. #697
  Prometheus receiver will now fail fast if the config contains unused keys in it.
>>>>>>> upstream/main

### Changes and fixes

- Enable best effort serve by default of Prometheus Exporter (https://github.com/orijtech/prometheus-go-metrics-exporter/pull/6)
- Fix null pointer exception in the logging exporter #743
- Remove unnecessary condition to have at least one processor #744
<<<<<<< HEAD
- Updated Honeycomb exported to `honeycombio/opentelemetry-exporter-go v0.3.1`
=======
>>>>>>> upstream/main

### Features

<<<<<<< HEAD
Receivers / Exporters:

* AWS X-Ray
* Carbon
* CollectD
* Honeycomb
* Jaeger
* Kinesis
* LightStep
* OpenCensus
* OpenTelemetry
* SAPM
* SignalFx
* Stackdriver
* Wavefront
* Zipkin
* Zipkin Scribe

=======
| Receivers / Exporters |   Processors   |      Extensions      |
|:---------------------:|:--------------:|:--------------------:|
|        Jaeger         |   Attributes   |     Health Check     |
|      OpenCensus       |     Batch      | Performance Profiler |
|     OpenTelemetry     | Memory Limiter |        zPages        |
|        Zipkin         |  Queued Retry  |                      |
|                       |    Resource    |                      |
|                       |    Sampling    |                      |
|                       |      Span      |                      |
>>>>>>> upstream/main

Processors:

* Attributes
* Batch
* Memory Limiter
* Queued Retry
* Resource
* Sampling
* Span
* Kubernetes

Extensions:

* Health Check
* Performance Profiler
* zPages


## v0.2.8

Released 2020-03-25

Alpha v0.2.8 of OpenTelemetry Collector Contrib.

- Implemented OTLP receiver and exporter.
- Added ability to pass config to the service programmatically (useful for custom builds).
- Improved own metrics / observability.
<<<<<<< HEAD

=======
- Refactored component and factory interface definitions (breaking change #683)
>>>>>>> upstream/main

## v0.2.7

Released 2020-03-17

### Self-Observability
- New command-line switch to control legacy and new metrics. Users are encouraged
to experiment and migrate to the new metrics.
- Improved error handling on shutdown.

<<<<<<< HEAD

### Processors
- Fixed passthrough mode k8sprocessor.
- Added `HASH` action to attribute processor.

### Receivers and Exporters
- Added Honeycomb exporter.
- Added LightStep exporter.
- Added regular expression for Carbon receiver, allowing the metric name to be broken into proper label keys and values.
- Updated Stackdriver exporter to use a new batch API.


## v0.2.6 Alpha

Released 2020-02-18

### Self-Observability
- Updated metrics prefix to `otelcol` and expose command line argument to modify the prefix value.
- Batch dropped span now emits zero when no spans are dropped.

### Processors
- Extended Span processor to have include/exclude span logic.
- Ability to choose strict or regexp matching for include/exclude filters.

### Receivers and Exporters
- Added Carbon receiver and exporter.
- Added Wavefront receiver.

=======
## v0.2.6 Alpha

Alpha v0.2.6 of OpenTelemetry Collector.

- Update metrics prefix to `otelcol` and expose command line argument to modify the prefix value.
- Extend Span processor to have include/exclude span logic.
- Batch dropped span now emits zero when no spans are dropped.

## v0.2.5 Alpha

Alpha v0.2.5 of OpenTelemetry Collector.

- Regexp-based filtering of spans based on service names.
- Ability to choose strict or regexp matching for include/exclude filters.

## v0.2.4 Alpha
>>>>>>> upstream/main

## v0.0.5 Alpha

Released 2020-01-30

- Regexp-based filtering of span names.
- Ability to extract attributes from span names and rename span.
- File exporter for debugging.
- Span processor is now enabled by default.

<<<<<<< HEAD
=======
## v0.2.3 Alpha

Alpha v0.2.3 of OpenTelemetry Collector.

Changes:
21a70d6 Add a memory limiter processor (#498)
9778b16 Refactor Jaeger Receiver config (#490)
ec4ad0c Remove workers from OpenCensus receiver implementation (#497)
4e01fa3 Update k8s config to use opentelemetry docker image and configuration (#459)

## v0.2.2 Alpha

Alpha v0.2.2 of OpenTelemetry Collector.

Main changes visible to users since previous release:

- Improved Testbed and added more E2E tests.
- Made component interfaces more uniform (this is a breaking change).

Note: v0.2.1 never existed and is skipped since it was tainted in some dependencies.

## v0.2.0 Alpha

Alpha v0.2 of OpenTelemetry Collector.

Docker image: omnition/opentelemetry-collector:v0.2.0 (we are working on getting this under an OpenTelemetry org)

Main changes visible to users since previous release:

- Rename from `service` to `collector`, the binary is now named `otelcol`

- Configuration reorganized and using strict mode

- Concurrency issues for pipelines transforming data addressed

Commits:

```terminal
0e505d5 Refactor config: pipelines now under service (#376)
402b80c Add Capabilities to Processor and use for Fanout cloning decision (#374)
b27d824 Use strict mode to read config (#375)
d769eb5 Fix concurrency handling when data is fanned out (#367)
dc6b290 Rename all github paths from opentelemtry-service to opentelemetry-collector (#371)
d038801 Rename otelsvc to otelcol (#365)
c264e0e Add Include/Exclude logic for Attributes Processor (#363)
8ce427a Pin a commit for Prometheus dependency in go.mod (#364)
2393774 Bump Jaeger version to 1.14.0 (latest) (#349)
63362d5 Update testbed modules (#360)
c0e2a27 Change dashes to underscores to separate words in config files (#357)
7609eaa Rename OpenTelemetry Service to Collector in docs and comments (#354)
bc5b299 Add common gRPC configuration settings (#340)
b38505c Remove network access popups on macos (#348)
f7727d1 Fixed loop variable pointer bug in jaeger translator (#341)
958beed Ensure that ConsumeMetricsData() is not passed empty metrics in the Prometheus receiver (#345)
0be295f Change log statement in Prometheus receiver from info to debug. (#344)
d205393 Add Owais to codeowners (#339)
8fa6afe Translate OC resource labels to Jaeger process tags (#325)
```

## v0.0.2 Alpha

Alpha release of OpenTelemetry Service.

Docker image: omnition/opentelemetry-service:v0.0.2 (we are working on getting this under an OpenTelemetry org)

Main changes visible to users since previous release:

```terminal
8fa6afe Translate OC resource labels to Jaeger process tags (#325)
047b0f3 Allow environment variables in config (#334)
96c24a3 Add exclude/include spans option to attributes processor (#311)
4db0414 Allow metric processors to be specified in pipelines (#332)
c277569 Add observability instrumentation for Prometheus receiver (#327)
f47aa79 Add common configuration for receiver tls (#288)
a493765 Refactor extensions to new config format (#310)
41a7afa Add Span Processor logic
97a71b3 Use full name for the metrics and spans created for observability (#316)
fed4ed2 Add support to record metrics for metricsexporter (#315)
5edca32 Add include_filter configuration to prometheus receiver (#298)
0068d0a Passthrough CORS allowed origins (#260)
```

>>>>>>> upstream/main
## v0.0.1 Alpha

Released 2020-01-11

First release of OpenTelemetry Collector Contrib.

<<<<<<< HEAD

[v0.3.0]: https://github.com/open-telemetry/opentelemetry-collector-contrib/compare/v0.2.8...v0.3.0
[v0.2.8]: https://github.com/open-telemetry/opentelemetry-collector-contrib/compare/v0.2.7...v0.2.8
[v0.2.7]: https://github.com/open-telemetry/opentelemetry-collector-contrib/compare/v0.2.6...v0.2.7
[v0.2.6]: https://github.com/open-telemetry/opentelemetry-collector-contrib/compare/v0.0.5...v0.2.6
[v0.0.5]: https://github.com/open-telemetry/opentelemetry-collector-contrib/compare/v0.0.1...v0.0.5
[v0.0.1]: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/v0.0.1
=======
[v0.3.0]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.10...v0.3.0
[v0.2.10]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.8...v0.2.10
[v0.2.8]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.7...v0.2.8
[v0.2.7]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.6...v0.2.7
[v0.2.6]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.5...v0.2.6
[v0.2.5]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.4...v0.2.5
[v0.2.4]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.3...v0.2.4
[v0.2.3]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.2...v0.2.3
[v0.2.2]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.2.0...v0.2.2
[v0.2.0]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.0.2...v0.2.0
[v0.0.2]: https://github.com/open-telemetry/opentelemetry-collector/compare/v0.0.1...v0.0.2
[v0.0.1]: https://github.com/open-telemetry/opentelemetry-collector/tree/v0.0.1
>>>>>>> upstream/main
